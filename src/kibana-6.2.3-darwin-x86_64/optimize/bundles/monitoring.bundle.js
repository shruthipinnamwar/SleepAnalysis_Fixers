webpackJsonp([4],{1307:function(module,exports,__webpack_require__){"use strict";function extractIp(transport){if("string"!=typeof transport)return null;var matches=transport.match(/inet\[[^\/]*\/([^\/\]]+)\]/);return matches?matches[1]:transport}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractIp=extractIp},1308:function(module,exports,__webpack_require__){"use strict";function formatDateTimeLocal(date){return _momentTimezone2.default.tz(date,_momentTimezone2.default.tz.guess()).format("LL LTS")}function shortenPipelineHash(hash){return hash.substr(0,6)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LARGE_ABBREVIATED=exports.SMALL_BYTES=exports.LARGE_BYTES=exports.SMALL_FLOAT=exports.LARGE_FLOAT=void 0,exports.formatDateTimeLocal=formatDateTimeLocal,exports.shortenPipelineHash=shortenPipelineHash;var _momentTimezone=__webpack_require__(113),_momentTimezone2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_momentTimezone);exports.LARGE_FLOAT="0,0.[00]",exports.SMALL_FLOAT="0.[00]",exports.LARGE_BYTES="0,0.0 b",exports.SMALL_BYTES="0.0 b",exports.LARGE_ABBREVIATED="0,0.[0]a"},1327:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sparkline=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(7),_propTypes2=_interopRequireDefault(_propTypes),_sparkline_flot_chart=__webpack_require__(4100);(exports.Sparkline=function(_React$Component){function Sparkline(props){_classCallCheck(this,Sparkline);var _this=_possibleConstructorReturn(this,(Sparkline.__proto__||Object.getPrototypeOf(Sparkline)).call(this,props));return _this.makeSparklineFlotChart=_this.makeSparklineFlotChart.bind(_this),_this.onHover=_this.onHover.bind(_this),_this.renderTooltip=_this.renderTooltip.bind(_this),_this.handleSparklineRef=_this.handleSparklineRef.bind(_this),_this.state={tooltip:void 0},_this}return _inherits(Sparkline,_React$Component),_createClass(Sparkline,[{key:"componentWillReceiveProps",value:function(_ref){var series=_ref.series,options=_ref.options;(0,_lodash.isEqual)(options,this.props.options)||(this.sparklineFlotChart.shutdown(),this.makeSparklineFlotChart(options)),(0,_lodash.isEqual)(series,this.props.series)||this.sparklineFlotChart.update(series)}},{key:"makeSparklineFlotChart",value:function(overrideFlotOptions){this.sparklineFlotChart=new _sparkline_flot_chart.SparklineFlotChart(this.chartElem,this.props.series,this.props.onBrush,this.onHover,overrideFlotOptions)}},{key:"onHover",value:function(dataPoint){this.setState({tooltip:dataPoint})}},{key:"renderTooltip",value:function(){if(!1!==this.props.tooltip.enabled&&this.state.tooltip){var styles={tooltipContainer:{top:this.state.tooltip.yPosition-18},tooltip:{height:36,width:220},leftCaret:{width:6},rightCaret:{width:6}},plotMiddleX=this.state.tooltip.plotLeft+this.state.tooltip.plotWidth/2;return this.state.tooltip.xPosition>plotMiddleX?(styles.rightCaret.display="block",styles.tooltipContainer.left=this.state.tooltip.xPosition-226-10):(styles.leftCaret.display="block",styles.tooltipContainer.left=this.state.tooltip.xPosition+10),_react2.default.createElement("div",{className:"sparklineTooltipContainer",style:styles.tooltipContainer},_react2.default.createElement("i",{className:"fa fa-caret-left sparklineTooltipCaret",style:styles.leftCaret}),_react2.default.createElement("div",{className:"sparklineTooltip",style:styles.tooltip},_react2.default.createElement("div",{className:"sparklineTooltip__yValue"},this.props.tooltip.yValueFormatter(this.state.tooltip.yValue)),_react2.default.createElement("div",{className:"sparklineTooltip__xValue"},this.props.tooltip.xValueFormatter(this.state.tooltip.xValue))),_react2.default.createElement("i",{className:"fa fa-caret-right sparklineTooltipCaret",style:styles.rightCaret}))}}},{key:"handleSparklineRef",value:function(elem){this.chartElem=elem,this.chartElem?this.makeSparklineFlotChart(this.props.options):this.sparklineFlotChart&&this.sparklineFlotChart.shutdown()}},{key:"render",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"sparkline",ref:this.handleSparklineRef}),this.renderTooltip())}}]),Sparkline}(_react2.default.Component)).propTypes={series:_propTypes2.default.arrayOf(_propTypes2.default.arrayOf(_propTypes2.default.number)).isRequired,tooltip:_propTypes2.default.shape({enabled:_propTypes2.default.bool,xValueFormatter:_propTypes2.default.func,yValueFormatter:_propTypes2.default.func}),options:_propTypes2.default.shape({xaxis:_propTypes2.default.shape({min:_propTypes2.default.number,max:_propTypes2.default.number})})}},1328:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormattedMessage(_ref){var prefix=_ref.prefix,suffix=_ref.suffix,message=_ref.message,metadata=_ref.metadata,changeUrl=_ref.changeUrl,formattedMessage=function(){if(metadata&&metadata.link){if(metadata.link.startsWith("https"))return _react2.default.createElement("a",{className:"kuiLink",href:metadata.link,target:"_blank",rel:"noopener noreferrer","data-test-subj":"alertAction"},message);var goToLink=function(){return changeUrl("/"+metadata.link)};return _react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:goToLink,"data-test-subj":"alertAction"},message))}return message}();metadata&&metadata.time&&(prefix=prefix.replace(/{{#relativeTime}}metadata\.([\w\.]+){{\/relativeTime}}/,function(_match,field){return(0,_monitoringCommon.formatTimestampToDuration)(metadata[field],_monitoringConstants.CALCULATE_DURATION_UNTIL)}),prefix=prefix.replace(/{{#absoluteTime}}metadata\.([\w\.]+){{\/absoluteTime}}/,function(_match,field){return _momentTimezone2.default.tz(metadata[field],_momentTimezone2.default.tz.guess()).format("LLL z")}));var formattedPrefix=prefix?prefix+" ":null,formattedSuffix=suffix?" "+suffix:null;return _react2.default.createElement("span",{"data-test-subj":"alertText"},formattedPrefix,formattedMessage,formattedSuffix)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FormattedMessage=FormattedMessage;var _momentTimezone=__webpack_require__(113),_momentTimezone2=_interopRequireDefault(_momentTimezone);__webpack_require__(530);var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_components=__webpack_require__(17),_monitoringCommon=__webpack_require__(537),_monitoringConstants=__webpack_require__(49)},1329:function(module,exports,__webpack_require__){"use strict";function ElasticsearchStatusIcon(_ref){var status=_ref.status,type=function(){var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.GRAY}();return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:"Health: "+status})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElasticsearchStatusIcon=ElasticsearchStatusIcon;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_status_icon=__webpack_require__(538)},1330:function(module,exports,__webpack_require__){"use strict";function NodeStatusIcon(_ref){var status=_ref.status,type="Online"===status?_status_icon.StatusIcon.TYPES.GREEN:_status_icon.StatusIcon.TYPES.GRAY;return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:"Health: "+status})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeStatusIcon=NodeStatusIcon;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_status_icon=__webpack_require__(538)},1331:function(module,exports,__webpack_require__){"use strict";function KibanaStatusIcon(_ref){var status=_ref.status,_ref$availability=_ref.availability,availability=void 0===_ref$availability||_ref$availability,type=function(){if(!availability)return _status_icon.StatusIcon.TYPES.GRAY;var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.YELLOW}();return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:"Health: "+status})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.KibanaStatusIcon=KibanaStatusIcon;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_status_icon=__webpack_require__(538)},1332:function(module,exports,__webpack_require__){"use strict";function decorateShards(shards,nodes){function getTooltipMessage(shard){var isRelocating=function(node){return(0,_lodash.includes)(node.node_ids,shard.relocating_node)},nodeName=(0,_lodash.get)((0,_lodash.find)(nodes,function(n){return isRelocating(n)}),"name");if(nodeName){if("INITIALIZING"===shard.state)return"Relocating from "+nodeName;if("RELOCATING"===shard.state)return"Relocating to "+nodeName}return(0,_lodash.capitalize)(shard.state.toLowerCase())}return shards.map(function(shard){var node=nodes[shard.resolver];return shard.nodeName=node&&node.name||null,shard.type="shard",shard.tooltip_message=getTooltipMessage(shard),shard})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.decorateShards=decorateShards;var _lodash=__webpack_require__(0)},1333:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Shard=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_calculateClass=__webpack_require__(1334),_vents=__webpack_require__(4146);(exports.Shard=function(_React$Component){function Shard(){var _ref,_temp,_this,_ret;_classCallCheck(this,Shard);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=Shard.__proto__||Object.getPrototypeOf(Shard)).call.apply(_ref,[this].concat(args))),_this.state={tooltipVisible:!1},_this.generateKey=function(relocating){var shard=_this.props.shard,shardType=shard.primary?"primary":"replica",additionId="UNASSIGNED"===shard.state?Math.random():"",node=relocating?shard.relocating_node:shard.node;return shard.index+"."+node+"."+shardType+"."+shard.shard+additionId},_this.toggle=function(event){if(_this.props.shard.tooltip_message){var action="mouseenter"===event.type?"show":"hide",key=_this.generateKey(!0);_this.setState({tooltipVisible:"show"===action}),_vents.vents.trigger(key,action)}},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(Shard,_React$Component),_createClass(Shard,[{key:"componentDidMount",value:function(){var key=void 0,self=this;this.props.shard.tooltip_message&&(key=this.generateKey(),_vents.vents.on(key,function(action){self.setState({tooltipVisible:"show"===action})}))}},{key:"componentWillUnmount",value:function(){var key=void 0;this.props.shard.tooltip_message&&(key=this.generateKey(),_vents.vents.clear(key))}},{key:"render",value:function(){var shard=this.props.shard,tooltip=void 0;this.state.tooltipVisible&&(tooltip=_react2.default.createElement("div",{className:"shard-tooltip","data-test-subj":"shardTooltip","data-tooltip-content":this.props.shard.tooltip_message},this.props.shard.tooltip_message));var classes=(0,_calculateClass.calculateClass)(shard),classification=classes+" "+shard.shard;return _react2.default.createElement("div",{onMouseEnter:this.toggle,onMouseLeave:this.toggle,className:classes,"data-shard-tooltip":this.props.shard.tooltip_message,"data-shard-classification":classification,"data-test-subj":"shardIcon"},tooltip,shard.shard)}}]),Shard}(_react2.default.Component)).displayName="Shard"},1334:function(module,exports,__webpack_require__){"use strict";function calculateClass(item,initial){var classes=[item.type];return initial&&classes.push(initial),"shard"===item.type&&(classes.push(item.primary&&"primary"||"replica"),classes.push(item.state.toLowerCase()),"UNASSIGNED"===item.state&&item.primary&&classes.push("emergency")),item.master&&classes.push("master"),classes.join(" ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateClass=calculateClass},1335:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"ad8bf7c645b85923d0ffa8e0a5a926e0.svg"},1336:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"0db73ed585dad9085a1258af1acd11b4.svg"},1337:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"2d849bdfebcdd45cd620cb3dde289007.svg"},1338:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"58d1156276e82458dae9756614e96899.svg"},1339:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueueVertex=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_vertex=__webpack_require__(781),_queue=__webpack_require__(1340),_queue2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_queue);exports.QueueVertex=function(_Vertex){function QueueVertex(){return _classCallCheck(this,QueueVertex),_possibleConstructorReturn(this,(QueueVertex.__proto__||Object.getPrototypeOf(QueueVertex)).apply(this,arguments))}return _inherits(QueueVertex,_Vertex),_createClass(QueueVertex,[{key:"typeString",get:function(){return"queue"}},{key:"title",get:function(){return"queue"}},{key:"icon",get:function(){return _queue2.default}}]),QueueVertex}(_vertex.Vertex)},1340:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"744e93515eb75dfd98add1274a85e938.svg"},1341:function(module,exports,__webpack_require__){"use strict";function toGroups(modules,group,groups){modules.forAll(function(m){if(m.isLeaf())group.leaves||(group.leaves=[]),group.leaves.push(m.id);else{var g=group;if(m.gid=groups.length,!m.isIsland()||m.isPredefined()){if(g={id:m.gid},m.isPredefined())for(var prop in m.definition)g[prop]=m.definition[prop];group.groups||(group.groups=[]),group.groups.push(m.gid),groups.push(g)}toGroups(m.children,g,groups)}})}function intersection(m,n){var i={};for(var v in m)v in n&&(i[v]=m[v]);return i}function getGroups(nodes,links,la,rootGroup){for(var n=nodes.length,c=new Configuration(n,links,la,rootGroup);c.greedyMerge(););var powerEdges=[],g=c.getGroupHierarchy(powerEdges);return powerEdges.forEach(function(e){var f=function(end){var g=e[end];"number"==typeof g&&(e[end]=nodes[g])};f("source"),f("target")}),{groups:g,powerEdges:powerEdges}}Object.defineProperty(exports,"__esModule",{value:!0});var PowerEdge=function(){function PowerEdge(source,target,type){this.source=source,this.target=target,this.type=type}return PowerEdge}();exports.PowerEdge=PowerEdge;var Configuration=function(){function Configuration(n,edges,linkAccessor,rootGroup){var _this=this;if(this.linkAccessor=linkAccessor,this.modules=new Array(n),this.roots=[],rootGroup)this.initModulesFromGroup(rootGroup);else{this.roots.push(new ModuleSet);for(var i=0;i<n;++i)this.roots[0].add(this.modules[i]=new Module(i))}this.R=edges.length,edges.forEach(function(e){var s=_this.modules[linkAccessor.getSourceIndex(e)],t=_this.modules[linkAccessor.getTargetIndex(e)],type=linkAccessor.getType(e);s.outgoing.add(type,t),t.incoming.add(type,s)})}return Configuration.prototype.initModulesFromGroup=function(group){var moduleSet=new ModuleSet;this.roots.push(moduleSet);for(var i=0;i<group.leaves.length;++i){var node=group.leaves[i],module=new Module(node.id);this.modules[node.id]=module,moduleSet.add(module)}if(group.groups)for(var j=0;j<group.groups.length;++j){var child=group.groups[j],definition={};for(var prop in child)"leaves"!==prop&&"groups"!==prop&&child.hasOwnProperty(prop)&&(definition[prop]=child[prop]);moduleSet.add(new Module(-1-j,new LinkSets,new LinkSets,this.initModulesFromGroup(child),definition))}return moduleSet},Configuration.prototype.merge=function(a,b,k){void 0===k&&(k=0);var inInt=a.incoming.intersection(b.incoming),outInt=a.outgoing.intersection(b.outgoing),children=new ModuleSet;children.add(a),children.add(b);var m=new Module(this.modules.length,outInt,inInt,children);this.modules.push(m);var update=function(s,i,o){s.forAll(function(ms,linktype){ms.forAll(function(n){var nls=n[i];nls.add(linktype,m),nls.remove(linktype,a),nls.remove(linktype,b),a[o].remove(linktype,n),b[o].remove(linktype,n)})})};return update(outInt,"incoming","outgoing"),update(inInt,"outgoing","incoming"),this.R-=inInt.count()+outInt.count(),this.roots[k].remove(a),this.roots[k].remove(b),this.roots[k].add(m),m},Configuration.prototype.rootMerges=function(k){void 0===k&&(k=0);for(var rs=this.roots[k].modules(),n=rs.length,merges=new Array(n*(n-1)),ctr=0,i=0,i_=n-1;i<i_;++i)for(var j=i+1;j<n;++j){var a=rs[i],b=rs[j];merges[ctr]={id:ctr,nEdges:this.nEdges(a,b),a:a,b:b},ctr++}return merges},Configuration.prototype.greedyMerge=function(){for(var i=0;i<this.roots.length;++i)if(!(this.roots[i].modules().length<2)){var ms=this.rootMerges(i).sort(function(a,b){return a.nEdges==b.nEdges?a.id-b.id:a.nEdges-b.nEdges}),m=ms[0];if(!(m.nEdges>=this.R))return this.merge(m.a,m.b,i),!0}},Configuration.prototype.nEdges=function(a,b){var inInt=a.incoming.intersection(b.incoming),outInt=a.outgoing.intersection(b.outgoing);return this.R-inInt.count()-outInt.count()},Configuration.prototype.getGroupHierarchy=function(retargetedEdges){var _this=this,groups=[],root={};return toGroups(this.roots[0],root,groups),this.allEdges().forEach(function(e){var a=_this.modules[e.source],b=_this.modules[e.target];retargetedEdges.push(new PowerEdge(void 0===a.gid?e.source:groups[a.gid],void 0===b.gid?e.target:groups[b.gid],e.type))}),groups},Configuration.prototype.allEdges=function(){var es=[];return Configuration.getEdges(this.roots[0],es),es},Configuration.getEdges=function(modules,es){modules.forAll(function(m){m.getEdges(es),Configuration.getEdges(m.children,es)})},Configuration}();exports.Configuration=Configuration;var Module=function(){function Module(id,outgoing,incoming,children,definition){void 0===outgoing&&(outgoing=new LinkSets),void 0===incoming&&(incoming=new LinkSets),void 0===children&&(children=new ModuleSet),this.id=id,this.outgoing=outgoing,this.incoming=incoming,this.children=children,this.definition=definition}return Module.prototype.getEdges=function(es){var _this=this;this.outgoing.forAll(function(ms,edgetype){ms.forAll(function(target){es.push(new PowerEdge(_this.id,target.id,edgetype))})})},Module.prototype.isLeaf=function(){return 0===this.children.count()},Module.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},Module.prototype.isPredefined=function(){return void 0!==this.definition},Module}();exports.Module=Module;var ModuleSet=function(){function ModuleSet(){this.table={}}return ModuleSet.prototype.count=function(){return Object.keys(this.table).length},ModuleSet.prototype.intersection=function(other){var result=new ModuleSet;return result.table=intersection(this.table,other.table),result},ModuleSet.prototype.intersectionCount=function(other){return this.intersection(other).count()},ModuleSet.prototype.contains=function(id){return id in this.table},ModuleSet.prototype.add=function(m){this.table[m.id]=m},ModuleSet.prototype.remove=function(m){delete this.table[m.id]},ModuleSet.prototype.forAll=function(f){for(var mid in this.table)f(this.table[mid])},ModuleSet.prototype.modules=function(){var vs=[];return this.forAll(function(m){m.isPredefined()||vs.push(m)}),vs},ModuleSet}();exports.ModuleSet=ModuleSet;var LinkSets=function(){function LinkSets(){this.sets={},this.n=0}return LinkSets.prototype.count=function(){return this.n},LinkSets.prototype.contains=function(id){var result=!1;return this.forAllModules(function(m){result||m.id!=id||(result=!0)}),result},LinkSets.prototype.add=function(linktype,m){(linktype in this.sets?this.sets[linktype]:this.sets[linktype]=new ModuleSet).add(m),++this.n},LinkSets.prototype.remove=function(linktype,m){var ms=this.sets[linktype];ms.remove(m),0===ms.count()&&delete this.sets[linktype],--this.n},LinkSets.prototype.forAll=function(f){for(var linktype in this.sets)f(this.sets[linktype],Number(linktype))},LinkSets.prototype.forAllModules=function(f){this.forAll(function(ms,lt){return ms.forAll(f)})},LinkSets.prototype.intersection=function(other){var result=new LinkSets;return this.forAll(function(ms,lt){if(lt in other.sets){var i=ms.intersection(other.sets[lt]),n=i.count();n>0&&(result.sets[lt]=i,result.n+=n)}}),result},LinkSets}();exports.LinkSets=LinkSets,exports.getGroups=getGroups},1342:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var TreeBase=function(){function TreeBase(){this.findIter=function(data){for(var res=this._root,iter=this.iterator();null!==res;){var c=this._comparator(data,res.data);if(0===c)return iter._cursor=res,iter;iter._ancestors.push(res),res=res.get_child(c>0)}return null}}return TreeBase.prototype.clear=function(){this._root=null,this.size=0},TreeBase.prototype.find=function(data){for(var res=this._root;null!==res;){var c=this._comparator(data,res.data);if(0===c)return res.data;res=res.get_child(c>0)}return null},TreeBase.prototype.lowerBound=function(data){return this._bound(data,this._comparator)},TreeBase.prototype.upperBound=function(data){function reverse_cmp(a,b){return cmp(b,a)}var cmp=this._comparator;return this._bound(data,reverse_cmp)},TreeBase.prototype.min=function(){var res=this._root;if(null===res)return null;for(;null!==res.left;)res=res.left;return res.data},TreeBase.prototype.max=function(){var res=this._root;if(null===res)return null;for(;null!==res.right;)res=res.right;return res.data},TreeBase.prototype.iterator=function(){return new Iterator(this)},TreeBase.prototype.each=function(cb){for(var data,it=this.iterator();null!==(data=it.next());)cb(data)},TreeBase.prototype.reach=function(cb){for(var data,it=this.iterator();null!==(data=it.prev());)cb(data)},TreeBase.prototype._bound=function(data,cmp){for(var cur=this._root,iter=this.iterator();null!==cur;){var c=this._comparator(data,cur.data);if(0===c)return iter._cursor=cur,iter;iter._ancestors.push(cur),cur=cur.get_child(c>0)}for(var i=iter._ancestors.length-1;i>=0;--i)if(cur=iter._ancestors[i],cmp(data,cur.data)>0)return iter._cursor=cur,iter._ancestors.length=i,iter;return iter._ancestors.length=0,iter},TreeBase}();exports.TreeBase=TreeBase;var Iterator=function(){function Iterator(tree){this._tree=tree,this._ancestors=[],this._cursor=null}return Iterator.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},Iterator.prototype.next=function(){if(null===this._cursor){var root=this._tree._root;null!==root&&this._minNode(root)}else if(null===this._cursor.right){var save;do{if(save=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===save)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},Iterator.prototype.prev=function(){if(null===this._cursor){var root=this._tree._root;null!==root&&this._maxNode(root)}else if(null===this._cursor.left){var save;do{if(save=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===save)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},Iterator.prototype._minNode=function(start){for(;null!==start.left;)this._ancestors.push(start),start=start.left;this._cursor=start},Iterator.prototype._maxNode=function(start){for(;null!==start.right;)this._ancestors.push(start),start=start.right;this._cursor=start},Iterator}();exports.Iterator=Iterator;var Node=function(){function Node(data){this.data=data,this.left=null,this.right=null,this.red=!0}return Node.prototype.get_child=function(dir){return dir?this.right:this.left},Node.prototype.set_child=function(dir,val){dir?this.right=val:this.left=val},Node}(),RBTree=function(_super){function RBTree(comparator){var _this=_super.call(this)||this;return _this._root=null,_this._comparator=comparator,_this.size=0,_this}return __extends(RBTree,_super),RBTree.prototype.insert=function(data){var ret=!1;if(null===this._root)this._root=new Node(data),ret=!0,this.size++;else{var head=new Node(void 0),dir=!1,last=!1,gp=null,ggp=head,p=null,node=this._root;for(ggp.right=this._root;;){if(null===node?(node=new Node(data),p.set_child(dir,node),ret=!0,this.size++):RBTree.is_red(node.left)&&RBTree.is_red(node.right)&&(node.red=!0,node.left.red=!1,node.right.red=!1),RBTree.is_red(node)&&RBTree.is_red(p)){var dir2=ggp.right===gp;node===p.get_child(last)?ggp.set_child(dir2,RBTree.single_rotate(gp,!last)):ggp.set_child(dir2,RBTree.double_rotate(gp,!last))}var cmp=this._comparator(node.data,data);if(0===cmp)break;last=dir,dir=cmp<0,null!==gp&&(ggp=gp),gp=p,p=node,node=node.get_child(dir)}this._root=head.right}return this._root.red=!1,ret},RBTree.prototype.remove=function(data){if(null===this._root)return!1;var head=new Node(void 0),node=head;node.right=this._root;for(var p=null,gp=null,found=null,dir=!0;null!==node.get_child(dir);){var last=dir;gp=p,p=node,node=node.get_child(dir);var cmp=this._comparator(data,node.data);if(dir=cmp>0,0===cmp&&(found=node),!RBTree.is_red(node)&&!RBTree.is_red(node.get_child(dir)))if(RBTree.is_red(node.get_child(!dir))){var sr=RBTree.single_rotate(node,dir);p.set_child(last,sr),p=sr}else if(!RBTree.is_red(node.get_child(!dir))){var sibling=p.get_child(!last);if(null!==sibling)if(RBTree.is_red(sibling.get_child(!last))||RBTree.is_red(sibling.get_child(last))){var dir2=gp.right===p;RBTree.is_red(sibling.get_child(last))?gp.set_child(dir2,RBTree.double_rotate(p,last)):RBTree.is_red(sibling.get_child(!last))&&gp.set_child(dir2,RBTree.single_rotate(p,last));var gpc=gp.get_child(dir2);gpc.red=!0,node.red=!0,gpc.left.red=!1,gpc.right.red=!1}else p.red=!1,sibling.red=!0,node.red=!0}}return null!==found&&(found.data=node.data,p.set_child(p.right===node,node.get_child(null===node.left)),this.size--),this._root=head.right,null!==this._root&&(this._root.red=!1),null!==found},RBTree.is_red=function(node){return null!==node&&node.red},RBTree.single_rotate=function(root,dir){var save=root.get_child(!dir);return root.set_child(!dir,save.get_child(dir)),save.set_child(dir,root),root.red=!0,save.red=!1,save},RBTree.double_rotate=function(root,dir){return root.set_child(!dir,RBTree.single_rotate(root.get_child(!dir),!dir)),RBTree.single_rotate(root,dir)},RBTree}(TreeBase);exports.RBTree=RBTree},1343:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PairingHeap=function(){function PairingHeap(elem){this.elem=elem,this.subheaps=[]}return PairingHeap.prototype.toString=function(selector){for(var str="",needComma=!1,i=0;i<this.subheaps.length;++i){var subheap=this.subheaps[i];subheap.elem?(needComma&&(str+=","),str+=subheap.toString(selector),needComma=!0):needComma=!1}return""!==str&&(str="("+str+")"),(this.elem?selector(this.elem):"")+str},PairingHeap.prototype.forEach=function(f){this.empty()||(f(this.elem,this),this.subheaps.forEach(function(s){return s.forEach(f)}))},PairingHeap.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(n,h){return n+h.count()},0)},PairingHeap.prototype.min=function(){return this.elem},PairingHeap.prototype.empty=function(){return null==this.elem},PairingHeap.prototype.contains=function(h){if(this===h)return!0;for(var i=0;i<this.subheaps.length;i++)if(this.subheaps[i].contains(h))return!0;return!1},PairingHeap.prototype.isHeap=function(lessThan){var _this=this;return this.subheaps.every(function(h){return lessThan(_this.elem,h.elem)&&h.isHeap(lessThan)})},PairingHeap.prototype.insert=function(obj,lessThan){return this.merge(new PairingHeap(obj),lessThan)},PairingHeap.prototype.merge=function(heap2,lessThan){return this.empty()?heap2:heap2.empty()?this:lessThan(this.elem,heap2.elem)?(this.subheaps.push(heap2),this):(heap2.subheaps.push(this),heap2)},PairingHeap.prototype.removeMin=function(lessThan){return this.empty()?null:this.mergePairs(lessThan)},PairingHeap.prototype.mergePairs=function(lessThan){if(0==this.subheaps.length)return new PairingHeap(null);if(1==this.subheaps.length)return this.subheaps[0];var firstPair=this.subheaps.pop().merge(this.subheaps.pop(),lessThan),remaining=this.mergePairs(lessThan);return firstPair.merge(remaining,lessThan)},PairingHeap.prototype.decreaseKey=function(subheap,newValue,setHeapNode,lessThan){var newHeap=subheap.removeMin(lessThan);subheap.elem=newHeap.elem,subheap.subheaps=newHeap.subheaps,null!==setHeapNode&&null!==newHeap.elem&&setHeapNode(subheap.elem,subheap);var pairingNode=new PairingHeap(newValue);return null!==setHeapNode&&setHeapNode(newValue,pairingNode),this.merge(pairingNode,lessThan)},PairingHeap}();exports.PairingHeap=PairingHeap;var PriorityQueue=function(){function PriorityQueue(lessThan){this.lessThan=lessThan}return PriorityQueue.prototype.top=function(){return this.empty()?null:this.root.elem},PriorityQueue.prototype.push=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];for(var pairingNode,arg,i=0;arg=args[i];++i)pairingNode=new PairingHeap(arg),this.root=this.empty()?pairingNode:this.root.merge(pairingNode,this.lessThan);return pairingNode},PriorityQueue.prototype.empty=function(){return!this.root||!this.root.elem},PriorityQueue.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},PriorityQueue.prototype.forEach=function(f){this.root.forEach(f)},PriorityQueue.prototype.pop=function(){if(this.empty())return null;var obj=this.root.min();return this.root=this.root.removeMin(this.lessThan),obj},PriorityQueue.prototype.reduceKey=function(heapNode,newKey,setHeapNode){void 0===setHeapNode&&(setHeapNode=null),this.root=this.root.decreaseKey(heapNode,newKey,setHeapNode,this.lessThan)},PriorityQueue.prototype.toString=function(selector){return this.root.toString(selector)},PriorityQueue.prototype.count=function(){return this.root.count()},PriorityQueue}();exports.PriorityQueue=PriorityQueue},1344:function(module,exports,__webpack_require__){"use strict";function isLeft(P0,P1,P2){return(P1.x-P0.x)*(P2.y-P0.y)-(P2.x-P0.x)*(P1.y-P0.y)}function above(p,vi,vj){return isLeft(p,vi,vj)>0}function below(p,vi,vj){return isLeft(p,vi,vj)<0}function ConvexHull(S){var i,P=S.slice(0).sort(function(a,b){return a.x!==b.x?b.x-a.x:b.y-a.y}),n=S.length,xmin=P[0].x;for(i=1;i<n&&P[i].x===xmin;++i);var minmax=i-1,H=[];if(H.push(P[0]),minmax===n-1)P[minmax].y!==P[0].y&&H.push(P[minmax]);else{var maxmin,maxmax=n-1,xmax=P[n-1].x;for(i=n-2;i>=0&&P[i].x===xmax;i--);for(maxmin=i+1,i=minmax;++i<=maxmin;)if(!(isLeft(P[0],P[maxmin],P[i])>=0&&i<maxmin)){for(;H.length>1&&!(isLeft(H[H.length-2],H[H.length-1],P[i])>0);)H.length-=1;0!=i&&H.push(P[i])}maxmax!=maxmin&&H.push(P[maxmax]);var bot=H.length;for(i=maxmin;--i>=minmax;)if(!(isLeft(P[maxmax],P[minmax],P[i])>=0&&i>minmax)){for(;H.length>bot&&!(isLeft(H[H.length-2],H[H.length-1],P[i])>0);)H.length-=1;0!=i&&H.push(P[i])}}return H}function clockwiseRadialSweep(p,P,f){P.slice(0).sort(function(a,b){return Math.atan2(a.y-p.y,a.x-p.x)-Math.atan2(b.y-p.y,b.x-p.x)}).forEach(f)}function tangent_PointPolyC(P,V){return{rtan:Rtangent_PointPolyC(P,V),ltan:Ltangent_PointPolyC(P,V)}}function Rtangent_PointPolyC(P,V){var a,b,c,upA,dnC,n=V.length-1;if(below(P,V[1],V[0])&&!above(P,V[n-1],V[0]))return 0;for(a=0,b=n;;){if(b-a==1)return above(P,V[a],V[b])?a:b;if(c=Math.floor((a+b)/2),(dnC=below(P,V[c+1],V[c]))&&!above(P,V[c-1],V[c]))return c;upA=above(P,V[a+1],V[a]),upA?dnC?b=c:above(P,V[a],V[c])?b=c:a=c:dnC&&below(P,V[a],V[c])?b=c:a=c}}function Ltangent_PointPolyC(P,V){var a,b,c,dnA,dnC,n=V.length-1;if(above(P,V[n-1],V[0])&&!below(P,V[1],V[0]))return 0;for(a=0,b=n;;){if(b-a==1)return below(P,V[a],V[b])?a:b;if(c=Math.floor((a+b)/2),dnC=below(P,V[c+1],V[c]),above(P,V[c-1],V[c])&&!dnC)return c;dnA=below(P,V[a+1],V[a]),dnA?dnC?below(P,V[a],V[c])?b=c:a=c:b=c:dnC?a=c:above(P,V[a],V[c])?b=c:a=c}}function tangent_PolyPolyC(V,W,t1,t2,cmp1,cmp2){var ix1,ix2;ix1=t1(W[0],V),ix2=t2(V[ix1],W);for(var done=!1;!done;){for(done=!0;;){if(ix1===V.length-1&&(ix1=0),cmp1(W[ix2],V[ix1],V[ix1+1]))break;++ix1}for(;;){if(0===ix2&&(ix2=W.length-1),cmp2(V[ix1],W[ix2],W[ix2-1]))break;--ix2,done=!1}}return{t1:ix1,t2:ix2}}function LRtangent_PolyPolyC(V,W){var rl=RLtangent_PolyPolyC(W,V);return{t1:rl.t2,t2:rl.t1}}function RLtangent_PolyPolyC(V,W){return tangent_PolyPolyC(V,W,Rtangent_PointPolyC,Ltangent_PointPolyC,above,below)}function LLtangent_PolyPolyC(V,W){return tangent_PolyPolyC(V,W,Ltangent_PointPolyC,Ltangent_PointPolyC,below,below)}function RRtangent_PolyPolyC(V,W){return tangent_PolyPolyC(V,W,Rtangent_PointPolyC,Rtangent_PointPolyC,above,above)}function intersects(l,P){for(var ints=[],i=1,n=P.length;i<n;++i){var int=rectangle_1.Rectangle.lineIntersection(l.x1,l.y1,l.x2,l.y2,P[i-1].x,P[i-1].y,P[i].x,P[i].y);int&&ints.push(int)}return ints}function tangents(V,W){for(var m=V.length-1,n=W.length-1,bt=new BiTangents,i=0;i<m;++i)for(var j=0;j<n;++j){var v1=V[0==i?m-1:i-1],v2=V[i],v3=V[i+1],w1=W[0==j?n-1:j-1],w2=W[j],w3=W[j+1],v1v2w2=isLeft(v1,v2,w2),v2w1w2=isLeft(v2,w1,w2),v2w2w3=isLeft(v2,w2,w3),w1w2v2=isLeft(w1,w2,v2),w2v1v2=isLeft(w2,v1,v2),w2v2v3=isLeft(w2,v2,v3);v1v2w2>=0&&v2w1w2>=0&&v2w2w3<0&&w1w2v2>=0&&w2v1v2>=0&&w2v2v3<0?bt.ll=new BiTangent(i,j):v1v2w2<=0&&v2w1w2<=0&&v2w2w3>0&&w1w2v2<=0&&w2v1v2<=0&&w2v2v3>0?bt.rr=new BiTangent(i,j):v1v2w2<=0&&v2w1w2>0&&v2w2w3<=0&&w1w2v2>=0&&w2v1v2<0&&w2v2v3>=0?bt.rl=new BiTangent(i,j):v1v2w2>=0&&v2w1w2<0&&v2w2w3>=0&&w1w2v2<=0&&w2v1v2>0&&w2v2v3<=0&&(bt.lr=new BiTangent(i,j))}return bt}function isPointInsidePoly(p,poly){for(var i=1,n=poly.length;i<n;++i)if(below(poly[i-1],poly[i],p))return!1;return!0}function isAnyPInQ(p,q){return!p.every(function(v){return!isPointInsidePoly(v,q)})}function polysOverlap(p,q){if(isAnyPInQ(p,q))return!0;if(isAnyPInQ(q,p))return!0;for(var i=1,n=p.length;i<n;++i){var v=p[i],u=p[i-1];if(intersects(new LineSegment(u.x,u.y,v.x,v.y),q).length>0)return!0}return!1}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rectangle_1=__webpack_require__(414),Point=function(){function Point(){}return Point}();exports.Point=Point;var LineSegment=function(){function LineSegment(x1,y1,x2,y2){this.x1=x1,this.y1=y1,this.x2=x2,this.y2=y2}return LineSegment}();exports.LineSegment=LineSegment;var PolyPoint=function(_super){function PolyPoint(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(PolyPoint,_super),PolyPoint}(Point);exports.PolyPoint=PolyPoint,exports.isLeft=isLeft,exports.ConvexHull=ConvexHull,exports.clockwiseRadialSweep=clockwiseRadialSweep,exports.tangent_PolyPolyC=tangent_PolyPolyC,exports.LRtangent_PolyPolyC=LRtangent_PolyPolyC,exports.RLtangent_PolyPolyC=RLtangent_PolyPolyC,exports.LLtangent_PolyPolyC=LLtangent_PolyPolyC,exports.RRtangent_PolyPolyC=RRtangent_PolyPolyC;var BiTangent=function(){function BiTangent(t1,t2){this.t1=t1,this.t2=t2}return BiTangent}();exports.BiTangent=BiTangent;var BiTangents=function(){function BiTangents(){}return BiTangents}();exports.BiTangents=BiTangents;var TVGPoint=function(_super){function TVGPoint(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TVGPoint,_super),TVGPoint}(Point);exports.TVGPoint=TVGPoint;var VisibilityVertex=function(){function VisibilityVertex(id,polyid,polyvertid,p){this.id=id,this.polyid=polyid,this.polyvertid=polyvertid,this.p=p,p.vv=this}return VisibilityVertex}();exports.VisibilityVertex=VisibilityVertex;var VisibilityEdge=function(){function VisibilityEdge(source,target){this.source=source,this.target=target}return VisibilityEdge.prototype.length=function(){var dx=this.source.p.x-this.target.p.x,dy=this.source.p.y-this.target.p.y;return Math.sqrt(dx*dx+dy*dy)},VisibilityEdge}();exports.VisibilityEdge=VisibilityEdge;var TangentVisibilityGraph=function(){function TangentVisibilityGraph(P,g0){if(this.P=P,this.V=[],this.E=[],g0)this.V=g0.V.slice(0),this.E=g0.E.slice(0);else{for(var n=P.length,i=0;i<n;i++)for(var p=P[i],j=0;j<p.length;++j){var pj=p[j],vv=new VisibilityVertex(this.V.length,i,j,pj);this.V.push(vv),j>0&&this.E.push(new VisibilityEdge(p[j-1].vv,vv))}for(var i=0;i<n-1;i++)for(var Pi=P[i],j=i+1;j<n;j++){var Pj=P[j],t=tangents(Pi,Pj);for(var q in t){var c=t[q],source=Pi[c.t1],target=Pj[c.t2];this.addEdgeIfVisible(source,target,i,j)}}}}return TangentVisibilityGraph.prototype.addEdgeIfVisible=function(u,v,i1,i2){this.intersectsPolys(new LineSegment(u.x,u.y,v.x,v.y),i1,i2)||this.E.push(new VisibilityEdge(u.vv,v.vv))},TangentVisibilityGraph.prototype.addPoint=function(p,i1){var n=this.P.length;this.V.push(new VisibilityVertex(this.V.length,n,0,p));for(var i=0;i<n;++i)if(i!==i1){var poly=this.P[i],t=tangent_PointPolyC(p,poly);this.addEdgeIfVisible(p,poly[t.ltan],i1,i),this.addEdgeIfVisible(p,poly[t.rtan],i1,i)}return p.vv},TangentVisibilityGraph.prototype.intersectsPolys=function(l,i1,i2){for(var i=0,n=this.P.length;i<n;++i)if(i!=i1&&i!=i2&&intersects(l,this.P[i]).length>0)return!0;return!1},TangentVisibilityGraph}();exports.TangentVisibilityGraph=TangentVisibilityGraph,exports.tangents=tangents,exports.polysOverlap=polysOverlap},1345:function(module,exports,__webpack_require__){"use strict";function applyPacking(graphs,w,h,node_size,desired_ratio){function step(data,max_width){line=[],real_width=0,real_height=0,global_bottom=init_y;for(var i=0;i<data.length;i++){put_rect(data[i],max_width)}return Math.abs(get_real_ratio()-desired_ratio)}function put_rect(rect,max_width){for(var parent=void 0,i=0;i<line.length;i++)if(line[i].space_left>=rect.height&&line[i].x+line[i].width+rect.width+packingOptions.PADDING-max_width<=packingOptions.FLOAT_EPSILON){parent=line[i];break}line.push(rect),void 0!==parent?(rect.x=parent.x+parent.width+packingOptions.PADDING,rect.y=parent.bottom,rect.space_left=rect.height,rect.bottom=rect.y,parent.space_left-=rect.height+packingOptions.PADDING,parent.bottom+=rect.height+packingOptions.PADDING):(rect.y=global_bottom,global_bottom+=rect.height+packingOptions.PADDING,rect.x=init_x,rect.bottom=rect.y,rect.space_left=rect.height),rect.y+rect.height-real_height>-packingOptions.FLOAT_EPSILON&&(real_height=rect.y+rect.height-init_y),rect.x+rect.width-real_width>-packingOptions.FLOAT_EPSILON&&(real_width=rect.x+rect.width-init_x)}function get_entire_width(data){var width=0;return data.forEach(function(d){return width+=d.width+packingOptions.PADDING}),width}function get_real_ratio(){return real_width/real_height}void 0===desired_ratio&&(desired_ratio=1);var init_x=0,init_y=0,svg_width=w,svg_height=h,desired_ratio=void 0!==desired_ratio?desired_ratio:1,node_size=void 0!==node_size?node_size:0,real_width=0,real_height=0,min_width=0,global_bottom=0,line=[];0!=graphs.length&&(function(graphs){function calculate_single_bb(graph){var min_x=Number.MAX_VALUE,min_y=Number.MAX_VALUE,max_x=0,max_y=0;graph.array.forEach(function(v){var w=void 0!==v.width?v.width:node_size,h=void 0!==v.height?v.height:node_size;w/=2,h/=2,max_x=Math.max(v.x+w,max_x),min_x=Math.min(v.x-w,min_x),max_y=Math.max(v.y+h,max_y),min_y=Math.min(v.y-h,min_y)}),graph.width=max_x-min_x,graph.height=max_y-min_y}graphs.forEach(function(g){calculate_single_bb(g)})}(graphs),function(data,desired_ratio){var curr_best_f=Number.POSITIVE_INFINITY,curr_best=0;data.sort(function(a,b){return b.height-a.height}),min_width=data.reduce(function(a,b){return a.width<b.width?a.width:b.width});for(var left=x1=min_width,right=x2=get_entire_width(data),iterationCounter=0,f_x1=Number.MAX_VALUE,f_x2=Number.MAX_VALUE,flag=-1,dx=Number.MAX_VALUE,df=Number.MAX_VALUE;dx>min_width||df>packingOptions.FLOAT_EPSILON;){if(1!=flag)var x1=right-(right-left)/packingOptions.GOLDEN_SECTION,f_x1=step(data,x1);if(0!=flag)var x2=left+(right-left)/packingOptions.GOLDEN_SECTION,f_x2=step(data,x2);if(dx=Math.abs(x1-x2),df=Math.abs(f_x1-f_x2),f_x1<curr_best_f&&(curr_best_f=f_x1,curr_best=x1),f_x2<curr_best_f&&(curr_best_f=f_x2,curr_best=x2),f_x1>f_x2?(left=x1,x1=x2,f_x1=f_x2,flag=1):(right=x2,x2=x1,f_x2=f_x1,flag=0),iterationCounter++>100)break}step(data,curr_best)}(graphs),function(graphs){graphs.forEach(function(g){var center={x:0,y:0};g.array.forEach(function(node){center.x+=node.x,center.y+=node.y}),center.x/=g.array.length,center.y/=g.array.length;var corner={x:center.x-g.width/2,y:center.y-g.height/2},offset={x:g.x-corner.x+svg_width/2-real_width/2,y:g.y-corner.y+svg_height/2-real_height/2};g.array.forEach(function(node){node.x+=offset.x,node.y+=offset.y})})}(graphs))}function separateGraphs(nodes,links){function explore_node(n,is_new){if(void 0===marks[n.index]){is_new&&(clusters++,graphs.push({array:[]})),marks[n.index]=clusters,graphs[clusters-1].array.push(n);var adjacent=ways[n.index];if(adjacent)for(var j=0;j<adjacent.length;j++)explore_node(adjacent[j],!1)}}for(var marks={},ways={},graphs=[],clusters=0,i=0;i<links.length;i++){var link=links[i],n1=link.source,n2=link.target;ways[n1.index]?ways[n1.index].push(n2):ways[n1.index]=[n2],ways[n2.index]?ways[n2.index].push(n1):ways[n2.index]=[n1]}for(var i=0;i<nodes.length;i++){var node=nodes[i];marks[node.index]||explore_node(node,!0)}return graphs}Object.defineProperty(exports,"__esModule",{value:!0});var packingOptions={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};exports.applyPacking=applyPacking,exports.separateGraphs=separateGraphs},1346:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var rectangle_1=__webpack_require__(414),vpsc_1=__webpack_require__(785),shortestpaths_1=__webpack_require__(540),NodeWrapper=function(){function NodeWrapper(id,rect,children){this.id=id,this.rect=rect,this.children=children,this.leaf=void 0===children||0===children.length}return NodeWrapper}();exports.NodeWrapper=NodeWrapper;var Vert=function(){function Vert(id,x,y,node,line){void 0===node&&(node=null),void 0===line&&(line=null),this.id=id,this.x=x,this.y=y,this.node=node,this.line=line}return Vert}();exports.Vert=Vert;var LongestCommonSubsequence=function(){function LongestCommonSubsequence(s,t){this.s=s,this.t=t;var mf=LongestCommonSubsequence.findMatch(s,t),tr=t.slice(0).reverse(),mr=LongestCommonSubsequence.findMatch(s,tr);mf.length>=mr.length?(this.length=mf.length,this.si=mf.si,this.ti=mf.ti,this.reversed=!1):(this.length=mr.length,this.si=mr.si,this.ti=t.length-mr.ti-mr.length,this.reversed=!0)}return LongestCommonSubsequence.findMatch=function(s,t){for(var m=s.length,n=t.length,match={length:0,si:-1,ti:-1},l=new Array(m),i=0;i<m;i++){l[i]=new Array(n);for(var j=0;j<n;j++)if(s[i]===t[j]){var v=l[i][j]=0===i||0===j?1:l[i-1][j-1]+1;v>match.length&&(match.length=v,match.si=i-v+1,match.ti=j-v+1)}else l[i][j]=0}return match},LongestCommonSubsequence.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},LongestCommonSubsequence}();exports.LongestCommonSubsequence=LongestCommonSubsequence;var GridRouter=function(){function GridRouter(originalnodes,accessor,groupPadding){void 0===groupPadding&&(groupPadding=12);var _this=this;this.originalnodes=originalnodes,this.groupPadding=groupPadding,this.leaves=null,this.nodes=originalnodes.map(function(v,i){return new NodeWrapper(i,accessor.getBounds(v),accessor.getChildren(v))}),this.leaves=this.nodes.filter(function(v){return v.leaf}),this.groups=this.nodes.filter(function(g){return!g.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(v){return v.children.forEach(function(c){return _this.nodes[c].parent=v})}),this.root={children:[]},this.nodes.forEach(function(v){void 0===v.parent&&(v.parent=_this.root,_this.root.children.push(v.id)),v.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(x,y){return _this.getDepth(x)-_this.getDepth(y)}),this.backToFront.slice(0).reverse().filter(function(g){return!g.leaf}).forEach(function(v){var r=rectangle_1.Rectangle.empty();v.children.forEach(function(c){return r=r.union(_this.nodes[c].rect)}),v.rect=r.inflate(_this.groupPadding)});var colMids=this.midPoints(this.cols.map(function(r){return r.pos})),rowMids=this.midPoints(this.rows.map(function(r){return r.pos})),rowx=colMids[0],rowX=colMids[colMids.length-1],coly=rowMids[0],colY=rowMids[rowMids.length-1],hlines=this.rows.map(function(r){return{x1:rowx,x2:rowX,y1:r.pos,y2:r.pos}}).concat(rowMids.map(function(m){return{x1:rowx,x2:rowX,y1:m,y2:m}})),vlines=this.cols.map(function(c){return{x1:c.pos,x2:c.pos,y1:coly,y2:colY}}).concat(colMids.map(function(m){return{x1:m,x2:m,y1:coly,y2:colY}})),lines=hlines.concat(vlines);lines.forEach(function(l){return l.verts=[]}),this.verts=[],this.edges=[],hlines.forEach(function(h){return vlines.forEach(function(v){var p=new Vert(_this.verts.length,v.x1,h.y1);h.verts.push(p),v.verts.push(p),_this.verts.push(p);for(var i=_this.backToFront.length;i-- >0;){var node=_this.backToFront[i],r=node.rect,dx=Math.abs(p.x-r.cx()),dy=Math.abs(p.y-r.cy());if(dx<r.width()/2&&dy<r.height()/2){p.node=node;break}}})}),lines.forEach(function(l,li){_this.nodes.forEach(function(v,i){v.rect.lineIntersections(l.x1,l.y1,l.x2,l.y2).forEach(function(intersect,j){var p=new Vert(_this.verts.length,intersect.x,intersect.y,v,l);_this.verts.push(p),l.verts.push(p),v.ports.push(p)})});var isHoriz=Math.abs(l.y1-l.y2)<.1,delta=function(a,b){return isHoriz?b.x-a.x:b.y-a.y};l.verts.sort(delta);for(var i=1;i<l.verts.length;i++){var u=l.verts[i-1],v=l.verts[i];u.node&&u.node===v.node&&u.node.leaf||_this.edges.push({source:u.id,target:v.id,length:Math.abs(delta(u,v))})}})}return GridRouter.prototype.avg=function(a){return a.reduce(function(x,y){return x+y})/a.length},GridRouter.prototype.getGridLines=function(axis){for(var columns=[],ls=this.leaves.slice(0,this.leaves.length);ls.length>0;){var overlapping=ls.filter(function(v){return v.rect["overlap"+axis.toUpperCase()](ls[0].rect)}),col={nodes:overlapping,pos:this.avg(overlapping.map(function(v){return v.rect["c"+axis]()}))};columns.push(col),col.nodes.forEach(function(v){return ls.splice(ls.indexOf(v),1)})}return columns.sort(function(a,b){return a.pos-b.pos}),columns},GridRouter.prototype.getDepth=function(v){for(var depth=0;v.parent!==this.root;)depth++,v=v.parent;return depth},GridRouter.prototype.midPoints=function(a){for(var gap=a[1]-a[0],mids=[a[0]-gap/2],i=1;i<a.length;i++)mids.push((a[i]+a[i-1])/2);return mids.push(a[a.length-1]+gap/2),mids},GridRouter.prototype.findLineage=function(v){var lineage=[v];do{v=v.parent,lineage.push(v)}while(v!==this.root);return lineage.reverse()},GridRouter.prototype.findAncestorPathBetween=function(a,b){for(var aa=this.findLineage(a),ba=this.findLineage(b),i=0;aa[i]===ba[i];)i++;return{commonAncestor:aa[i-1],lineages:aa.slice(i).concat(ba.slice(i))}},GridRouter.prototype.siblingObstacles=function(a,b){var _this=this,path=this.findAncestorPathBetween(a,b),lineageLookup={};path.lineages.forEach(function(v){return lineageLookup[v.id]={}});var obstacles=path.commonAncestor.children.filter(function(v){return!(v in lineageLookup)});return path.lineages.filter(function(v){return v.parent!==path.commonAncestor}).forEach(function(v){return obstacles=obstacles.concat(v.parent.children.filter(function(c){return c!==v.id}))}),obstacles.map(function(v){return _this.nodes[v]})},GridRouter.getSegmentSets=function(routes,x,y){for(var vsegments=[],ei=0;ei<routes.length;ei++)for(var route=routes[ei],si=0;si<route.length;si++){var s=route[si];s.edgeid=ei,s.i=si;var sdx=s[1][x]-s[0][x];Math.abs(sdx)<.1&&vsegments.push(s)}vsegments.sort(function(a,b){return a[0][x]-b[0][x]});for(var vsegmentsets=[],segmentset=null,i=0;i<vsegments.length;i++){var s=vsegments[i];(!segmentset||Math.abs(s[0][x]-segmentset.pos)>.1)&&(segmentset={pos:s[0][x],segments:[]},vsegmentsets.push(segmentset)),segmentset.segments.push(s)}return vsegmentsets},GridRouter.nudgeSegs=function(x,y,routes,segments,leftOf,gap){var n=segments.length;if(!(n<=1)){for(var vs=segments.map(function(s){return new vpsc_1.Variable(s[0][x])}),cs=[],i=0;i<n;i++)for(var j=0;j<n;j++)if(i!==j){var s1=segments[i],s2=segments[j],e1=s1.edgeid,e2=s2.edgeid,lind=-1,rind=-1;"x"==x?leftOf(e1,e2)&&(s1[0][y]<s1[1][y]?(lind=j,rind=i):(lind=i,rind=j)):leftOf(e1,e2)&&(s1[0][y]<s1[1][y]?(lind=i,rind=j):(lind=j,rind=i)),lind>=0&&cs.push(new vpsc_1.Constraint(vs[lind],vs[rind],gap))}new vpsc_1.Solver(vs,cs).solve(),vs.forEach(function(v,i){var s=segments[i],pos=v.position();s[0][x]=s[1][x]=pos;var route=routes[s.edgeid];s.i>0&&(route[s.i-1][1][x]=pos),s.i<route.length-1&&(route[s.i+1][0][x]=pos)})}},GridRouter.nudgeSegments=function(routes,x,y,leftOf,gap){for(var vsegmentsets=GridRouter.getSegmentSets(routes,x,y),i=0;i<vsegmentsets.length;i++){for(var ss=vsegmentsets[i],events=[],j=0;j<ss.segments.length;j++){var s=ss.segments[j];events.push({type:0,s:s,pos:Math.min(s[0][y],s[1][y])}),events.push({type:1,s:s,pos:Math.max(s[0][y],s[1][y])})}events.sort(function(a,b){return a.pos-b.pos+a.type-b.type});var open=[],openCount=0;events.forEach(function(e){0===e.type?(open.push(e.s),openCount++):openCount--,0==openCount&&(GridRouter.nudgeSegs(x,y,routes,open,leftOf,gap),open=[])})}},GridRouter.prototype.routeEdges=function(edges,nudgeGap,source,target){var _this=this,routePaths=edges.map(function(e){return _this.route(source(e),target(e))}),order=GridRouter.orderEdges(routePaths),routes=routePaths.map(function(e){return GridRouter.makeSegments(e)});return GridRouter.nudgeSegments(routes,"x","y",order,nudgeGap),GridRouter.nudgeSegments(routes,"y","x",order,nudgeGap),GridRouter.unreverseEdges(routes,routePaths),routes},GridRouter.unreverseEdges=function(routes,routePaths){routes.forEach(function(segments,i){routePaths[i].reversed&&(segments.reverse(),segments.forEach(function(segment){segment.reverse()}))})},GridRouter.angleBetween2Lines=function(line1,line2){var angle1=Math.atan2(line1[0].y-line1[1].y,line1[0].x-line1[1].x),angle2=Math.atan2(line2[0].y-line2[1].y,line2[0].x-line2[1].x),diff=angle1-angle2;return(diff>Math.PI||diff<-Math.PI)&&(diff=angle2-angle1),diff},GridRouter.isLeft=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x)<=0},GridRouter.getOrder=function(pairs){for(var outgoing={},i=0;i<pairs.length;i++){var p=pairs[i];void 0===outgoing[p.l]&&(outgoing[p.l]={}),outgoing[p.l][p.r]=!0}return function(l,r){return void 0!==outgoing[l]&&outgoing[l][r]}},GridRouter.orderEdges=function(edges){for(var edgeOrder=[],i=0;i<edges.length-1;i++)for(var j=i+1;j<edges.length;j++){var u,vi,vj,e=edges[i],f=edges[j],lcs=new LongestCommonSubsequence(e,f);0!==lcs.length&&(lcs.reversed&&(f.reverse(),f.reversed=!0,lcs=new LongestCommonSubsequence(e,f)),(lcs.si<=0||lcs.ti<=0)&&(lcs.si+lcs.length>=e.length||lcs.ti+lcs.length>=f.length)?edgeOrder.push({l:i,r:j}):(lcs.si+lcs.length>=e.length||lcs.ti+lcs.length>=f.length?(u=e[lcs.si+1],vj=e[lcs.si-1],vi=f[lcs.ti-1]):(u=e[lcs.si+lcs.length-2],vi=e[lcs.si+lcs.length],vj=f[lcs.ti+lcs.length]),GridRouter.isLeft(u,vi,vj)?edgeOrder.push({l:j,r:i}):edgeOrder.push({l:i,r:j})))}return GridRouter.getOrder(edgeOrder)},GridRouter.makeSegments=function(path){function copyPoint(p){return{x:p.x,y:p.y}}for(var segments=[],a=copyPoint(path[0]),i=1;i<path.length;i++){var b=copyPoint(path[i]),c=i<path.length-1?path[i+1]:null;c&&function(a,b,c){return Math.abs((b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x))<.001}(a,b,c)||(segments.push([a,b]),a=b)}return segments},GridRouter.prototype.route=function(s,t){var _this=this,source=this.nodes[s],target=this.nodes[t];this.obstacles=this.siblingObstacles(source,target);var obstacleLookup={};this.obstacles.forEach(function(o){return obstacleLookup[o.id]=o}),this.passableEdges=this.edges.filter(function(e){var u=_this.verts[e.source],v=_this.verts[e.target];return!(u.node&&u.node.id in obstacleLookup||v.node&&v.node.id in obstacleLookup)});for(var i=1;i<source.ports.length;i++){var u=source.ports[0].id,v=source.ports[i].id;this.passableEdges.push({source:u,target:v,length:0})}for(var i=1;i<target.ports.length;i++){var u=target.ports[0].id,v=target.ports[i].id;this.passableEdges.push({source:u,target:v,length:0})}var getSource=function(e){return e.source},getTarget=function(e){return e.target},getLength=function(e){return e.length},shortestPathCalculator=new shortestpaths_1.Calculator(this.verts.length,this.passableEdges,getSource,getTarget,getLength),bendPenalty=function(u,v,w){var a=_this.verts[u],b=_this.verts[v],c=_this.verts[w],dx=Math.abs(c.x-a.x),dy=Math.abs(c.y-a.y);return a.node===source&&a.node===b.node||b.node===target&&b.node===c.node?0:dx>1&&dy>1?1e3:0},shortestPath=shortestPathCalculator.PathFromNodeToNodeWithPrevCost(source.ports[0].id,target.ports[0].id,bendPenalty),pathPoints=shortestPath.reverse().map(function(vi){return _this.verts[vi]});return pathPoints.push(this.nodes[target.id].ports[0]),pathPoints.filter(function(v,i){return!(i<pathPoints.length-1&&pathPoints[i+1].node===source&&v.node===source||i>0&&v.node===target&&pathPoints[i-1].node===target)})},GridRouter.getRoutePath=function(route,cornerradius,arrowwidth,arrowheight){var result={routepath:"M "+route[0][0].x+" "+route[0][0].y+" ",arrowpath:""};if(route.length>1)for(var i=0;i<route.length;i++){var li=route[i],x=li[1].x,y=li[1].y,dx=x-li[0].x,dy=y-li[0].y;if(i<route.length-1){Math.abs(dx)>0?x-=dx/Math.abs(dx)*cornerradius:y-=dy/Math.abs(dy)*cornerradius,result.routepath+="L "+x+" "+y+" ";var l=route[i+1],x0=l[0].x,y0=l[0].y,x1=l[1].x,y1=l[1].y;dx=x1-x0,dy=y1-y0;var x2,y2,angle=GridRouter.angleBetween2Lines(li,l)<0?1:0;Math.abs(dx)>0?(x2=x0+dx/Math.abs(dx)*cornerradius,y2=y0):(x2=x0,y2=y0+dy/Math.abs(dy)*cornerradius);var cx=Math.abs(x2-x),cy=Math.abs(y2-y);result.routepath+="A "+cx+" "+cy+" 0 0 "+angle+" "+x2+" "+y2+" "}else{var arrowcorner1,arrowcorner2,arrowtip=[x,y];Math.abs(dx)>0?(x-=dx/Math.abs(dx)*arrowheight,arrowcorner1=[x,y+arrowwidth],arrowcorner2=[x,y-arrowwidth]):(y-=dy/Math.abs(dy)*arrowheight,arrowcorner1=[x+arrowwidth,y],arrowcorner2=[x-arrowwidth,y]),result.routepath+="L "+x+" "+y+" ",arrowheight>0&&(result.arrowpath="M "+arrowtip[0]+" "+arrowtip[1]+" L "+arrowcorner1[0]+" "+arrowcorner1[1]+" L "+arrowcorner2[0]+" "+arrowcorner2[1])}}else{var arrowcorner1,arrowcorner2,li=route[0],x=li[1].x,y=li[1].y,dx=x-li[0].x,dy=y-li[0].y,arrowtip=[x,y];Math.abs(dx)>0?(x-=dx/Math.abs(dx)*arrowheight,arrowcorner1=[x,y+arrowwidth],arrowcorner2=[x,y-arrowwidth]):(y-=dy/Math.abs(dy)*arrowheight,arrowcorner1=[x+arrowwidth,y],arrowcorner2=[x-arrowwidth,y]),result.routepath+="L "+x+" "+y+" ",arrowheight>0&&(result.arrowpath="M "+arrowtip[0]+" "+arrowtip[1]+" L "+arrowcorner1[0]+" "+arrowcorner1[1]+" L "+arrowcorner2[0]+" "+arrowcorner2[1])}return result},GridRouter}();exports.GridRouter=GridRouter},1347:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Edge=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(334);exports.Edge=function(){function Edge(graph,json){_classCallCheck(this,Edge),this.graph=graph,this.update(json),this.cola=this._makeCola()}return _createClass(Edge,[{key:"_makeCola",value:function(){return{edge:this,source:this.from.cola,target:this.to.cola}}},{key:"update",value:function(json){this.json=json}},{key:"id",get:function(){return this.json.id}},{key:"htmlAttrId",get:function(){return this.json.id.replace(/\W/,"_")}},{key:"from",get:function(){return this.graph.verticesById[this.fromId]}},{key:"fromId",get:function(){return this.json.from}},{key:"to",get:function(){return this.graph.verticesById[this.toId]}},{key:"toId",get:function(){return this.json.to}},{key:"svgClass",get:function(){return _constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.EDGES.SVG_CLASS}}]),Edge}()},1348:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _stats=__webpack_require__(4185);Object.defineProperty(exports,"Stats",{enumerable:!0,get:function(){return _stats.Stats}})},1349:function(module,exports,__webpack_require__){"use strict";function isPipelineMonitoringSupportedInVersion(logstashVersion){return _semver2.default.major(logstashVersion)>=_constants.LOGSTASH.MAJOR_VER_REQD_FOR_PIPELINES}function processPipelinesAPIResponse(response,throughputMetricKey,nodesCountMetricKey){var processedResponse=(0,_lodash.cloneDeep)(response);return processedResponse.pipelines.forEach(function(pipeline){pipeline.metrics={throughput:pipeline.metrics[throughputMetricKey],nodesCount:pipeline.metrics[nodesCountMetricKey]},pipeline.latestThroughput=(0,_lodash.last)(pipeline.metrics.throughput.data)[1],pipeline.latestNodesCount=(0,_lodash.last)(pipeline.metrics.nodesCount.data)[1]}),processedResponse}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPipelineMonitoringSupportedInVersion=isPipelineMonitoringSupportedInVersion,exports.processPipelinesAPIResponse=processPipelinesAPIResponse;var _lodash=__webpack_require__(0),_semver=__webpack_require__(511),_semver2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_semver),_constants=__webpack_require__(334)},157:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _base_controller=__webpack_require__(4199);Object.defineProperty(exports,"MonitoringViewBaseController",{enumerable:!0,get:function(){return _base_controller.MonitoringViewBaseController}});var _base_table_controller=__webpack_require__(4200);Object.defineProperty(exports,"MonitoringViewBaseTableController",{enumerable:!0,get:function(){return _base_table_controller.MonitoringViewBaseTableController}})},177:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _table=__webpack_require__(4102);Object.defineProperty(exports,"MonitoringTable",{enumerable:!0,get:function(){return _table.MonitoringTable}});var _storage=__webpack_require__(4106);Object.defineProperty(exports,"tableStorageGetter",{enumerable:!0,get:function(){return _storage.tableStorageGetter}}),Object.defineProperty(exports,"tableStorageSetter",{enumerable:!0,get:function(){return _storage.tableStorageSetter}})},3988:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(3989),__webpack_require__(140),__webpack_require__(141),__webpack_require__(142),__webpack_require__(143),__webpack_require__(144),__webpack_require__(145),__webpack_require__(146),__webpack_require__(147),__webpack_require__(148),__webpack_require__(149),__webpack_require__(150),__webpack_require__(151),__webpack_require__(152),__webpack_require__(153),__webpack_require__(114),__webpack_require__(154),__webpack_require__(155),__webpack_require__(11).bootstrap()},3989:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(0),_momentTimezone=__webpack_require__(113),_momentTimezone2=_interopRequireDefault(_momentTimezone),_modules=__webpack_require__(1),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes);__webpack_require__(196),__webpack_require__(3990),__webpack_require__(3991),__webpack_require__(1277),__webpack_require__(3992),__webpack_require__(3993),__webpack_require__(3995),__webpack_require__(3996),__webpack_require__(3997),__webpack_require__(3999),__webpack_require__(4190),_modules.uiModules.get("kibana").run(function(uiSettings,config){_momentTimezone2.default.tz.setDefault(config.get("dateFormat:tz")),(0,_lodash.set)(uiSettings,"defaults.timepicker:timeDefaults.value",JSON.stringify({from:"now-1h",to:"now",mode:"quick"})),(0,_lodash.set)(uiSettings,"defaults.timepicker:refreshIntervalDefaults.value",JSON.stringify({display:"10 seconds",pause:!1,value:1e4}))}),_routes2.default.enable()},3990:function(module,exports){},3991:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(0),_lodash2=_interopRequireDefault(_lodash),_momentTimezone=__webpack_require__(113),_momentTimezone2=_interopRequireDefault(_momentTimezone),_modules=__webpack_require__(1),_format_number=__webpack_require__(73),_extract_ip=__webpack_require__(1307),uiModule=_modules.uiModules.get("monitoring/filters",[]);uiModule.filter("localizedDate",function(){return function(input){return _momentTimezone2.default.tz(input,_momentTimezone2.default.tz.guess()).format("LLL z")}}),uiModule.filter("capitalize",function(){return function(input){return _lodash2.default.capitalize(input.toLowerCase())}}),uiModule.filter("formatNumber",function(){return _format_number.formatNumber}),uiModule.filter("formatMetric",function(){return _format_number.formatMetric}),uiModule.filter("extractIp",function(){return _extract_ip.extractIp})},3992:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(0),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(1).uiModules.get("monitoring/features",[]).service("features",function($window){function getData(){var returnData={},monitoringData=$window.localStorage.getItem("xpack.monitoring.data");try{returnData=monitoringData&&JSON.parse(monitoringData)||{}}catch(e){console.error("Monitoring UI: error parsing locally stored monitoring data",e)}return returnData}function update(featureName,value){var monitoringDataObj=getData();monitoringDataObj[featureName]=value,$window.localStorage.setItem("xpack.monitoring.data",JSON.stringify(monitoringDataObj))}function isEnabled(featureName,defaultSetting){var monitoringDataObj=getData();return _lodash2.default.has(monitoringDataObj,featureName)?monitoringDataObj[featureName]:!_lodash2.default.isUndefined(defaultSetting)&&defaultSetting}return{isEnabled:isEnabled,update:update}})},3993:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_executor_provider=__webpack_require__(3994);_modules.uiModules.get("monitoring/executor",[]).service("$executor",_executor_provider.executorProvider)},3994:function(module,exports,__webpack_require__){"use strict";function executorProvider(Promise,$timeout,timefilter){function reset(){cancel(),_start()}function killTimer(){executionTimer&&$timeout.cancel(executionTimer)}function cancel(){killTimer(),timefilter.off("update",killIfPaused),timefilter.off("fetch",reFetch)}function register(service){queue.push(service)}function destroy(){cancel(),ignorePaused=!1,queue.splice(0,queue.length)}function run(){var noop=function(){return Promise.resolve()};return Promise.all(queue.map(function(service){return service.execute().then(service.handleResponse||noop).catch(service.handleError||noop)})).finally(reset)}function reFetch(_changes){cancel(),run()}function killIfPaused(){timefilter.refreshInterval.pause&&killTimer()}function _start(){timefilter.on("fetch",reFetch),timefilter.on("update",killIfPaused),(ignorePaused||!1===timefilter.refreshInterval.pause)&&timefilter.refreshInterval.value>0&&(executionTimer=$timeout(run,timefilter.refreshInterval.value))}var queue=[],executionTimer=void 0,ignorePaused=!1;return{register:register,start:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(options=(0,_lodash.defaults)(options,{ignorePaused:!1,now:!1}),options.now)return run();options.ignorePaused&&(ignorePaused=options.ignorePaused),_start()},run:run,destroy:destroy,reset:reset,cancel:cancel}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.executorProvider=executorProvider;var _lodash=__webpack_require__(0)},3995:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(0),_modules=__webpack_require__(1),_monitoringConstants=__webpack_require__(49);_modules.uiModules.get("monitoring/license",[]).service("license",function(){var licenseType=void 0;return{isBasic:function(){return"basic"===licenseType},mlIsSupported:function(){return(0,_lodash.contains)(_monitoringConstants.ML_SUPPORTED_LICENSES,licenseType)},setLicenseType:function(newType){licenseType=newType}}})},3996:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(0),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_modules=__webpack_require__(1),_doc_title=__webpack_require__(270);_modules.uiModules.get("monitoring/title",[]).service("title",function(Private){var docTitle=Private(_doc_title.DocTitleProvider);return function(cluster,suffix){var clusterName=_lodash2.default.get(cluster,"cluster_name");clusterName=clusterName?"- "+clusterName:"",suffix=suffix?"- "+suffix:"",docTitle.change("Monitoring "+clusterName+" "+suffix,!0)}})},3997:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_breadcrumbs_provider=__webpack_require__(3998);_modules.uiModules.get("monitoring/breadcrumbs",[]).service("breadcrumbs",_breadcrumbs_provider.breadcrumbsProvider)},3998:function(module,exports,__webpack_require__){"use strict";function getElasticsearchBreadcrumbs(mainInstance){var breadcrumbs=[];return mainInstance.instance?(breadcrumbs.push(createCrumb("#/elasticsearch","Elasticsearch")),"indices"===mainInstance.name?breadcrumbs.push(createCrumb("#/elasticsearch/indices","Indices","breadcrumbEsIndices")):"nodes"===mainInstance.name?breadcrumbs.push(createCrumb("#/elasticsearch/nodes","Nodes","breadcrumbEsNodes")):"ml"===mainInstance.name&&breadcrumbs.push(createCrumb("#/elasticsearch/ml_jobs","Jobs")),breadcrumbs.push(createCrumb(null,mainInstance.instance))):breadcrumbs.push(createCrumb(null,"Elasticsearch")),breadcrumbs}function getKibanaBreadcrumbs(mainInstance){var breadcrumbs=[];return mainInstance.instance?(breadcrumbs.push(createCrumb("#/kibana","Kibana")),breadcrumbs.push(createCrumb("#/kibana/instances","Instances"))):breadcrumbs.push(createCrumb(null,"Kibana")),breadcrumbs}function getLogstashBreadcrumbs(mainInstance){var breadcrumbs=[];return mainInstance.instance?(breadcrumbs.push(createCrumb("#/logstash","Logstash")),"nodes"===mainInstance.name&&breadcrumbs.push(createCrumb("#/logstash/nodes","Nodes")),breadcrumbs.push(createCrumb(null,mainInstance.instance))):"pipeline"===mainInstance.page?(breadcrumbs.push(createCrumb("#/logstash","Logstash")),breadcrumbs.push(createCrumb("#/logstash/pipelines","Pipelines"))):breadcrumbs.push(createCrumb(null,"Logstash")),breadcrumbs}function getBeatsBreadcrumbs(mainInstance){var breadcrumbs=[];return mainInstance.instance?(breadcrumbs.push(createCrumb("#/beats","Beats")),breadcrumbs.push(createCrumb("#/beats/beats","Instances")),breadcrumbs.push(createCrumb(null,mainInstance.instance))):breadcrumbs.push(createCrumb(null,"Beats")),breadcrumbs}function breadcrumbsProvider(){return function(clusterName,mainInstance){var breadcrumbs=[createCrumb("#/home","Clusters","breadcrumbClusters")];return!mainInstance.inOverview&&clusterName&&breadcrumbs.push(createCrumb("#/overview",clusterName)),mainInstance.inElasticsearch&&(breadcrumbs=breadcrumbs.concat(getElasticsearchBreadcrumbs(mainInstance))),mainInstance.inKibana&&(breadcrumbs=breadcrumbs.concat(getKibanaBreadcrumbs(mainInstance))),mainInstance.inLogstash&&(breadcrumbs=breadcrumbs.concat(getLogstashBreadcrumbs(mainInstance))),mainInstance.inBeats&&(breadcrumbs=breadcrumbs.concat(getBeatsBreadcrumbs(mainInstance))),breadcrumbs}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.breadcrumbsProvider=breadcrumbsProvider;var createCrumb=function(url,label,testSubj){var crumb={url:url,label:label};return testSubj&&(crumb.testSubj=testSubj),crumb}},3999:function(module,exports,__webpack_require__){"use strict";__webpack_require__(4e3),__webpack_require__(4002),__webpack_require__(4099),__webpack_require__(4101),__webpack_require__(4109),__webpack_require__(4110),__webpack_require__(4118),__webpack_require__(4120),__webpack_require__(4122),__webpack_require__(4125),__webpack_require__(4127),__webpack_require__(4129),__webpack_require__(4131),__webpack_require__(4133),__webpack_require__(4135),__webpack_require__(4141),__webpack_require__(4149),__webpack_require__(4151),__webpack_require__(4152),__webpack_require__(4154),__webpack_require__(4173),__webpack_require__(4174),__webpack_require__(4176),__webpack_require__(4177),__webpack_require__(4179),__webpack_require__(4186),__webpack_require__(4187)},4e3:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringMainController=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_modules=__webpack_require__(1),_index=__webpack_require__(4001),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index),_monitoringFormatting=__webpack_require__(409),MonitoringMainController=exports.MonitoringMainController=function(){function MonitoringMainController(){_classCallCheck(this,MonitoringMainController),this.inListing=!1,this.inAlerts=!1,this.inOverview=!1,this.inElasticsearch=!1,this.inKibana=!1,this.inLogstash=!1,this.inBeats=!1}return _createClass(MonitoringMainController,[{key:"setup",value:function(options){var _this=this;this._licenseService=options.licenseService,this._breadcrumbsService=options.breadcrumbsService,this._kbnUrlService=options.kbnUrlService,Object.assign(this,options.attributes),this.product?(this.inElasticsearch="elasticsearch"===this.product,this.inKibana="kibana"===this.product,this.inLogstash="logstash"===this.product,this.inBeats="beats"===this.product):(this.inOverview="overview"===this.name,this.inAlerts="alerts"===this.name,this.inListing="listing"===this.name||"no-data"===this.name),this.inListing||(this.breadcrumbs=this._breadcrumbsService(options.clusterName,this)),this.pipelineHash&&(this.pipelineHashShort=(0,_monitoringFormatting.shortenPipelineHash)(this.pipelineHash),this.onChangePipelineHash=function(){return _this._kbnUrlService.changePath("/logstash/pipelines/"+_this.pipelineId+"/"+_this.pipelineHash)})}},{key:"isActiveTab",value:function(testPath){return this.name===testPath}},{key:"isMlSupported",value:function(){return this._licenseService.mlIsSupported()}}]),MonitoringMainController}();_modules.uiModules.get("plugins/monitoring/directives",[]).directive("monitoringMain",function(breadcrumbs,license,kbnUrl){return{restrict:"E",transclude:!0,template:_index2.default,controller:MonitoringMainController,controllerAs:"monitoringMain",bindToController:!0,link:function(scope,_element,attributes,controller){controller.setup({licenseService:license,breadcrumbsService:breadcrumbs,kbnUrlService:kbnUrl,attributes:{name:attributes.name,product:attributes.product,instance:attributes.instance,resolver:attributes.resolver,page:attributes.page,tabIconClass:attributes.tabIconClass,tabIconLabel:attributes.tabIconLabel,pipelineId:attributes.pipelineId,pipelineHash:attributes.pipelineHash,pipelineVersions:(0,_lodash.get)(scope,"pageData.versions")},clusterName:(0,_lodash.get)(scope,"cluster.cluster_name")})}}})},4001:function(module,exports){module.exports='<div class="app-container">\n  <kbn-top-nav name="{{ monitoringMain.name }}-nav">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      \x3c!-- NOTE: The KBN breadCrumbs directive does not work for Monitoring usecase.\n      Breadcrumbs can\'t be automatically derived because the directive doesn\'t\n      automatically know to show the Clusters breadcrumb. We recreate the\n      structure and styles manually --\x3e\n      <div data-transclude-slot="topLeftCorner" class="kuiLocalBreadcrumbs">\n        <div ng-repeat="crumb in monitoringMain.breadcrumbs" class="kuiLocalBreadcrumb">\n          <a\n            ng-if="crumb.url"\n            kbn-href="{{ crumb.url }}"\n            class="kuiLocalBreadcrumb__link"\n            data-test-subj="{{ crumb.testSubj }}"\n          >\n            {{ crumb.label }}\n          </a>\n\n          <span ng-if="!crumb.url">\n            {{ crumb.label }}\n          </span>\n        </div>\n      </div>\n\n      \x3c!-- Tabs --\x3e\n      <div data-transclude-slot="bottomRow">\n        <div ng-if="monitoringMain.inElasticsearch" class="kuiLocalTabs" role="navigation">\n          <a ng-if="!monitoringMain.instance" kbn-href="#/elasticsearch" class="kuiLocalTab" ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}">Overview</a>\n          <a ng-if="!monitoringMain.instance" kbn-href="#/elasticsearch/nodes" class="kuiLocalTab" ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}">Nodes</a>\n          <a ng-if="!monitoringMain.instance" kbn-href="#/elasticsearch/indices" class="kuiLocalTab" ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'indices\')}">Indices</a>\n          <a ng-if="!monitoringMain.instance && monitoringMain.isMlSupported()" kbn-href="#/elasticsearch/ml_jobs" class="kuiLocalTab" ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'ml\')}">Jobs</a>\n          <a\n            ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n            kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n          >\n            <span ng-if="monitoringMain.tabIconClass" class="fa {{ monitoringMain.tabIconClass }}" title="{{ monitoringMain.tabIconLabel }}"></span>\n            Overview\n          </a>\n          <a\n            ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n            kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}/advanced"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'advanced\'}"\n          >\n            Advanced\n          </a>\n            \x3c!-- ML Instance (for use later) --\x3e\n          <a\n            ng-if="monitoringMain.instance && monitoringMain.name !== \'nodes\' && monitoringMain.name !== \'indices\'"\n            class="kuiLocalTab">{{ monitoringMain.instance }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inKibana" class="kuiLocalTabs" role="navigation">\n          <a ng-if="!monitoringMain.instance" kbn-href="#/kibana" class="kuiLocalTab" ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}">Overview</a>\n          <a ng-if="!monitoringMain.instance" kbn-href="#/kibana/instances" class="kuiLocalTab" ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'kibanas\')}">Instances</a>\n          <a ng-if="monitoringMain.instance" class="kuiLocalTab">{{ monitoringMain.instance }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inBeats" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/beats"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\':\n            monitoringMain.isActiveTab(\'overview\')}"\n          >\n            Overview\n          </a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/beats/beats"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'beats\')}"\n          >\n            Instances\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/beats/beat/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n          >\n            Overview\n          </a>\n        </div>\n\n        <div ng-if="monitoringMain.inLogstash" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n          >\n            Overview\n          </a>\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash/nodes"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n          >\n            Nodes\n          </a>\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash/pipelines"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'pipelines\')}"\n          >\n            <span class="kuiIcon fa-flask betaIcon" tooltip="Beta Feature" />\n            Pipelines\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n          >\n            Overview\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/pipelines"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'pipelines\'}"\n          >\n            <span class="kuiIcon fa-flask betaIcon" tooltip="Beta Feature" />\n            Pipelines\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/advanced"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'advanced\'}"\n          >\n            Advanced\n          </a>\n          <div\n            ng-if="monitoringMain.pipelineVersions"\n            class="kuiFlexGroup kuiFlexGroup--gutterMedium"\n          >\n            <h1 class="kuiTitle kuiFlexItem">{{ monitoringMain.pipelineId }}</h1>\n            <select\n              ng-model="monitoringMain.pipelineHash"\n              class="kuiSelect kuiFlexItem"\n              ng-change="monitoringMain.onChangePipelineHash()"\n            >\n              <option\n                ng-repeat="version in monitoringMain.pipelineVersions"\n                ng-value="version.hash"\n              >\n                Version active {{ version.relativeLastSeen }} and first seen {{ version.relativeFirstSeen }}\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <div ng-if="monitoringMain.inOverview" class="kuiLocalTabs" role="navigation">\n          <a class="kuiLocalTab" data-test-subj="clusterName">{{ cluster.cluster_name }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inAlerts" class="kuiLocalTabs" role="navigation">\n          <a class="kuiLocalTab" data-test-subj="clusterAlertsListingPage">Cluster Alerts</a>\n        </div>\n\n        <div ng-if="monitoringMain.inListing" class="kuiLocalTabs" role="navigation">\n         <a class="kuiLocalTab">Clusters</a>\n       </div>\n      </div>\n    </div>\n  </kbn-top-nav>\n  <div ng-transclude></div>\n</div>\n'},4002:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_moment=__webpack_require__(12),_moment2=_interopRequireDefault(_moment),_modules=__webpack_require__(1),_chart=__webpack_require__(752),_puiReactTooltip=__webpack_require__(283),_puiReactOverlayTrigger=__webpack_require__(287),_components=__webpack_require__(17);_modules.uiModules.get("plugins/monitoring/directives",[]).directive("monitoringChart",function(timefilter){return{restrict:"E",scope:{series:"="},link:function(scope,$elem){function onBrush(_ref){var xaxis=_ref.xaxis;scope.$evalAsync(function(){timefilter.time.from=(0,_moment2.default)(xaxis.from),timefilter.time.to=(0,_moment2.default)(xaxis.to),timefilter.time.mode="absolute"})}var series=scope.series,units=(0,_chart.getUnits)(series);scope.$watch("series",function(series){(0,_reactDom.render)(_react2.default.createElement("div",{className:"monitoring-chart__container"},_react2.default.createElement("h2",{className:"euiTitle"},(0,_chart.getTitle)(series),units?" ("+units+")":"",_react2.default.createElement(_puiReactOverlayTrigger.OverlayTrigger,{placement:"left",trigger:"click",overlay:_react2.default.createElement(_puiReactTooltip.Tooltip,null,_react2.default.createElement(_chart.InfoTooltip,{series:series}))},_react2.default.createElement("span",{className:"monitoring-chart-tooltip__trigger overlay-trigger"},_react2.default.createElement(_components.KuiInfoButton,null)))),_react2.default.createElement(_chart.MonitoringTimeseries,{series:series,onBrush:onBrush})),$elem[0])})}}})},4012:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatTicksFor(series){var format=(0,_lodash.get)(series,".metric.format","0,0.0"),units=(0,_lodash.get)(series,".metric.units","");return function(val){var formatted=(0,_numeral2.default)(val).format(format);return"B"!==units&&""!==units&&(formatted+=" "+units),formatted}}function MonitoringTimeseries(_ref){var series=_ref.series,onBrush=_ref.onBrush,dataset=series.map(function(s,index){return{color:(0,_get_color.getColor)(s.metric.app,index),data:s.data,label:s.metric.label}}),firstSeries=(0,_lodash.first)(series),timeRange=(0,_lodash.get)(firstSeries,"timeRange"),formatTicks=formatTicksFor(firstSeries);return _react2.default.createElement(_timeseries_visualization.TimeseriesVisualization,{series:dataset,timeRange:timeRange,tickFormatter:formatTicks,onBrush:onBrush})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringTimeseries=MonitoringTimeseries;var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(0),_numeral=__webpack_require__(102),_numeral2=_interopRequireDefault(_numeral),_get_color=__webpack_require__(4013),_timeseries_visualization=__webpack_require__(4014)},4013:function(module,exports,__webpack_require__){"use strict";function getColor(app,index){var seriesColors=void 0;return seriesColors="elasticsearch"===app?["#3ebeb0","#3b73ac","#f08656","#6c478f"]:["#e8488b","#3b73ac","#3cab63","#6c478f"],seriesColors[index]?seriesColors[index]:"#000"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getColor=getColor},4014:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeseriesVisualization=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_get_last_value=__webpack_require__(4015),_timeseries_container=__webpack_require__(4016),_horizontal_legend=__webpack_require__(4024),_get_values_for_legend=__webpack_require__(4025),_monitoringConstants=__webpack_require__(49);(exports.TimeseriesVisualization=function(_React$Component){function TimeseriesVisualization(props){_classCallCheck(this,TimeseriesVisualization);var _this=_possibleConstructorReturn(this,(TimeseriesVisualization.__proto__||Object.getPrototypeOf(TimeseriesVisualization)).call(this,props));_this.debouncedUpdateLegend=_lodash2.default.debounce(_this.updateLegend,_monitoringConstants.DEBOUNCE_SLOW_MS),_this.debouncedUpdateLegend=_this.debouncedUpdateLegend.bind(_this),_this.toggleFilter=_this.toggleFilter.bind(_this);var values=_this.getLastValues(props);return _this.state={values:{},seriesToShow:_lodash2.default.keys(values),ignoreVisabilityUpdates:!1},_this}return _inherits(TimeseriesVisualization,_React$Component),_createClass(TimeseriesVisualization,[{key:"filterLegend",value:function(id){if(!_lodash2.default.has(this.state.values,id))return[];var notAllShown=_lodash2.default.keys(this.state.values).length!==this.state.seriesToShow.length,isCurrentlyShown=_lodash2.default.includes(this.state.seriesToShow,id),seriesToShow=[];return notAllShown&&isCurrentlyShown?this.setState({ignoreVisabilityUpdates:!1,seriesToShow:Object.keys(this.state.values)}):(seriesToShow.push(id),this.setState({ignoreVisabilityUpdates:!0,seriesToShow:[id]})),seriesToShow}},{key:"toggleFilter",value:function(_event,id){var seriesToShow=this.filterLegend(id);_lodash2.default.isFunction(this.props.onFilter)&&this.props.onFilter(seriesToShow)}},{key:"getLastValues",value:function(props){props=props||this.props;var values={};return props.series.forEach(function(row){row.id||(row.id=row.label),values[row.id]=(0,_get_last_value.getLastValue)(row.data)}),values}},{key:"updateLegend",value:function(pos,item){var values={};if(pos){var setValueCallback=function(seriesId,value){values[seriesId]=value};item?(0,_get_values_for_legend.getValuesForSeriesIndex)(this.props.series,item.dataIndex,setValueCallback):(0,_get_values_for_legend.getValuesByX)(this.props.series,pos.x,setValueCallback)}else _lodash2.default.assign(values,this.getLastValues());this.setState({values:values})}},{key:"componentWillReceiveProps",value:function(props){var values=this.getLastValues(props),currentKeys=_lodash2.default.keys(this.state.values),keys=_lodash2.default.keys(values),diff=_lodash2.default.difference(keys,currentKeys),nextState={values:values};diff.length&&!this.state.ignoreVisabilityUpdates&&(nextState.seriesToShow=keys),this.setState(nextState)}},{key:"render",value:function(){var style={flexDirection:"column"},legend=this.props.hasLegend?_react2.default.createElement(_horizontal_legend.HorizontalLegend,_extends({seriesFilter:this.state.seriesToShow,seriesValues:this.state.values,onToggle:this.toggleFilter},this.props)):null;return _react2.default.createElement("div",{className:"rhythm_chart"},_react2.default.createElement("div",{style:style,className:"rhythm_chart__content"},_react2.default.createElement("div",{className:"rhythm_chart__visualization"},_react2.default.createElement(_timeseries_container.TimeseriesContainer,_extends({seriesToShow:this.state.seriesToShow,updateLegend:this.debouncedUpdateLegend},this.props))),legend))}}]),TimeseriesVisualization}(_react2.default.Component)).defaultProps={hasLegend:!0}},4015:function(module,exports,__webpack_require__){"use strict";function getLastValue(data){if((0,_lodash.isNumber)(data))return data;if(!Array.isArray(data))return null;var lastValue=(0,_lodash.get)((0,_lodash.last)(data),"[1]");return(0,_lodash.isNumber)(lastValue)?lastValue:null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLastValue=getLastValue;var _lodash=__webpack_require__(0)},4016:function(module,exports,__webpack_require__){"use strict";function TimeseriesContainer(props){var container={display:"flex",rowDirection:"column",flex:"1 0 auto",position:"relative"};return _react2.default.createElement("div",{style:container},_react2.default.createElement(_chart_target.ChartTarget,props))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeseriesContainer=TimeseriesContainer;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_chart_target=__webpack_require__(4017)},4017:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChartTarget=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_jqueryFlot=__webpack_require__(753),_jqueryFlot2=_interopRequireDefault(_jqueryFlot),_event_bus=__webpack_require__(4022),_get_chart_options=__webpack_require__(4023);exports.ChartTarget=function(_React$Component){function ChartTarget(){return _classCallCheck(this,ChartTarget),_possibleConstructorReturn(this,(ChartTarget.__proto__||Object.getPrototypeOf(ChartTarget)).apply(this,arguments))}return _inherits(ChartTarget,_React$Component),_createClass(ChartTarget,[{key:"shouldComponentUpdate",value:function(){return!this.plot}},{key:"shutdownChart",value:function(){if(this.plot){var target=this.refs.target;(0,_jqueryFlot2.default)(target).off("plothover"),(0,_jqueryFlot2.default)(target).off("mouseleave"),(0,_jqueryFlot2.default)(target).off("plotselected"),(0,_jqueryFlot2.default)(target).off("plotselecting"),this.plot.shutdown(),_event_bus.eventBus.off("thorPlotHover"),_event_bus.eventBus.off("thorPlotLeave"),_event_bus.eventBus.off("thorPlotSelecting"),_event_bus.eventBus.off("thorPlotBrush")}}},{key:"componentWillUnmount",value:function(){this.shutdownChart(),window.removeEventListener("resize",this.resizeThrottler)}},{key:"filterByShow",value:function(seriesToShow){return seriesToShow?function(metric){return seriesToShow.some(function(id){return _lodash2.default.startsWith(id,metric.id)})}:function(_metric){return!0}}},{key:"componentWillReceiveProps",value:function(newProps){if(this.plot&&!_lodash2.default.isEqual(newProps,this.props)){var series=newProps.series,timeRange=newProps.timeRange,xaxisOptions=this.plot.getAxes().xaxis.options;xaxisOptions.min=_lodash2.default.get(timeRange,"min"),xaxisOptions.max=_lodash2.default.get(timeRange,"max"),this.plot.setData(this.filterData(series,newProps.seriesToShow)),this.plot.setupGrid(),this.plot.draw()}}},{key:"componentDidMount",value:function(){this.renderChart(),window.addEventListener("resize",this.resizeThrottler,!1),this.resizeThrottler()}},{key:"componentDidUpdate",value:function(){this.shutdownChart(),this.renderChart()}},{key:"filterData",value:function(data,seriesToShow){return(0,_lodash2.default)(data).filter(this.filterByShow(seriesToShow)).value()}},{key:"getOptions",value:function(){var opts=(0,_get_chart_options.getChartOptions)({yaxis:{tickFormatter:this.props.tickFormatter},xaxis:this.props.timeRange});return _lodash2.default.assign(opts,this.props.options)}},{key:"renderChart",value:function(){var _this2=this,target=this.refs.target,series=this.props.series,data=this.filterData(series,this.props.seriesToShow);this.plot=_jqueryFlot2.default.plot(target,data,this.getOptions()),this._handleResize=function(){if(_this2.plot)try{_this2.plot.resize(),_this2.plot.setupGrid(),_this2.plot.draw()}catch(e){}};var resizeTimeout=void 0;this.resizeThrottler=function(){resizeTimeout=window.setTimeout(function(){clearTimeout(resizeTimeout),_this2._handleResize()},250)},this.handleMouseLeave=function(){_event_bus.eventBus.trigger("thorPlotLeave",[])},this.handlePlotHover=function(_event,pos,item){_event_bus.eventBus.trigger("thorPlotHover",[pos,item,_this2.plot])},this.handleThorPlotHover=function(_event,pos,item,originalPlot){_this2.plot!==originalPlot&&_this2.plot.setCrosshair({x:_lodash2.default.get(pos,"x")}),_this2.props.updateLegend(pos,item)},this.handleThorPlotLeave=function(){_this2.plot.clearCrosshair(),_this2.props.updateLegend()},this.handleThorPlotSelecting=function(_event,xaxis,originalPlot){if(_this2.plot!==originalPlot){_this2.plot.setSelection({xaxis:xaxis},!0)}},this.handleThorPlotBrush=function(){_this2.plot.clearSelection()},this.selectingChart=function(_event,ranges){if(ranges){var xaxis=ranges.xaxis;_event_bus.eventBus.trigger("thorPlotSelecting",[xaxis,_this2.plot])}},this.brushChart=function(_event,ranges){_this2.props.onBrush(ranges),_event_bus.eventBus.trigger("thorPlotBrush")},(0,_jqueryFlot2.default)(target).on("plothover",this.handlePlotHover),(0,_jqueryFlot2.default)(target).on("mouseleave",this.handleMouseLeave),(0,_jqueryFlot2.default)(target).on("plotselected",this.brushChart),(0,_jqueryFlot2.default)(target).on("plotselecting",this.selectingChart),_event_bus.eventBus.on("thorPlotHover",this.handleThorPlotHover),_event_bus.eventBus.on("thorPlotLeave",this.handleThorPlotLeave),_event_bus.eventBus.on("thorPlotSelecting",this.handleThorPlotSelecting),_event_bus.eventBus.on("thorPlotBrush",this.handleThorPlotBrush)}},{key:"render",value:function(){var style={position:"relative",display:"flex",rowDirection:"column",flex:"1 0 auto"};return _react2.default.createElement("div",{ref:"target",style:style})}}]),ChartTarget}(_react2.default.Component)},4022:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventBus=void 0;var _jquery=__webpack_require__(9),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);exports.eventBus=(0,_jquery2.default)({})},4023:function(module,exports,__webpack_require__){"use strict";function getChartOptions(axisOptions){var opts={legend:{show:!1},xaxis:{color:_monitoringConstants.CHART_LINE_COLOR,timezone:"browser",mode:"time",font:{color:_monitoringConstants.CHART_TEXT_COLOR}},yaxis:{color:_monitoringConstants.CHART_LINE_COLOR,font:{color:_monitoringConstants.CHART_TEXT_COLOR}},series:{points:{show:!0,radius:1},lines:{show:!0,lineWidth:2},shadowSize:0},grid:{margin:0,borderWidth:1,borderColor:_monitoringConstants.CHART_LINE_COLOR,hoverable:!0},crosshair:{mode:"x",color:"#c66",lineWidth:2},selection:{mode:"x",color:_monitoringConstants.CHART_TEXT_COLOR}};return(0,_lodash.merge)(opts,axisOptions)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getChartOptions=getChartOptions;var _lodash=__webpack_require__(0),_monitoringConstants=__webpack_require__(49)},4024:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HorizontalLegend=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_lodash=__webpack_require__(0),_components=__webpack_require__(17);exports.HorizontalLegend=function(_React$Component){function HorizontalLegend(){_classCallCheck(this,HorizontalLegend);var _this=_possibleConstructorReturn(this,(HorizontalLegend.__proto__||Object.getPrototypeOf(HorizontalLegend)).call(this));return _this.formatter=_this.formatter.bind(_this),_this.createSeries=_this.createSeries.bind(_this),_this}return _inherits(HorizontalLegend,_React$Component),_createClass(HorizontalLegend,[{key:"formatter",value:function(value){return null===value?"N/A":(0,_lodash.isFunction)(this.props.tickFormatter)?this.props.tickFormatter(value):value}},{key:"createSeries",value:function(row,rowIdx){var _this2=this,formatter=row.tickFormatter||this.formatter,value=formatter(this.props.seriesValues[row.id]),classes=["col-md-4 col-xs-6 rhythm_chart__legend-item"];return(0,_lodash.includes)(this.props.seriesFilter,row.id)||classes.push("disabled"),row.label&&!1!==row.legend?_react2.default.createElement(_components.KuiKeyboardAccessible,{key:rowIdx},_react2.default.createElement("div",{className:classes.join(" "),onClick:function(event){return _this2.props.onToggle(event,row.id)}},_react2.default.createElement("span",{className:"rhythm_chart__legend-label"},_react2.default.createElement("span",{className:"fa fa-circle rhythm_chart__legend-indicator",style:{color:row.color},"aria-label":"toggle button"})," "+row.label),_react2.default.createElement("span",{className:"rhythm_chart__legend-value"}," "+value))):_react2.default.createElement("div",{key:rowIdx,style:{display:"none"}})}},{key:"render",value:function(){var rows=this.props.series.map(this.createSeries);return _react2.default.createElement("div",{className:"rhythm_chart__legend-horizontal"},_react2.default.createElement("div",{className:"row rhythm_chart__legend-series"},rows))}}]),HorizontalLegend}(_react2.default.Component)},4025:function(module,exports,__webpack_require__){"use strict";function getValuesForSeriesIndex(datasets,index,callback){for(var i=0;i<datasets.length;i++){var series=datasets[i],data=series.data,y=null;data.length>index&&data[index]&&(y=data[index][1]),callback(series.id,y)}}function getValuesByX(datasets,x,callback){for(var i=0;i<datasets.length;i++){var index=findIndexByX(datasets[i].data,x);if(-1!==index){getValuesForSeriesIndex(datasets,index,callback);break}}}function findIndexByX(data,x){var length=data.length;if(1===length)return 0;if(0!==length){var prev=null;data[0]&&(prev=0);for(var j=1;j<length;++j)if(data[j]){if(data[j][0]>x){var currentDistance=data[j][0]-x;return null!==prev&&currentDistance>Math.abs(x-data[prev][0])?prev:j}prev=j}}return length-1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getValuesForSeriesIndex=getValuesForSeriesIndex,exports.getValuesByX=getValuesByX,exports.findIndexByX=findIndexByX},4026:function(module,exports,__webpack_require__){"use strict";function InfoTooltip(_ref){var series=_ref.series,bucketSize=(0,_lodash.get)((0,_lodash.first)(series),"bucket_size"),tableRows=series.map(function(item,index){return _react2.default.createElement("tr",{key:"chart-tooltip-"+index},_react2.default.createElement("td",{className:"monitoring-chart-tooltip__label"},item.metric.label),_react2.default.createElement("td",{className:"monitoring-chart-tooltip__value"},item.metric.description))});return _react2.default.createElement("table",{className:"monitoring-chart-tooltip"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"monitoring-chart-tooltip__label"},"Interval"),_react2.default.createElement("td",{className:"monitoring-chart-tooltip__value"},bucketSize)),tableRows))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InfoTooltip=InfoTooltip;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_lodash=__webpack_require__(0)},4027:function(module,exports,__webpack_require__){"use strict";function getTitle(series){return(0,_lodash.chain)(series.map(function(s){return s.metric.title||s.metric.label})).first().value()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTitle=getTitle;var _lodash=__webpack_require__(0)},4028:function(module,exports,__webpack_require__){"use strict";function getUnits(series){var units=(0,_lodash.get)(series,"[0].metric.units");if("B"===units){var maxLastBytes=0;(0,_lodash.forEach)(series,function(s){var lastDataPoint=(0,_lodash.last)(s.data)||[null,0];maxLastBytes=Math.max(maxLastBytes,lastDataPoint[1])}),units=(0,_numeral2.default)(maxLastBytes).byteUnits()}return units}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUnits=getUnits;var _lodash=__webpack_require__(0),_numeral=__webpack_require__(102),_numeral2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_numeral)},409:function(module,exports,__webpack_require__){module.exports=__webpack_require__(1308)},4099:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_reactDom2=_interopRequireDefault(_reactDom),_modules=__webpack_require__(1),_sparkline=__webpack_require__(1327),_moment=__webpack_require__(12),_moment2=_interopRequireDefault(_moment),_format_number=__webpack_require__(73);_modules.uiModules.get("plugins/monitoring/directives",[]).directive("sparkline",function($injector){var timefilter=$injector.get("timefilter"),config=$injector.get("config"),dateFormat=config.get("dateFormat");return{restrict:"E",scope:{series:"="},link:function(scope,$elem){function onBrush(xaxis){scope.$evalAsync(function(){timefilter.time.from=(0,_moment2.default)(xaxis.from),timefilter.time.to=(0,_moment2.default)(xaxis.to),timefilter.time.mode="absolute"})}function tooltipXValueFormatter(xValue){return(0,_moment2.default)(xValue).format(dateFormat)}function tooltipYValueFormatter(yValue){return(0,_format_number.formatMetric)(yValue,scope.series.metric.format,scope.series.metric.units)}scope.$watch("series",function(series){var options={xaxis:series.timeRange};_reactDom2.default.render(_react2.default.createElement(_sparkline.Sparkline,{series:series.data,onBrush:onBrush,options:options,tooltip:{xValueFormatter:tooltipXValueFormatter,yValueFormatter:tooltipYValueFormatter}}),$elem[0])},!0),scope.$on("$destroy",function(){return _reactDom2.default.unmountComponentAtNode($elem[0])})}}})},4100:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function makeData(){var series=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],data=[];return data.push(series),data.push({data:[(0,_lodash.last)(series)],points:{show:!0,radius:2,fill:1,fillColor:!1}}),data}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SparklineFlotChart=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_jqueryFlot=__webpack_require__(753),_jqueryFlot2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jqueryFlot),_monitoringConstants=__webpack_require__(49),flotOptions={grid:{show:!1,margin:4,hoverable:!0},colors:["#3b73ac"],series:{shadowSize:0,lines:{lineWidth:2},highlightColor:"#3b73ac",points:{radius:2}}},_initialiseProps=(exports.SparklineFlotChart=function(){function SparklineFlotChart(containerElem,initialSeries,onBrush,onHover,overrideOptions){_classCallCheck(this,SparklineFlotChart),_initialiseProps.call(this),this.containerElem=containerElem,this.data=makeData(initialSeries),this.options=_extends({},flotOptions,overrideOptions),(0,_lodash.isFunction)(onBrush)&&this.setupBrushHandling(onBrush),(0,_lodash.isFunction)(onHover)&&this.setupHoverHandling(onHover),this.render(),window.addEventListener("resize",this.render)}return _createClass(SparklineFlotChart,[{key:"update",value:function(series){this.flotChart.setData(makeData(series)),this.flotChart.setupGrid(),this.flotChart.draw()}},{key:"shutdown",value:function(){this.flotChart.shutdown();var container=(0,_jqueryFlot2.default)(this.containerElem);container.off("plotselected"),container.off("plothover"),window.removeEventListener("resize",this.render)}}]),SparklineFlotChart}(),function(){var _this=this;this.render=function(){_this.flotChart=_jqueryFlot2.default.plot(_this.containerElem,_this.data,_this.options)},this.setupBrushHandling=function(onBrush){_this.options.selection={mode:"x",color:"#9c9c9c"},(0,_jqueryFlot2.default)(_this.containerElem).off("plotselected"),(0,_jqueryFlot2.default)(_this.containerElem).on("plotselected",function(_event,range){onBrush(range.xaxis),_this.flotChart.clearSelection()})},this.setupHoverHandling=function(onHover){var container=(0,_jqueryFlot2.default)(_this.containerElem),debouncedOnHover=(0,_lodash.debounce)(function(_event,_range,item){if(null===item)return onHover();onHover({xValue:item.datapoint[0],yValue:item.datapoint[1],xPosition:item.pageX-window.pageXOffset,yPosition:item.pageY-window.pageYOffset,plotTop:container.offset().top,plotLeft:container.offset().left,plotHeight:container.height(),plotWidth:container.width()})},_monitoringConstants.DEBOUNCE_FAST_MS,{leading:!0});container.off("plothover"),container.on("plothover",debouncedOnHover)}})},4101:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(46),_eui=__webpack_require__(13),_modules=__webpack_require__(1),_components=__webpack_require__(17),_table=__webpack_require__(177),_monitoringConstants=__webpack_require__(49),_tooltip=__webpack_require__(412),_formatted_message=__webpack_require__(1328),_map_severity=__webpack_require__(779),_monitoringCommon=__webpack_require__(537),_monitoringFormatting=__webpack_require__(409),linkToCategories={"elasticsearch/nodes":"Elasticsearch Nodes","elasticsearch/indices":"Elasticsearch Indices","kibana/instances":"Kibana Instances","logstash/instances":"Logstash Nodes"},filterFields=["message","severity_group","prefix","suffix","metadata.link","since","timestamp","update_timestamp"],columns=[{title:"Status",sortKey:"metadata.severity",sortOrder:_monitoringConstants.SORT_DESCENDING},{title:"Resolved",sortKey:"resolved_timestamp"},{title:"Message",sortKey:"message"},{title:"Category",sortKey:"metadata.link"},{title:"Last Checked",sortKey:"update_timestamp"},{title:"Triggered",sortKey:"timestamp"}],alertRowFactory=function(scope,kbnUrl){return function(props){var changeUrl=function(target){scope.$evalAsync(function(){kbnUrl.changePath(target)})},severityIcon=(0,_map_severity.mapSeverity)(props.metadata.severity),resolution={icon:null,text:"Not Resolved"};return props.resolved_timestamp?resolution.text=(0,_monitoringCommon.formatTimestampToDuration)(props.resolved_timestamp,_monitoringConstants.CALCULATE_DURATION_SINCE)+" ago":resolution.icon=_react2.default.createElement(_eui.EuiIcon,{type:"alert",size:"m","aria-label":"Not Resolved"}),_react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement(_tooltip.Tooltip,{text:severityIcon.title,placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiHealth,{color:severityIcon.color,"data-test-subj":"alertIcon","aria-label":severityIcon.title},(0,_lodash.capitalize)(severityIcon.value)))),_react2.default.createElement(_components.KuiTableRowCell,null,resolution.icon," ",resolution.text),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement(_formatted_message.FormattedMessage,{prefix:props.prefix,suffix:props.suffix,message:props.message,metadata:props.metadata,changeUrl:changeUrl})),_react2.default.createElement(_components.KuiTableRowCell,null,linkToCategories[props.metadata.link]?linkToCategories[props.metadata.link]:"General"),_react2.default.createElement(_components.KuiTableRowCell,null,(0,_monitoringFormatting.formatDateTimeLocal)(props.update_timestamp)),_react2.default.createElement(_components.KuiTableRowCell,null,(0,_monitoringCommon.formatTimestampToDuration)(props.timestamp,_monitoringConstants.CALCULATE_DURATION_SINCE)," ago"))}};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringClusterAlertsListing",function(kbnUrl){return{restrict:"E",scope:{alerts:"="},link:function(scope,$el){scope.$watch("alerts",function(){var alerts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],alertsTable=_react2.default.createElement(_table.MonitoringTable,{className:"alertsTable",rows:alerts,placeholder:"Filter Alerts...",filterFields:filterFields,columns:columns,rowComponent:alertRowFactory(scope,kbnUrl)});(0,_reactDom.render)(alertsTable,$el[0])})}}})},4102:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringTable=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(0),_monitoringConstants=__webpack_require__(49),_components=__webpack_require__(17),_search=__webpack_require__(4103),_no_data=__webpack_require__(4104),_footer=__webpack_require__(4105),_classnames=__webpack_require__(775),_classnames2=_interopRequireDefault(_classnames),MonitoringTable=exports.MonitoringTable=function(_React$Component){function MonitoringTable(props){_classCallCheck(this,MonitoringTable);var _this=_possibleConstructorReturn(this,(MonitoringTable.__proto__||Object.getPrototypeOf(MonitoringTable)).call(this,props)),sortKey=props.sortKey,sortOrder=props.sortOrder;if(void 0===props.sortKey||void 0===props.sortOrder){var defaultSortColumn=props.columns.find(function(c){return c.hasOwnProperty("sortOrder")});sortKey=defaultSortColumn?defaultSortColumn.sortKey:null,sortOrder=defaultSortColumn?defaultSortColumn.sortOrder:null}var secondarySortColumn=props.columns.find(function(c){return c.hasOwnProperty("secondarySortOrder")}),secondarySortKey=secondarySortColumn?secondarySortColumn.sortKey:null,secondarySortOrder=secondarySortColumn?secondarySortColumn.secondarySortOrder:null;return _this.state={rows:props.rows,sortKey:sortKey,sortOrder:sortOrder,secondarySortKey:secondarySortKey,secondarySortOrder:secondarySortOrder,filterText:props.filterText||"",pageIndex:props.pageIndex||1},_this.paginationOnPrevious=_this.paginationOnPrevious.bind(_this),_this.paginationOnNext=_this.paginationOnNext.bind(_this),_this.onFilterChange=_this.onFilterChange.bind(_this),_this.dispatchTableAction=_this.dispatchTableAction.bind(_this),_this}return _inherits(MonitoringTable,_React$Component),_createClass(MonitoringTable,[{key:"setFilter",value:function(filterText){var _this2=this;this.setState(function(prevState){var newState=_extends({},prevState,{pageIndex:1,filterText:filterText});return _this2.onNewState(newState),newState})}},{key:"resetPaging",value:function(){var _this3=this;this.setState(function(prevState){var newState=_extends({},prevState,{pageIndex:1});return _this3.onNewState(newState),newState})}},{key:"dispatchTableAction",value:function(action,value){switch(action){case _monitoringConstants.TABLE_ACTION_UPDATE_FILTER:this.setFilter(value);break;case _monitoringConstants.TABLE_ACTION_RESET_PAGING:this.resetPaging();break;default:throw new Error("Unknown table action type "+action+"! This shouldn't happen!")}}},{key:"onNewState",value:function(newState){this.props.onNewState&&this.props.onNewState(newState)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){var diffRows=!(0,_lodash.isEqual)(nextProps.rows,this.props.rows),diffState=!(0,_lodash.isEqual)(nextState,this.state);return!(!diffRows&&!diffState)}},{key:"componentWillReceiveProps",value:function(_ref){var rows=_ref.rows;this.setState({rows:rows})}},{key:"checkRowFilterMatch",value:function(row){var values=this.props.filterFields.map(function(field){return(0,_lodash.get)(row,field)});return(0,_lodash.includes)(values.join(" ").toLowerCase(),this.state.filterText.toLowerCase())}},{key:"getFilteredRows",value:function(){var _this4=this,rows=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.state.filterText?rows.filter(function(row){return _this4.checkRowFilterMatch(row)}):rows}},{key:"onFilterChange",value:function(filterText){this.setFilter(filterText)}},{key:"paginationHasPrevious",value:function(){return this.state.pageIndex>1}},{key:"paginationOnPrevious",value:function(){var _this5=this;this.setState(function(prevState){var newState=_extends({},prevState,{pageIndex:prevState.pageIndex-1});return _this5.onNewState(newState),newState})}},{key:"paginationHasNext",value:function(numAvailableRows){return this.state.pageIndex<Math.ceil(numAvailableRows/this.props.rowsPerPage)}},{key:"paginationOnNext",value:function(){var _this6=this;this.setState(function(prevState){var newState=_extends({},prevState,{pageIndex:prevState.pageIndex+1});return _this6.onNewState(newState),newState})}},{key:"getPaginationControls",value:function(numAvailableRows){if(0===numAvailableRows)return null;if(!this.isPaginationRequired(numAvailableRows))return null;var hasPrevious=this.paginationHasPrevious(),hasNext=this.paginationHasNext(numAvailableRows);return _react2.default.createElement(_components.KuiPagerButtonGroup,{hasNext:hasNext,hasPrevious:hasPrevious,onPrevious:this.paginationOnPrevious,onNext:this.paginationOnNext})}},{key:"calculateFirstRow",value:function(){return this.state.pageIndex*this.props.rowsPerPage-this.props.rowsPerPage}},{key:"getSearchBar",value:function(numVisibleRows,numAvailableRows){var firstRow=this.calculateFirstRow(),showSearchBox=this.isSearchBoxShown();return this.isPaginationRequired(numAvailableRows)||this.isSearchBoxShown()?_react2.default.createElement(_search.MonitoringTableSearchBar,{showSearchBox:showSearchBox,pageIndexFirstRow:numVisibleRows?firstRow+1:0,pageIndexLastRow:numVisibleRows?numVisibleRows+firstRow:0,rowsFiltered:numAvailableRows,filterText:this.state.filterText,placeholder:this.props.placeholder,paginationControls:this.getPaginationControls(numAvailableRows),onFilterChange:this.onFilterChange,renderToolBarSections:this.props.renderToolBarSections,dispatchTableAction:this.dispatchTableAction}):null}},{key:"setSortColumn",value:function(_ref2){var _this7=this,sortKey=_ref2.sortKey;this.setState(function(prevState){var newSortOrder=void 0;newSortOrder=sortKey===_this7.state.sortKey?-1*prevState.sortOrder:1;var newState=_extends({},prevState,{sortOrder:newSortOrder,sortKey:sortKey});return _this7.onNewState(newState),newState})}},{key:"getTableHeader",value:function(){var _this8=this;return this.props.columns.map(function(col){var headerCellProps={};col.headerCellProps&&Object.assign(headerCellProps,col.headerCellProps);var colKey=(0,_lodash.camelCase)(col.title);return _react2.default.createElement(_components.KuiTableHeaderCell,_extends({key:"kuiTableHeaderCell-"+colKey,onSort:null!==col.sortKey?_this8.setSortColumn.bind(_this8,col):null,isSorted:_this8.state.sortKey===col.sortKey,isSortAscending:_this8.state.sortKey!==col.sortKey||_this8.state.sortOrder>0,"data-test-subj":"tableHeaderCell-"+colKey},headerCellProps),col.title)})}},{key:"getFooter",value:function(numVisibleRows,numAvailableRows){if(!this.isPaginationRequired(numAvailableRows))return null;var firstRow=this.calculateFirstRow();return _react2.default.createElement(_footer.MonitoringTableFooter,{pageIndexFirstRow:numVisibleRows?firstRow+1:0,pageIndexLastRow:numVisibleRows?numVisibleRows+firstRow:0,rowsFiltered:numAvailableRows,paginationControls:this.getPaginationControls(numAvailableRows)})}},{key:"sortRows",value:function(){var rows=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.state.sortKey)return rows;var _sortOrder=this.state.sortOrder>0?"asc":"desc",_secondarySortOrder=void 0;return this.state.secondarySortOrder&&(_secondarySortOrder=this.state.secondarySortOrder>0?"asc":"desc"),(0,_lodash.sortByOrder)(rows,[this.state.sortKey,this.state.secondarySortKey],[_sortOrder,_secondarySortOrder])}},{key:"getVisibleRows",value:function(rows){var filteredRows=this.getFilteredRows(rows),numAvailableRows=filteredRows.length,sortedRows=this.sortRows(filteredRows),firstRow=this.calculateFirstRow();return{numAvailableRows:numAvailableRows,visibleRows:sortedRows.slice(firstRow,firstRow+this.props.rowsPerPage)||[]}}},{key:"isPaginationRequired",value:function(numAvailableRows){var hasPrevious=this.paginationHasPrevious(),hasNext=this.paginationHasNext(numAvailableRows);return hasPrevious||hasNext}},{key:"isSearchBoxShown",value:function(){return Boolean(this.props.filterFields)&&this.props.filterFields.length>0}},{key:"render",value:function(){var _this9=this,classes=(0,_classnames2.default)(this.props.className,"monitoringTable"),table=void 0,_getVisibleRows=this.getVisibleRows(this.state.rows||[]),visibleRows=_getVisibleRows.visibleRows,numAvailableRows=_getVisibleRows.numAvailableRows,numVisibleRows=visibleRows.length;if(null===this.state.rows)table=_react2.default.createElement(_no_data.MonitoringTableNoData,{message:"Loading..."});else if(numVisibleRows>0){var RowComponent=this.props.rowComponent,tBody=visibleRows.map(function(rowData,rowIndex){return _react2.default.createElement(RowComponent,_extends({},rowData,{key:"rowData-"+rowIndex,dispatchTableAction:_this9.dispatchTableAction}))});table=_react2.default.createElement(_components.KuiTable,{shrinkToContent:!0},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,this.getTableHeader())),_react2.default.createElement("tbody",{"data-test-subj":this.props.className+"Body"},tBody))}else table=_react2.default.createElement(_no_data.MonitoringTableNoData,{message:this.props.getNoDataMessage(this.state.filterText)});return this.isPaginationRequired(numAvailableRows)||this.isSearchBoxShown()?_react2.default.createElement(_components.KuiControlledTable,{className:classes,"data-test-subj":this.props.className+"Container"},this.getSearchBar(numVisibleRows,numAvailableRows),table,this.getFooter(numVisibleRows,numAvailableRows)):table}}]),MonitoringTable}(_react2.default.Component),defaultGetNoDataMessage=function(filterText){return filterText?_monitoringConstants.DEFAULT_NO_DATA_MESSAGE_WITH_FILTER.replace("{{FILTER}}",filterText.trim()):_monitoringConstants.DEFAULT_NO_DATA_MESSAGE};MonitoringTable.defaultProps={rows:[],filterFields:[],getNoDataMessage:defaultGetNoDataMessage,rowsPerPage:20}},4103:function(module,exports,__webpack_require__){"use strict";function MonitoringTableSearchBar(props){var searchBox=props.showSearchBox?_react2.default.createElement(_components.KuiToolBarSearchBox,{filter:props.filterText,onFilter:props.onFilterChange,placeholder:props.placeholder,"data-test-subj":"monitoringTableSearchBar"}):null,paginationSection=Boolean(props.paginationControls)?_react2.default.createElement(_components.KuiToolBarSection,null,_react2.default.createElement(_components.KuiToolBarText,null,props.pageIndexFirstRow," – ",props.pageIndexLastRow," of ",props.rowsFiltered),props.paginationControls):null;return _react2.default.createElement(_components.KuiToolBar,null,searchBox,props.renderToolBarSections(props),paginationSection)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringTableSearchBar=MonitoringTableSearchBar;var _lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(17);MonitoringTableSearchBar.defaultProps={renderToolBarSections:_lodash.noop,showSearchBox:!0}},4104:function(module,exports,__webpack_require__){"use strict";function MonitoringTableNoData(_ref){var message=_ref.message;return _react2.default.createElement(_components.KuiEmptyTablePromptPanel,{"data-test-subj":"monitoringTableNoData"},_react2.default.createElement(_components.KuiTableInfo,null,message))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringTableNoData=MonitoringTableNoData;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(17)},4105:function(module,exports,__webpack_require__){"use strict";function MonitoringTableFooter(_ref){var pageIndexFirstRow=_ref.pageIndexFirstRow,pageIndexLastRow=_ref.pageIndexLastRow,rowsFiltered=_ref.rowsFiltered,paginationControls=_ref.paginationControls;return _react2.default.createElement(_components.KuiToolBarFooter,null,_react2.default.createElement(_components.KuiToolBarFooterSection,null,_react2.default.createElement(_components.KuiToolBarText,null,pageIndexFirstRow," – ",pageIndexLastRow," of ",rowsFiltered),paginationControls))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringTableFooter=MonitoringTableFooter;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(17)},4106:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tableStorageSetter=exports.tableStorageGetter=void 0;var _lodash=__webpack_require__(0),_monitoringConstants=__webpack_require__(49);exports.tableStorageGetter=function(keyPrefix){return function(storage){var localStorageData=storage.get(_monitoringConstants.STORAGE_KEY)||{},filterText=(0,_lodash.get)(localStorageData,[keyPrefix,"filterText"]);return{pageIndex:(0,_lodash.get)(localStorageData,[keyPrefix,"pageIndex"]),filterText:filterText,sortKey:(0,_lodash.get)(localStorageData,[keyPrefix,"sortKey"]),sortOrder:(0,_lodash.get)(localStorageData,[keyPrefix,"sortOrder"])}}},exports.tableStorageSetter=function(keyPrefix){return function(storage,_ref){var filterText=_ref.filterText,pageIndex=_ref.pageIndex,sortKey=_ref.sortKey,sortOrder=_ref.sortOrder,localStorageData=storage.get(_monitoringConstants.STORAGE_KEY)||{};return(0,_lodash.set)(localStorageData,[keyPrefix,"filterText"],filterText||void 0),(0,_lodash.set)(localStorageData,[keyPrefix,"pageIndex"],pageIndex||void 0),(0,_lodash.set)(localStorageData,[keyPrefix,"sortKey"],sortKey||void 0),(0,_lodash.set)(localStorageData,[keyPrefix,"sortOrder"],sortOrder||void 0),storage.set(_monitoringConstants.STORAGE_KEY,localStorageData),localStorageData}}},4107:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _format_timestamp_to_duration=__webpack_require__(4108);Object.defineProperty(exports,"formatTimestampToDuration",{enumerable:!0,get:function(){return _format_timestamp_to_duration.formatTimestampToDuration}})},4108:function(module,exports,__webpack_require__){"use strict";function formatTimestampToDuration(timestamp,calculationFlag,initialTime){initialTime=initialTime||(0,_moment2.default)();var timeDuration=void 0;if(calculationFlag===_constants.CALCULATE_DURATION_SINCE)timeDuration=_moment2.default.duration(initialTime-(0,_moment2.default)(timestamp));else{if(calculationFlag!==_constants.CALCULATE_DURATION_UNTIL)throw new Error('[formatTimestampToDuration] requires a [calculationFlag] parameter to specify format as "since" or "until" the given time.');timeDuration=_moment2.default.duration((0,_moment2.default)(timestamp)-initialTime)}var duration=void 0;return duration=Math.abs(initialTime.diff(timestamp,"months"))>=1?_moment2.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_LONG):Math.abs(initialTime.diff(timestamp,"minutes"))>=1?_moment2.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_SHORT):_moment2.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_TINY),duration.replace(/ 0 min$/,"").replace(/ 0 hrs$/,"").replace(/ 0 days$/,"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatTimestampToDuration=formatTimestampToDuration;var _moment=__webpack_require__(12),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment);__webpack_require__(530);var _constants=__webpack_require__(334)},4109:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function linkStatusIconComponent(scope,$el,StatusIconComponent){scope.$watch("status",function(status){_reactDom2.default.unmountComponentAtNode($el[0]),_reactDom2.default.render(_react2.default.createElement("div",{title:scope.title},_react2.default.createElement(StatusIconComponent,{status:status})),$el[0])})}var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_reactDom2=_interopRequireDefault(_reactDom),_modules=__webpack_require__(1),_status_icon=__webpack_require__(1329),_status_icon2=__webpack_require__(1330),_status_icon3=__webpack_require__(1331),uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringKibanaStatusIcon",function(){return{restrict:"E",scope:{status:"="},link:function(scope,$el){linkStatusIconComponent(scope,$el,_status_icon3.KibanaStatusIcon)}}}),uiModule.directive("monitoringElasticsearchStatusIcon",function(){return{restrict:"E",scope:{status:"="},link:function(scope,$el){linkStatusIconComponent(scope,$el,_status_icon.ElasticsearchStatusIcon)}}}),uiModule.directive("monitoringElasticsearchNodeStatusIcon",function(){return{restrict:"E",scope:{status:"="},link:function(scope,$el){linkStatusIconComponent(scope,$el,_status_icon2.NodeStatusIcon)}}})},4110:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_reactDom2=_interopRequireDefault(_reactDom),_overview=__webpack_require__(4111);__webpack_require__(1).uiModules.get("monitoring/directives",[]).directive("monitoringClusterOverview",function(kbnUrl,showLicenseExpiration){return{restrict:"E",scope:{cluster:"="},link:function(scope,$el){var changeUrl=function(target){scope.$evalAsync(function(){kbnUrl.changePath(target)})};scope.$watch("cluster",function(cluster){_reactDom2.default.render(_react2.default.createElement(_overview.Overview,{cluster:cluster,changeUrl:changeUrl,showLicenseExpiration:showLicenseExpiration}),$el[0])})}}})},4111:function(module,exports,__webpack_require__){"use strict";function Overview(props){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_license_text.LicenseText,{license:props.cluster.license,showLicenseExpiration:props.showLicenseExpiration,changeUrl:props.changeUrl}),_react2.default.createElement(_alerts_panel.AlertsPanel,{alerts:props.cluster.alerts,changeUrl:props.changeUrl}),_react2.default.createElement(_elasticsearch_panel.ElasticsearchPanel,_extends({},props.cluster.elasticsearch,{ml:props.cluster.ml,changeUrl:props.changeUrl})),_react2.default.createElement(_kibana_panel.KibanaPanel,_extends({},props.cluster.kibana,{changeUrl:props.changeUrl})),_react2.default.createElement(_logstash_panel.LogstashPanel,_extends({},props.cluster.logstash,{changeUrl:props.changeUrl})),_react2.default.createElement(_beats_panel.BeatsPanel,_extends({},props.cluster.beats,{changeUrl:props.changeUrl})))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.Overview=Overview;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_elasticsearch_panel=__webpack_require__(4112),_license_text=__webpack_require__(4113),_kibana_panel=__webpack_require__(4114),_logstash_panel=__webpack_require__(4115),_alerts_panel=__webpack_require__(4116),_beats_panel=__webpack_require__(4117),_eui=__webpack_require__(13)},4112:function(module,exports,__webpack_require__){"use strict";function ElasticsearchPanel(props){var clusterStats=props.cluster_stats||{},nodes=clusterStats.nodes,indices=clusterStats.indices,goToElasticsearch=function(){return props.changeUrl("elasticsearch")},goToNodes=function(){return props.changeUrl("elasticsearch/nodes")},goToIndices=function(){return props.changeUrl("elasticsearch/indices")},_calculateShards=calculateShards((0,_lodash.get)(props,"cluster_stats.indices.shards",{})),primaries=_calculateShards.primaries,replicas=_calculateShards.replicas,statusIndicator=_react2.default.createElement(_helpers.HealthStatusIndicator,{status:clusterStats.status});return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{statusIndicator:statusIndicator,url:"elasticsearch",title:"Elasticsearch"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:3},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToElasticsearch,"aria-label":"Elasticsearch Overview","data-test-subj":"esOverview"},"Overview"))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Version"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esVersion"},(0,_lodash.get)(nodes,"versions[0]")||"N/A"),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Uptime"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esUptime"},(0,_format_number.formatNumber)((0,_lodash.get)(nodes,"jvm.max_uptime_in_millis"),"time_since")),function(){return props.ml?[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:"mlJobsListTitle"},"Jobs"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:"mlJobsCount","data-test-subj":"esMlJobs"},props.ml.jobs)]:null}()))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{"data-test-subj":"esNumberOfNodes",onClick:goToNodes},"Nodes: ",(0,_format_number.formatNumber)((0,_lodash.get)(nodes,"count.total"),"int_commas")))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Disk Available"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDiskAvailable"},_react2.default.createElement(_helpers.BytesUsage,{usedBytes:(0,_lodash.get)(nodes,"fs.available_in_bytes"),maxBytes:(0,_lodash.get)(nodes,"fs.total_in_bytes")})),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"JVM Heap"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esJvmHeap"},_react2.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:(0,_lodash.get)(nodes,"jvm.mem.heap_used_in_bytes"),maxBytes:(0,_lodash.get)(nodes,"jvm.mem.heap_max_in_bytes")}))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToIndices,"data-test-subj":"esNumberOfIndices","aria-label":"Elasticsearch Indices: "+(0,_format_number.formatNumber)((0,_lodash.get)(indices,"count"),"int_commas")},"Indices: ",(0,_format_number.formatNumber)((0,_lodash.get)(indices,"count"),"int_commas")))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Documents"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDocumentsCount"},(0,_format_number.formatNumber)((0,_lodash.get)(indices,"docs.count"),"int_commas")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Disk Usage"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDiskUsage"},(0,_format_number.formatNumber)((0,_lodash.get)(indices,"store.size_in_bytes"),"bytes")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Primary Shards"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esPrimaryShards"},primaries),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Replica Shards"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esReplicaShards"},replicas))))))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.ElasticsearchPanel=ElasticsearchPanel;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_lodash=__webpack_require__(0),_format_number=__webpack_require__(73),_helpers=__webpack_require__(539),_eui=__webpack_require__(13),calculateShards=function(shards){var total=(0,_lodash.get)(shards,"total",0),primaries=(0,_lodash.get)(shards,"primaries","N/A"),replicas="N/A";return"N/A"!==primaries&&(replicas=(0,_format_number.formatNumber)(total-primaries,"int_commas"),primaries=(0,_format_number.formatNumber)(primaries,"int_commas")),{primaries:primaries,replicas:replicas}}},4113:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LicenseText(props){var goToLicense=function(){return props.changeUrl("/license")},message=_react2.default.createElement(_eui.EuiLink,{onClick:goToLicense},"Your ",(0,_lodash.capitalize)(props.license.type)," license will expire on ",function(input){return _momentTimezone2.default.tz(input,_momentTimezone2.default.tz.guess()).format("LL")}(props.license.expiry_date),".");return props.license&&props.showLicenseExpiration?_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiCallOut,{color:"warning",title:message}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LicenseText=LicenseText;var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_momentTimezone=__webpack_require__(113),_momentTimezone2=_interopRequireDefault(_momentTimezone),_lodash=__webpack_require__(0),_eui=__webpack_require__(13)},4114:function(module,exports,__webpack_require__){"use strict";function KibanaPanel(props){if(!props.count)return null;var statusIndicator=_react2.default.createElement(_helpers.HealthStatusIndicator,{status:props.status}),goToKibana=function(){return props.changeUrl("kibana")},goToInstances=function(){return props.changeUrl("kibana/instances")};return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{statusIndicator:statusIndicator,url:"kibana",title:"Kibana"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToKibana,"aria-label":"Kibana Overview","data-test-subj":"kbnOverview"},"Overview"))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column","data-test-subj":"kibana_overview","data-overview-status":props.status},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Requests"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnRequests"},props.requests_total),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Max. Response Time"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnMaxResponseTime"},props.response_time_max," ms")))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToInstances,"data-test-subj":"kbnInstances","aria-label":"Kibana Instances: "+props.count},"Instances: ",_react2.default.createElement("span",{"data-test-subj":"number_of_kibana_instances"},props.count)))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Connections"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnConnections"},(0,_format_number.formatNumber)(props.concurrent_connections,"int_commas")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Memory Usage"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnMemoryUsage"},_react2.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.memory_size,maxBytes:props.memory_limit})))))))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.KibanaPanel=KibanaPanel;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_format_number=__webpack_require__(73),_helpers=__webpack_require__(539),_eui=__webpack_require__(13)},4115:function(module,exports,__webpack_require__){"use strict";function LogstashPanel(props){if(!props.node_count)return null;var goToLogstash=function(){return props.changeUrl("logstash")},goToNodes=function(){return props.changeUrl("logstash/nodes")},goToPipelines=function(){return props.changeUrl("logstash/pipelines")};return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"logstash",title:"Logstash"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:3},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToLogstash,"aria-label":"Logstash Overview"},"Overview"))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column","data-test-subj":"logstash_overview"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Events Received"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsEventsReceived"},(0,_format_number.formatNumber)(props.events_in_total,"0.[0]a")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Events Emitted"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsEventsEmitted"},(0,_format_number.formatNumber)(props.events_out_total,"0.[0]a"))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToNodes,"data-test-subj":"lsNodes","aria-label":"Logstash Nodes: "+props.node_count},"Nodes: ",_react2.default.createElement("span",{"data-test-subj":"number_of_logstash_instances"},props.node_count)))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Uptime"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsUptime"},(0,_format_number.formatNumber)(props.max_uptime,"time_since")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"JVM Heap"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsJvmHeap"},_react2.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.avg_memory_used,maxBytes:props.avg_memory}))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToPipelines,"data-test-subj":"lsPipelines","aria-label":"Logstash Pipelines (beta feature): "+props.pipeline_count},_react2.default.createElement(_tooltip.Tooltip,{text:"Beta Feature",placement:"bottom",trigger:"hover"},_react2.default.createElement("span",{className:"kuiIcon fa-flask betaIcon"})),"Pipelines: ",_react2.default.createElement("span",{"data-test-subj":"number_of_logstash_pipelines"},props.pipeline_count)))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"})))))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.LogstashPanel=LogstashPanel;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_format_number=__webpack_require__(73),_helpers=__webpack_require__(539),_tooltip=__webpack_require__(412),_eui=__webpack_require__(13)},4116:function(module,exports,__webpack_require__){"use strict";function AlertsPanel(_ref){function TopAlertItem(_ref2){var item=_ref2.item,index=_ref2.index,severityIcon=(0,_map_severity.mapSeverity)(item.metadata.severity);return item.resolved_timestamp&&(severityIcon.title=severityIcon.title+" (resolved "+(0,_monitoringCommon.formatTimestampToDuration)(item.resolved_timestamp,_monitoringConstants.CALCULATE_DURATION_SINCE)+" ago)",severityIcon.color="success",severityIcon.iconType="check"),_react2.default.createElement(_eui.EuiCallOut,{key:"alert-item-"+index,"data-test-subj":"topAlertItem",className:"kuiVerticalRhythm",iconType:severityIcon.iconType,color:severityIcon.color,title:severityIcon.title},_react2.default.createElement(_formatted_message.FormattedMessage,{prefix:item.prefix,suffix:item.suffix,message:item.message,metadata:item.metadata,changeUrl:changeUrl}),_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("p",{"data-test-subj":"alertMeta"},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Last checked ",(0,_monitoringFormatting.formatDateTimeLocal)(item.update_timestamp)," (triggered ",(0,_monitoringCommon.formatTimestampToDuration)(item.timestamp,_monitoringConstants.CALCULATE_DURATION_SINCE)," ago)"))))}var alerts=_ref.alerts,changeUrl=_ref.changeUrl,goToAlerts=function(){return changeUrl("/alerts")};if(!alerts||!alerts.length)return null;var topAlertItems=alerts.map(function(item,index){return _react2.default.createElement(TopAlertItem,{item:item,key:"top-alert-item-"+index,index:index})});return _react2.default.createElement("div",{"data-test-subj":"clusterAlertsContainer"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,"Top cluster alerts"))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButton,{size:"s",onClick:goToAlerts,"data-test-subj":"viewAllAlerts"},"View all alerts"))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),topAlertItems,_react2.default.createElement(_eui.EuiSpacer,{size:"xxl"}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AlertsPanel=AlertsPanel;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_formatted_message=__webpack_require__(1328),_map_severity=__webpack_require__(779),_monitoringCommon=__webpack_require__(537),_monitoringConstants=__webpack_require__(49),_monitoringFormatting=__webpack_require__(409),_eui=__webpack_require__(13)},4117:function(module,exports,__webpack_require__){"use strict";function BeatsPanel(props){if(!(0,_lodash.get)(props,"beats.total",0)>0)return null;var goToBeats=function(){return props.changeUrl("beats")},goToInstances=function(){return props.changeUrl("beats/beats")},beatTypes=props.beats.types.map(function(beat,index){return[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:"beat-types-type-"+index,"data-test-subj":"beatTypeCount","data-test-beat-type-count":beat.type+":"+beat.count},beat.type),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:"beat-types-count-"+index},beat.count)]});return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"beats",title:"Beats"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToBeats,"aria-label":"Beats Overview","data-test-subj":"beatsOverview"},"Overview"))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Total Events"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"beatsTotalEvents"},(0,_format_number.formatMetric)(props.totalEvents,"0.[0]a")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,"Bytes Sent"),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"beatsBytesSent"},(0,_format_number.formatMetric)(props.bytesSent,"bytes"))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToInstances,"aria-label":"Beats Instances: "+props.beats.total,"data-test-subj":"beatsListing"},"Beats: ",_react2.default.createElement("span",{"data-test-subj":"beatsTotal"},props.beats.total)))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},beatTypes)))))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.BeatsPanel=BeatsPanel;var _lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_format_number=__webpack_require__(73),_eui=__webpack_require__(13),_helpers=__webpack_require__(539)},4118:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_lodash=__webpack_require__(0),_moment=__webpack_require__(12),_moment2=_interopRequireDefault(_moment),_numeral=__webpack_require__(102),_numeral2=_interopRequireDefault(_numeral),_modules=__webpack_require__(1),_components=__webpack_require__(17),_eui=__webpack_require__(13),_notifier=__webpack_require__(21),_table=__webpack_require__(177),_tooltip=__webpack_require__(412),_alerts_indicator=__webpack_require__(4119),_monitoringConstants=__webpack_require__(49),filterFields=["cluster_name","status","license.type"],columns=[{title:"Name",sortKey:"cluster_name",sortOrder:_monitoringConstants.SORT_ASCENDING},{title:"Status",sortKey:"status"},{title:"Nodes",sortKey:"elasticsearch.cluster_stats.nodes.count.total"},{title:"Indices",sortKey:"elasticsearch.cluster_stats.indices.count"},{title:"Data",sortKey:"elasticsearch.cluster_stats.indices.store.size_in_bytes"},{title:"Logstash",sortKey:"logstash.node_count"},{title:"Kibana",sortKey:"kibana.count"},{title:"License",sortKey:"license.type"}],clusterRowFactory=function(scope,globalState,kbnUrl,showLicenseExpiration){return function(_React$Component){function ClusterRow(props){_classCallCheck(this,ClusterRow);var _this=_possibleConstructorReturn(this,(ClusterRow.__proto__||Object.getPrototypeOf(ClusterRow)).call(this,props));return _this.notify=new _notifier.Notifier,_this}return _inherits(ClusterRow,_React$Component),_createClass(ClusterRow,[{key:"changeCluster",value:function(){var _this2=this;scope.$evalAsync(function(){globalState.cluster_uuid=_this2.props.cluster_uuid,globalState.ccs=_this2.props.ccs,globalState.save(),kbnUrl.changePath("/overview")})}},{key:"licenseWarning",value:function(message){var _this3=this;scope.$evalAsync(function(){_this3.notify.warning(message,{lifetime:6e4})})}},{key:"handleClickIncompatibleLicense",value:function(){this.licenseWarning("You can't view the \""+this.props.cluster_name+'" cluster because the\nBasic license does not support multi-cluster monitoring.\n\nNeed to monitor multiple clusters? [Get a license with full functionality](https://www.elastic.co/subscriptions/xpack)\nto enjoy multi-cluster monitoring.')}},{key:"handleClickInvalidLicense",value:function(){this.licenseWarning("You can't view the \""+this.props.cluster_name+'" cluster because the\nlicense information is invalid.\n\nNeed a license? [Get a free Basic license](https://register.elastic.co/xpack_register)\nor get a license with [full functionality](https://www.elastic.co/subscriptions/xpack)\nto enjoy multi-cluster monitoring.')}},{key:"getClusterAction",value:function(){return this.props.isSupported?_react2.default.createElement("a",{className:"kuiLink",onClick:this.changeCluster.bind(this),"data-test-subj":"clusterLink"},this.props.cluster_name):this.props.license?_react2.default.createElement("a",{onClick:this.handleClickIncompatibleLicense.bind(this),"data-test-subj":"clusterLink"},this.props.cluster_name):_react2.default.createElement("a",{onClick:this.handleClickInvalidLicense.bind(this),"data-test-subj":"clusterLink"},this.props.cluster_name)}},{key:"getLicenseInfo",value:function(){var _this4=this;if(this.props.license){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"monitoringTableCell__ClusterCell__license"},(0,_lodash.capitalize)(this.props.license.type)),_react2.default.createElement("div",{className:"monitoringTableCell__ClusterCell__expiration"},showLicenseExpiration?function(){return _this4.props.license.expiry_date_in_millis<(0,_moment2.default)().valueOf()?_react2.default.createElement("span",{className:"monitoringTableCell__ClusterCell__expired"},"Expired"):_react2.default.createElement("span",null,"Expires ",(0,_moment2.default)(_this4.props.license.expiry_date_in_millis).format("D MMM YY"))}():null))}return _react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("div",{className:"kuiLink",onClick:this.handleClickInvalidLicense.bind(this)},_react2.default.createElement(_eui.EuiHealth,{color:"subdued","data-test-subj":"alertIcon"},"N/A")))}},{key:"render",value:function(){var isSupported=this.props.isSupported,IsClusterSupported=function(){return function(props){return isSupported?_react2.default.createElement("span",null,props.children):_react2.default.createElement("span",null,"-")}}(),classes=[];isSupported||classes.push("basic");var IsAlertsSupported=function(props){var _props$cluster$alerts=props.cluster.alerts,_props$cluster$alerts2=_props$cluster$alerts.alertsMeta,alertsMeta=void 0===_props$cluster$alerts2?{enabled:!0}:_props$cluster$alerts2,_props$cluster$alerts3=_props$cluster$alerts.clusterMeta,clusterMeta=void 0===_props$cluster$alerts3?{enabled:!0}:_props$cluster$alerts3;if(alertsMeta.enabled&&clusterMeta.enabled)return _react2.default.createElement("span",null,props.children);var message=alertsMeta.message||clusterMeta.message;return _react2.default.createElement(_tooltip.Tooltip,{text:message,placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiHealth,{color:"subdued","data-test-subj":"alertIcon"},"N/A"))};return _react2.default.createElement(_components.KuiTableRow,{"data-test-subj":"clusterRow_"+this.props.cluster_uuid},_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("span",{className:"monitoringTableCell__name"},_react2.default.createElement(_components.KuiKeyboardAccessible,null,this.getClusterAction()))),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"alertsStatus"},_react2.default.createElement(IsClusterSupported,null,_react2.default.createElement(IsAlertsSupported,{cluster:this.props},_react2.default.createElement(_alerts_indicator.AlertsIndicator,{alerts:this.props.alerts})))),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"nodesCount"},_react2.default.createElement(IsClusterSupported,null,(0,_numeral2.default)((0,_lodash.get)(this.props,"elasticsearch.cluster_stats.nodes.count.total")).format("0,0"))),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"indicesCount"},_react2.default.createElement(IsClusterSupported,null,(0,_numeral2.default)((0,_lodash.get)(this.props,"elasticsearch.cluster_stats.indices.count")).format("0,0"))),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"dataSize"},_react2.default.createElement(IsClusterSupported,null,(0,_numeral2.default)((0,_lodash.get)(this.props,"elasticsearch.cluster_stats.indices.store.size_in_bytes")).format("0,0[.]0 b"))),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"logstashCount"},_react2.default.createElement(IsClusterSupported,null,(0,_numeral2.default)((0,_lodash.get)(this.props,"logstash.node_count")).format("0,0"))),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"kibanaCount"},_react2.default.createElement(IsClusterSupported,null,(0,_numeral2.default)((0,_lodash.get)(this.props,"kibana.count")).format("0,0"))),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"clusterLicense"},this.getLicenseInfo()))}}]),ClusterRow}(_react2.default.Component)};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringClusterListing",function($injector){return{restrict:"E",scope:{clusters:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"="},link:function(scope,$el){var globalState=$injector.get("globalState"),kbnUrl=$injector.get("kbnUrl"),showLicenseExpiration=$injector.get("showLicenseExpiration");scope.$watch("clusters",function(){var clusters=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],clusterTable=_react2.default.createElement(_table.MonitoringTable,{className:"clusterTable",rows:clusters,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:"Filter Clusters...",filterFields:filterFields,columns:columns,rowComponent:clusterRowFactory(scope,globalState,kbnUrl,showLicenseExpiration)});(0,_reactDom.render)(clusterTable,$el[0])})}}})},4119:function(module,exports,__webpack_require__){"use strict";function AlertsIndicator(_ref){var alerts=_ref.alerts;if(alerts&&alerts.count>0){var severity=function(){return alerts.high>0?HIGH_SEVERITY:alerts.medium>0?MEDIUM_SEVERITY:LOW_SEVERITY}(),severityIcon=(0,_map_severity.mapSeverity)(severity),tooltipText=function(){switch(severity){case HIGH_SEVERITY:return"There are some critical cluster issues that require your immediate attention!";case MEDIUM_SEVERITY:return"There are some issues that might have impact on your cluster.";default:return"There are some low-severity cluster issues"}}();return _react2.default.createElement(_tooltip.Tooltip,{text:tooltipText,placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiHealth,{color:severityIcon.color,"data-test-subj":"alertIcon"},"Alerts"))}return _react2.default.createElement(_tooltip.Tooltip,{text:"Cluster status is clear!",placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiHealth,{color:"success","data-test-subj":"alertIcon"},"Clear"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AlertsIndicator=AlertsIndicator;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_tooltip=__webpack_require__(412),_map_severity=__webpack_require__(779),_eui=__webpack_require__(13),HIGH_SEVERITY=2e3,MEDIUM_SEVERITY=1e3,LOW_SEVERITY=0},412:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tooltip=void 0;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_puiReactTooltip=__webpack_require__(283),_puiReactOverlayTrigger=__webpack_require__(287);(exports.Tooltip=function(props){var tooltip=_react2.default.createElement(_puiReactTooltip.Tooltip,null,props.text);return _react2.default.createElement(_puiReactOverlayTrigger.OverlayTrigger,{placement:props.placement,trigger:props.trigger,overlay:tooltip},_react2.default.createElement("span",{className:"overlay-trigger"},_react2.default.createElement("span",{className:"monitoring-tooltip__trigger"},props.children)))}).defaultProps={placement:"top",trigger:"click"}},4120:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_index=__webpack_require__(4121),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringClusterStatusElasticsearch",function(){return{restrict:"E",template:_index2.default,scope:{status:"="}}})},4121:function(module,exports){module.exports='<div class="monitoring-summary-status">\n  <div class="monitoring-summary-status__content" data-test-subj="elasticsearchSummaryStatus">\n    <div>Nodes:\n      <strong data-test-subj="nodesCount">{{ status.nodesCount }}</strong>\n    </div>\n    <div>Indices:\n      <strong data-test-subj="indicesCount">{{ status.indicesCount }}</strong>\n    </div>\n    <div>Memory:\n      <strong data-test-subj="memory">{{ status.memUsed|formatNumber:\'bytes\' }} / {{ status.memMax|formatNumber:\'bytes\' }}</strong>\n    </div>\n    <div>Total Shards:\n      <strong data-test-subj="totalShards">{{ status.totalShards }}</strong>\n    </div>\n    <div>Unassigned Shards:\n      <strong data-test-subj="unassignedShards">{{ status.unassignedShards }}</strong>\n    </div>\n    <div>Documents:\n      <strong data-test-subj="documentCount">{{ status.documentCount|formatNumber:\'int_commas\' }}</strong>\n    </div>\n    <div>Data:\n      <strong data-test-subj="dataSize">{{ status.dataSize|formatNumber:\'bytes\' }}</strong>\n    </div>\n    <div class="monitoring-summary-status__status-indicator">\n      Health:\n      <monitoring-elasticsearch-status-icon\n        status="status.status"\n        title="Status of the Elasticsearch cluster: {{ status.status }}"\n      ></monitoring-elasticsearch-status-icon>\n      {{ status.status|capitalize }}\n    </div>\n  </div>\n</div>\n'},4122:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(46),_monitoringConstants=__webpack_require__(49),_monitoringFormatting=__webpack_require__(409),_modules=__webpack_require__(1),_components=__webpack_require__(17),_table=__webpack_require__(177),_index_listing=__webpack_require__(4123),_status_icon=__webpack_require__(1329),_format_number=__webpack_require__(73),filterFields=["name","status"],cols=[{title:"Name",sortKey:"name",secondarySortOrder:_monitoringConstants.SORT_ASCENDING},{title:"Status",sortKey:"statusSort",sortOrder:_monitoringConstants.SORT_DESCENDING},{title:"Document Count",sortKey:"doc_count"},{title:"Data",sortKey:"data_size"},{title:"Index Rate",sortKey:"index_rate"},{title:"Search Rate",sortKey:"search_rate"},{title:"Unassigned Shards",sortKey:"unassigned_shards"}],indexRowFactory=function(scope,kbnUrl){return function(_React$Component){function IndexRow(props){_classCallCheck(this,IndexRow);var _this=_possibleConstructorReturn(this,(IndexRow.__proto__||Object.getPrototypeOf(IndexRow)).call(this,props));return _this.changePath=_this.changePath.bind(_this),_this}return _inherits(IndexRow,_React$Component),_createClass(IndexRow,[{key:"changePath",value:function(){var _this2=this;scope.$evalAsync(function(){kbnUrl.changePath("/elasticsearch/indices/"+_this2.props.name)})}},{key:"render",value:function(){var status=this.props.status;return _react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"name"},_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:this.changePath,"data-test-subj":"indexLink-"+this.props.name},this.props.name))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{title:"Index status: "+status},_react2.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:status})," ",(0,_lodash.capitalize)(status))),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"documentCount"},(0,_format_number.formatMetric)((0,_lodash.get)(this.props,"doc_count"),_monitoringFormatting.LARGE_ABBREVIATED)),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"dataSize"},(0,_format_number.formatMetric)((0,_lodash.get)(this.props,"data_size"),_monitoringFormatting.LARGE_BYTES)),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"indexRate"},(0,_format_number.formatMetric)((0,_lodash.get)(this.props,"index_rate"),_monitoringFormatting.LARGE_FLOAT,"/s")),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"searchRate"},(0,_format_number.formatMetric)((0,_lodash.get)(this.props,"search_rate"),_monitoringFormatting.LARGE_FLOAT,"/s")),_react2.default.createElement(_components.KuiTableRowCell,{"data-test-subj":"unassignedShards"},(0,_format_number.formatMetric)((0,_lodash.get)(this.props,"unassigned_shards"),"0")))}}]),IndexRow}(_react2.default.Component)},getNoDataMessage=function(filterText){return filterText?_react2.default.createElement("div",null,_react2.default.createElement("p",null,"There are no indices that match your selection with the filter [",filterText.trim(),"]. Try changing the filter or the time range selection."),_react2.default.createElement("p",null,"If you are looking for system indices (e.g., .kibana), try checking ‘Show system indices’.")):_react2.default.createElement("div",null,_react2.default.createElement("p",null,"There are no indices that match your selections. Try changing the time range selection."),_react2.default.createElement("p",null,"If you are looking for system indices (e.g., .kibana), try checking ‘Show system indices’."))};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringIndexListing",function(kbnUrl){return{restrict:"E",scope:{indices:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"=",showSystemIndices:"=",toggleShowSystemIndices:"="},link:function(scope,$el){var toggleShowSystemIndices=function(isChecked){scope.$evalAsync(function(){scope.toggleShowSystemIndices(isChecked)})},renderToolBarSection=function(props){return _react2.default.createElement(_index_listing.ShowSytemIndicesCheckbox,_extends({showSystemIndices:scope.showSystemIndices,toggleShowSystemIndices:toggleShowSystemIndices},props))};scope.$watch("indices",function(){var indices=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],instancesTable=_react2.default.createElement(_table.MonitoringTable,{className:"indicesTable",rows:indices,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:"Filter Indices...",filterFields:filterFields,renderToolBarSections:renderToolBarSection,columns:cols,rowComponent:indexRowFactory(scope,kbnUrl),getNoDataMessage:getNoDataMessage});(0,_reactDom.render)(instancesTable,$el[0])})}}})},4123:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _show_system_indices_checkbox=__webpack_require__(4124);Object.defineProperty(exports,"ShowSytemIndicesCheckbox",{enumerable:!0,get:function(){return _show_system_indices_checkbox.ShowSytemIndicesCheckbox}})},4124:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShowSytemIndicesCheckbox=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(17),_monitoringConstants=__webpack_require__(49);exports.ShowSytemIndicesCheckbox=function(_React$Component){function ShowSytemIndicesCheckbox(props){_classCallCheck(this,ShowSytemIndicesCheckbox);var _this=_possibleConstructorReturn(this,(ShowSytemIndicesCheckbox.__proto__||Object.getPrototypeOf(ShowSytemIndicesCheckbox)).call(this));return _this.state={showSystemIndices:props.showSystemIndices},_this.toggleShowSystemIndices=_this.toggleShowSystemIndices.bind(_this),_this}return _inherits(ShowSytemIndicesCheckbox,_React$Component),_createClass(ShowSytemIndicesCheckbox,[{key:"toggleShowSystemIndices",value:function(e){var isChecked=Boolean(e.target.checked);this.setState({showSystemIndices:isChecked}),this.props.toggleShowSystemIndices(isChecked),this.props.dispatchTableAction(_monitoringConstants.TABLE_ACTION_RESET_PAGING)}},{key:"render",value:function(){return _react2.default.createElement(_components.KuiToolBarSection,null,_react2.default.createElement(_components.KuiToolBarText,null,_react2.default.createElement("label",{className:"kuiCheckBoxLabel"},_react2.default.createElement("input",{className:"kuiCheckBox",type:"checkbox",onChange:this.toggleShowSystemIndices,checked:this.state.showSystemIndices}),_react2.default.createElement("span",{className:"kuiCheckBoxLabel__text"},"Show system indices"))))}}]),ShowSytemIndicesCheckbox}(_react2.default.Component)},4125:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_index=__webpack_require__(4126),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringIndexSummary",function(){return{restrict:"E",template:_index2.default,scope:{summary:"="}}})},4126:function(module,exports){module.exports='<div class="monitoring-summary-status">\n  <div class="monitoring-summary-status__content" data-test-subj="elasticsearchIndexSummaryStatus">\n    <div data-test-subj="dataSize">\n      Total:\n      <strong>{{ summary.dataSize.total|formatMetric:\'0.0 b\' }}</strong>\n    </div>\n    <div data-test-subj="dataSizePrimaries">\n      Primaries:\n      <strong>{{ summary.dataSize.primaries|formatMetric:\'0.0 b\' }}</strong>\n    </div>\n    <div data-test-subj="documentCount">\n      Documents:\n      <strong>{{ summary.documents|formatMetric:\'0.[0]a\' }}</strong>\n    </div>\n    <div data-test-subj="totalShards">\n      Total Shards:\n      <strong>{{ summary.totalShards|formatMetric:\'0,0\' }}</strong>\n    </div>\n    <div data-test-subj="unassignedShards">\n      Unassigned Shards:\n      <strong>{{ summary.unassignedShards|formatMetric:\'0,0\' }}</strong>\n    </div>\n    <div class="monitoring-summary-status__status-indicator">\n      Health:\n      <monitoring-elasticsearch-status-icon\n        status="summary.status"\n        title="Status of this index: {{ summary.status }}"\n      ></monitoring-elasticsearch-status-icon>\n      {{ summary.status|capitalize }}\n    </div>\n  </div>\n</div>\n'},4127:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(46),_modules=__webpack_require__(1),_components=__webpack_require__(17),_cells=__webpack_require__(4128),_status_icon=__webpack_require__(1330),_tooltip=__webpack_require__(412),_table=__webpack_require__(177),_extract_ip=__webpack_require__(1307),_monitoringConstants=__webpack_require__(49),filterFields=["nodeName","status","type","transport_address"],getColumns=function(showCgroupMetricsElasticsearch){var cols=[];return cols.push({title:"Name",sortKey:"nodeName",sortOrder:_monitoringConstants.SORT_ASCENDING}),cols.push({title:"Status",sortKey:"online"}),showCgroupMetricsElasticsearch?(cols.push({title:"CPU Usage",sortKey:"metrics.node_cgroup_quota.last"}),cols.push({title:"CPU Throttling",sortKey:"metrics.node_cgroup_throttled.last"})):(cols.push({title:"CPU Usage",sortKey:"metrics.node_cpu_utilization.last"}),cols.push({title:"Load Average",sortKey:"metrics.node_load_average.last"})),cols.push({title:"JVM Memory",sortKey:"metrics.node_jvm_mem_percent.last"}),cols.push({title:"Disk Free Space",sortKey:"metrics.node_free_space.last"}),cols.push({title:"Shards",sortKey:"metrics.shard_count"}),cols},nodeRowFactory=function(scope,kbnUrl,showCgroupMetricsElasticsearch){return function(_React$Component){function NodeRow(props){_classCallCheck(this,NodeRow);var _this=_possibleConstructorReturn(this,(NodeRow.__proto__||Object.getPrototypeOf(NodeRow)).call(this,props));return _this.goToNode=_this.goToNode.bind(_this),_this}return _inherits(NodeRow,_React$Component),_createClass(NodeRow,[{key:"goToNode",value:function(){var _this2=this;scope.$evalAsync(function(){kbnUrl.changePath("/elasticsearch/nodes/"+_this2.props.resolver)})}},{key:"isOnline",value:function(){return"Online"===this.props.status}},{key:"getCpuComponents",value:function(){var isOnline=this.isOnline();return showCgroupMetricsElasticsearch?[_react2.default.createElement(_cells.MetricCell,{key:"cpuCol1",isOnline:isOnline,metric:(0,_lodash.get)(this.props,"metrics.node_cgroup_quota")}),_react2.default.createElement(_cells.MetricCell,{key:"cpuCol2",isOnline:isOnline,metric:(0,_lodash.get)(this.props,"metrics.node_cgroup_throttled")})]:[_react2.default.createElement(_cells.MetricCell,{key:"cpuCol1",isOnline:isOnline,metric:(0,_lodash.get)(this.props,"metrics.node_cpu_utilization")}),_react2.default.createElement(_cells.MetricCell,{key:"cpuCol2",isOnline:isOnline,metric:(0,_lodash.get)(this.props,"metrics.node_load_average")})]}},{key:"getShardCount",value:function(){return this.isOnline()?_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number"},(0,_lodash.get)(this.props,"metrics.shard_count"))):_react2.default.createElement(_cells.OfflineCell,null)}},{key:"render",value:function(){var isOnline=this.isOnline();return _react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__name"},_react2.default.createElement(_tooltip.Tooltip,{text:this.props.node.nodeTypeLabel,trigger:"hover",placement:"bottom"},_react2.default.createElement("span",{className:"fa "+this.props.node.nodeTypeClass}))," ",_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:this.goToNode,"data-test-subj":"nodeLink-"+this.props.resolver},this.props.node.name))),_react2.default.createElement("div",{className:"monitoringTableCell__transportAddress"},(0,_extract_ip.extractIp)(this.props.node.transport_address))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{title:"Node status: "+this.props.status,className:"monitoringTableCell__status"},_react2.default.createElement(_status_icon.NodeStatusIcon,{status:this.props.status})," ",this.props.status)),this.getCpuComponents(),_react2.default.createElement(_cells.MetricCell,{isOnline:isOnline,metric:(0,_lodash.get)(this.props,"metrics.node_jvm_mem_percent")}),_react2.default.createElement(_cells.MetricCell,{isOnline:isOnline,metric:(0,_lodash.get)(this.props,"metrics.node_free_space")}),this.getShardCount())}}]),NodeRow}(_react2.default.Component)};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringNodesListing",function($injector){var kbnUrl=$injector.get("kbnUrl"),showCgroupMetricsElasticsearch=$injector.get("showCgroupMetricsElasticsearch"),columns=getColumns(showCgroupMetricsElasticsearch);return{restrict:"E",scope:{nodes:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"="},link:function(scope,$el){scope.$watch("nodes",function(){var nodes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],nodesTable=_react2.default.createElement(_table.MonitoringTable,{className:"nodesTable",rows:nodes,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:"Filter Nodes...",filterFields:filterFields,columns:columns,rowComponent:nodeRowFactory(scope,kbnUrl,showCgroupMetricsElasticsearch)});(0,_reactDom.render)(nodesTable,$el[0])})}}})},4128:function(module,exports,__webpack_require__){"use strict";function OfflineCell(){return _react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number monitoringTableCell__offline"},"N/A"))}function formatMetric(metric,key){var meta=metric.metric,value=(0,_lodash.get)(metric,key);return meta.format?Boolean(value)||0===value?(0,_format_number.formatNumber)(value,meta.format)+" "+meta.units:"N/A":value}function slopeArrow(metric){return metric.slope>0?"up":"down"}function MetricCell(props){return props.isOnline?_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__MetricCell__metric"},formatMetric(props.metric,"last")),_react2.default.createElement("span",{className:"monitoringTableCell__MetricCell__slopeArrow fa fa-long-arrow-"+slopeArrow(props.metric)}),_react2.default.createElement("div",{className:"monitoringTableCell__MetricCell__minMax"},_react2.default.createElement("div",null,formatMetric(props.metric,"max")," max"),_react2.default.createElement("div",null,formatMetric(props.metric,"min")," min"))):_react2.default.createElement(OfflineCell,null)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MetricCell=exports.OfflineCell=void 0;var _lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_format_number=__webpack_require__(73),_components=__webpack_require__(17);exports.OfflineCell=OfflineCell,exports.MetricCell=MetricCell},4129:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_index=__webpack_require__(4130),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringNodeSummary",function(){return{restrict:"E",template:_index2.default,scope:{node:"="}}})},413:function(module,exports,__webpack_require__){"use strict";function isGroup(g){return void 0!==g.leaves||void 0!==g.groups}Object.defineProperty(exports,"__esModule",{value:!0});var EventType,powergraph=__webpack_require__(1341),linklengths_1=__webpack_require__(783),descent_1=__webpack_require__(784),rectangle_1=__webpack_require__(414),shortestpaths_1=__webpack_require__(540),geom_1=__webpack_require__(1344),handledisconnected_1=__webpack_require__(1345);!function(EventType){EventType[EventType.start=0]="start",EventType[EventType.tick=1]="tick",EventType[EventType.end=2]="end"}(EventType=exports.EventType||(exports.EventType={}));var Layout=function(){function Layout(){var _this=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:Layout.getSourceIndex,getTargetIndex:Layout.getTargetIndex,setLength:Layout.setLinkLength,getType:function(l){return"function"==typeof _this._linkType?_this._linkType(l):0}}}return Layout.prototype.on=function(e,listener){return this.event||(this.event={}),"string"==typeof e?this.event[EventType[e]]=listener:this.event[e]=listener,this},Layout.prototype.trigger=function(e){this.event&&void 0!==this.event[e.type]&&this.event[e.type](e)},Layout.prototype.kick=function(){for(;!this.tick(););},Layout.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:EventType.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var o,i,n=this._nodes.length;this._links.length;for(this._descent.locks.clear(),i=0;i<n;++i)if(o=this._nodes[i],o.fixed){void 0!==o.px&&void 0!==o.py||(o.px=o.x,o.py=o.y);var p=[o.px,o.py];this._descent.locks.add(i,p)}var s1=this._descent.rungeKutta();return 0===s1?this._alpha=0:void 0!==this._lastStress&&(this._alpha=s1),this._lastStress=s1,this.updateNodePositions(),this.trigger({type:EventType.tick,alpha:this._alpha,stress:this._lastStress}),!1},Layout.prototype.updateNodePositions=function(){for(var o,x=this._descent.x[0],y=this._descent.x[1],i=this._nodes.length;i--;)o=this._nodes[i],o.x=x[i],o.y=y[i]},Layout.prototype.nodes=function(v){if(!v){if(0===this._nodes.length&&this._links.length>0){var n=0;this._links.forEach(function(l){n=Math.max(n,l.source,l.target)}),this._nodes=new Array(++n);for(var i=0;i<n;++i)this._nodes[i]={}}return this._nodes}return this._nodes=v,this},Layout.prototype.groups=function(x){var _this=this;return x?(this._groups=x,this._rootGroup={},this._groups.forEach(function(g){void 0===g.padding&&(g.padding=1),void 0!==g.leaves&&g.leaves.forEach(function(v,i){"number"==typeof v&&((g.leaves[i]=_this._nodes[v]).parent=g)}),void 0!==g.groups&&g.groups.forEach(function(gi,i){"number"==typeof gi&&((g.groups[i]=_this._groups[gi]).parent=g)})}),this._rootGroup.leaves=this._nodes.filter(function(v){return void 0===v.parent}),this._rootGroup.groups=this._groups.filter(function(g){return void 0===g.parent}),this):this._groups},Layout.prototype.powerGraphGroups=function(f){var g=powergraph.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(g.groups),f(g),this},Layout.prototype.avoidOverlaps=function(v){return arguments.length?(this._avoidOverlaps=v,this):this._avoidOverlaps},Layout.prototype.handleDisconnected=function(v){return arguments.length?(this._handleDisconnected=v,this):this._handleDisconnected},Layout.prototype.flowLayout=function(axis,minSeparation){return arguments.length||(axis="y"),this._directedLinkConstraints={axis:axis,getMinSeparation:"number"==typeof minSeparation?function(){return minSeparation}:minSeparation},this},Layout.prototype.links=function(x){return arguments.length?(this._links=x,this):this._links},Layout.prototype.constraints=function(c){return arguments.length?(this._constraints=c,this):this._constraints},Layout.prototype.distanceMatrix=function(d){return arguments.length?(this._distanceMatrix=d,this):this._distanceMatrix},Layout.prototype.size=function(x){return x?(this._canvasSize=x,this):this._canvasSize},Layout.prototype.defaultNodeSize=function(x){return x?(this._defaultNodeSize=x,this):this._defaultNodeSize},Layout.prototype.groupCompactness=function(x){return x?(this._groupCompactness=x,this):this._groupCompactness},Layout.prototype.linkDistance=function(x){return x?(this._linkDistance="function"==typeof x?x:+x,this._linkLengthCalculator=null,this):this._linkDistance},Layout.prototype.linkType=function(f){return this._linkType=f,this},Layout.prototype.convergenceThreshold=function(x){return x?(this._threshold="function"==typeof x?x:+x,this):this._threshold},Layout.prototype.alpha=function(x){return arguments.length?(x=+x,this._alpha?this._alpha=x>0?x:0:x>0&&(this._running||(this._running=!0,this.trigger({type:EventType.start,alpha:this._alpha=x}),this.kick())),this):this._alpha},Layout.prototype.getLinkLength=function(link){return"function"==typeof this._linkDistance?+this._linkDistance(link):this._linkDistance},Layout.setLinkLength=function(link,length){link.length=length},Layout.prototype.getLinkType=function(link){return"function"==typeof this._linkType?this._linkType(link):0},Layout.prototype.symmetricDiffLinkLengths=function(idealLength,w){var _this=this;return void 0===w&&(w=1),this.linkDistance(function(l){return idealLength*l.length}),this._linkLengthCalculator=function(){return linklengths_1.symmetricDiffLinkLengths(_this._links,_this.linkAccessor,w)},this},Layout.prototype.jaccardLinkLengths=function(idealLength,w){var _this=this;return void 0===w&&(w=1),this.linkDistance(function(l){return idealLength*l.length}),this._linkLengthCalculator=function(){return linklengths_1.jaccardLinkLengths(_this._links,_this.linkAccessor,w)},this},Layout.prototype.start=function(initialUnconstrainedIterations,initialUserConstraintIterations,initialAllConstraintsIterations,gridSnapIterations,keepRunning){var _this=this;void 0===initialUnconstrainedIterations&&(initialUnconstrainedIterations=0),void 0===initialUserConstraintIterations&&(initialUserConstraintIterations=0),void 0===initialAllConstraintsIterations&&(initialAllConstraintsIterations=0),void 0===gridSnapIterations&&(gridSnapIterations=0),void 0===keepRunning&&(keepRunning=!0);var i,n=this.nodes().length,N=n+2*this._groups.length,w=(this._links.length,this._canvasSize[0]),h=this._canvasSize[1],x=new Array(N),y=new Array(N),G=null,ao=this._avoidOverlaps;this._nodes.forEach(function(v,i){v.index=i,void 0===v.x&&(v.x=w/2,v.y=h/2),x[i]=v.x,y[i]=v.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var distances;this._distanceMatrix?distances=this._distanceMatrix:(distances=new shortestpaths_1.Calculator(N,this._links,Layout.getSourceIndex,Layout.getTargetIndex,function(l){return _this.getLinkLength(l)}).DistanceMatrix(),G=descent_1.Descent.createSquareMatrix(N,function(){return 2}),this._links.forEach(function(l){"number"==typeof l.source&&(l.source=_this._nodes[l.source]),"number"==typeof l.target&&(l.target=_this._nodes[l.target])}),this._links.forEach(function(e){var u=Layout.getSourceIndex(e),v=Layout.getTargetIndex(e);G[u][v]=G[v][u]=e.weight||1}));var D=descent_1.Descent.createSquareMatrix(N,function(i,j){return distances[i][j]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var i=n,addAttraction=function(i,j,strength,idealDistance){G[i][j]=G[j][i]=strength,D[i][j]=D[j][i]=idealDistance};this._groups.forEach(function(g){addAttraction(i,i+1,_this._groupCompactness,.1),x[i]=0,y[i++]=0,x[i]=0,y[i++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var curConstraints=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,curConstraints=curConstraints.concat(linklengths_1.generateDirectedEdgeConstraints(n,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new descent_1.Descent([x,y],D),this._descent.locks.clear();for(var i=0;i<n;++i){var o=this._nodes[i];if(o.fixed){o.px=o.x,o.py=o.y;var p=[o.x,o.y];this._descent.locks.add(i,p)}}if(this._descent.threshold=this._threshold,this.initialLayout(initialUnconstrainedIterations,x,y),curConstraints.length>0&&(this._descent.project=new rectangle_1.Projection(this._nodes,this._groups,this._rootGroup,curConstraints).projectFunctions()),this._descent.run(initialUserConstraintIterations),this.separateOverlappingComponents(w,h),this.avoidOverlaps(ao),ao&&(this._nodes.forEach(function(v,i){v.x=x[i],v.y=y[i]}),this._descent.project=new rectangle_1.Projection(this._nodes,this._groups,this._rootGroup,curConstraints,!0).projectFunctions(),this._nodes.forEach(function(v,i){x[i]=v.x,y[i]=v.y})),this._descent.G=G,this._descent.run(initialAllConstraintsIterations),gridSnapIterations){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=n,this._descent.scaleSnapByMaxH=n!=N;var G0=descent_1.Descent.createSquareMatrix(N,function(i,j){return i>=n||j>=n?G[i][j]:0});this._descent.G=G0,this._descent.run(gridSnapIterations)}return this.updateNodePositions(),this.separateOverlappingComponents(w,h),keepRunning?this.resume():this},Layout.prototype.initialLayout=function(iterations,x,y){if(this._groups.length>0&&iterations>0){var n=this._nodes.length,edges=this._links.map(function(e){return{source:e.source.index,target:e.target.index}}),vs=this._nodes.map(function(v){return{index:v.index}});this._groups.forEach(function(g,i){vs.push({index:g.index=n+i})}),this._groups.forEach(function(g,i){void 0!==g.leaves&&g.leaves.forEach(function(v){return edges.push({source:g.index,target:v.index})}),void 0!==g.groups&&g.groups.forEach(function(gg){return edges.push({source:g.index,target:gg.index})})}),(new Layout).size(this.size()).nodes(vs).links(edges).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(iterations,0,0,0,!1),this._nodes.forEach(function(v){x[v.index]=vs[v.index].x,y[v.index]=vs[v.index].y})}else this._descent.run(iterations)},Layout.prototype.separateOverlappingComponents=function(width,height){var _this=this;if(!this._distanceMatrix&&this._handleDisconnected){var x_1=this._descent.x[0],y_1=this._descent.x[1];this._nodes.forEach(function(v,i){v.x=x_1[i],v.y=y_1[i]});var graphs=handledisconnected_1.separateGraphs(this._nodes,this._links);handledisconnected_1.applyPacking(graphs,width,height,this._defaultNodeSize),this._nodes.forEach(function(v,i){_this._descent.x[0][i]=v.x,_this._descent.x[1][i]=v.y,v.bounds&&(v.bounds.setXCentre(v.x),v.bounds.setYCentre(v.y))})}},Layout.prototype.resume=function(){return this.alpha(.1)},Layout.prototype.stop=function(){return this.alpha(0)},Layout.prototype.prepareEdgeRouting=function(nodeMargin){void 0===nodeMargin&&(nodeMargin=0),this._visibilityGraph=new geom_1.TangentVisibilityGraph(this._nodes.map(function(v){return v.bounds.inflate(-nodeMargin).vertices()}))},Layout.prototype.routeEdge=function(edge,draw){var lineData=[],vg2=new geom_1.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),port1={x:edge.source.x,y:edge.source.y},port2={x:edge.target.x,y:edge.target.y},start=vg2.addPoint(port1,edge.source.index),end=vg2.addPoint(port2,edge.target.index);vg2.addEdgeIfVisible(port1,port2,edge.source.index,edge.target.index),void 0!==draw&&draw(vg2);var sourceInd=function(e){return e.source.id},targetInd=function(e){return e.target.id},length=function(e){return e.length()},spCalc=new shortestpaths_1.Calculator(vg2.V.length,vg2.E,sourceInd,targetInd,length),shortestPath=spCalc.PathFromNodeToNode(start.id,end.id);if(1===shortestPath.length||shortestPath.length===vg2.V.length){var route=rectangle_1.makeEdgeBetween(edge.source.innerBounds,edge.target.innerBounds,5);lineData=[route.sourceIntersection,route.arrowStart]}else{for(var n=shortestPath.length-2,p=vg2.V[shortestPath[n]].p,q=vg2.V[shortestPath[0]].p,lineData=[edge.source.innerBounds.rayIntersection(p.x,p.y)],i=n;i>=0;--i)lineData.push(vg2.V[shortestPath[i]].p);lineData.push(rectangle_1.makeEdgeTo(q,edge.target.innerBounds,5))}return lineData},Layout.getSourceIndex=function(e){return"number"==typeof e.source?e.source:e.source.index},Layout.getTargetIndex=function(e){return"number"==typeof e.target?e.target:e.target.index},Layout.linkId=function(e){return Layout.getSourceIndex(e)+"-"+Layout.getTargetIndex(e)},Layout.dragStart=function(d){isGroup(d)?Layout.storeOffset(d,Layout.dragOrigin(d)):(Layout.stopNode(d),d.fixed|=2)},Layout.stopNode=function(v){v.px=v.x,v.py=v.y},Layout.storeOffset=function(d,origin){void 0!==d.leaves&&d.leaves.forEach(function(v){v.fixed|=2,Layout.stopNode(v),v._dragGroupOffsetX=v.x-origin.x,v._dragGroupOffsetY=v.y-origin.y}),void 0!==d.groups&&d.groups.forEach(function(g){return Layout.storeOffset(g,origin)})},Layout.dragOrigin=function(d){return isGroup(d)?{x:d.bounds.cx(),y:d.bounds.cy()}:d},Layout.drag=function(d,position){isGroup(d)?(void 0!==d.leaves&&d.leaves.forEach(function(v){d.bounds.setXCentre(position.x),d.bounds.setYCentre(position.y),v.px=v._dragGroupOffsetX+position.x,v.py=v._dragGroupOffsetY+position.y}),void 0!==d.groups&&d.groups.forEach(function(g){return Layout.drag(g,position)})):(d.px=position.x,d.py=position.y)},Layout.dragEnd=function(d){isGroup(d)?(void 0!==d.leaves&&d.leaves.forEach(function(v){Layout.dragEnd(v),delete v._dragGroupOffsetX,delete v._dragGroupOffsetY}),void 0!==d.groups&&d.groups.forEach(Layout.dragEnd)):d.fixed&=-7},Layout.mouseOver=function(d){d.fixed|=4,d.px=d.x,d.py=d.y},Layout.mouseOut=function(d){d.fixed&=-5},Layout}();exports.Layout=Layout},4130:function(module,exports){module.exports='<div class="monitoring-summary-status">\n  <div class="monitoring-summary-status__content" data-test-subj="elasticsearchNodeSummaryStatus">\n    <div data-test-subj="transportAddress">\n      <strong>{{ node.transport_address|extractIp }}</strong>\n    </div>\n    <div data-test-subj="jvmHeap">\n      JVM Heap:\n      <strong>{{ node.usedHeap|formatMetric:\'0,0.[00]\':\'%\' }}</strong>\n    </div>\n    <div data-test-subj="freeDiskSpace">\n      Free Disk Space:\n      <strong>{{ node.freeSpace|formatMetric:\'0.0 b\' }}</strong>\n    </div>\n    <div data-test-subj="documentCount">\n      Documents:\n      <strong>{{ node.documents|formatMetric:\'0.[0]a\' }}</strong>\n    </div>\n    <div data-test-subj="dataSize">\n      Data: <strong>{{ node.dataSize|formatMetric:\'0.0 b\' }}</strong>\n    </div>\n    <div data-test-subj="indicesCount">\n      Indices:\n      <strong>{{ node.indexCount|formatMetric:\'0,0\' }}</strong>\n    </div>\n    <div data-test-subj="shardsCount">\n      Shards:\n      <strong>{{ node.totalShards|formatMetric:\'0,0\' }}</strong>\n    </div>\n    <div data-test-subj="nodeType">\n      Type:\n      <strong>{{ node.nodeTypeLabel }}</strong>\n    </div>\n    <div class="monitoring-summary-status__status-indicator">\n      Health:\n      <monitoring-elasticsearch-node-status-icon\n        status="node.status"\n        title="Status of this Elasticsearch node: {{ node.status }}"\n      ></monitoring-elasticsearch-node-status-icon>\n      {{ node.status|capitalize }}\n    </div>\n  </div>\n</div>\n'},4131:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(0),_numeral=__webpack_require__(102),_numeral2=_interopRequireDefault(_numeral),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_modules=__webpack_require__(1),_components=__webpack_require__(17),_table=__webpack_require__(177),_status_icon=__webpack_require__(4132),_monitoringConstants=__webpack_require__(49),_formatting=__webpack_require__(1308),filterFields=["job_id","state","node.name"],columns=[{title:"Job ID",sortKey:"job_id",sortOrder:_monitoringConstants.SORT_ASCENDING},{title:"State",sortKey:"state"},{title:"Processed Records",sortKey:"data_counts.processed_record_count"},{title:"Model Size",sortKey:"model_size_stats.model_bytes"},{title:"Node",sortKey:"node.name"}],jobRowFactory=function(scope,kbnUrl){var goToNode=function(nodeId){scope.$evalAsync(function(){return kbnUrl.changePath("/elasticsearch/nodes/"+nodeId)})},getNode=function(node){return node?_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:goToNode.bind(null,node.id)},node.name)):"N/A"};return function(props){return _react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,null,props.job_id),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement(_status_icon.MachineLearningJobStatusIcon,{status:props.state})," ",(0,_lodash.capitalize)(props.state)),_react2.default.createElement(_components.KuiTableRowCell,null,(0,_numeral2.default)(props.data_counts.processed_record_count).format(_formatting.LARGE_ABBREVIATED)),_react2.default.createElement(_components.KuiTableRowCell,null,(0,_numeral2.default)(props.model_size_stats.model_bytes).format(_formatting.LARGE_BYTES)),_react2.default.createElement(_components.KuiTableRowCell,null,getNode(props.node)))}};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringMlListing",function(kbnUrl){return{restrict:"E",scope:{jobs:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"="},link:function(scope,$el){var getNoDataMessage=function(filterText){return filterText?"There are no Machine Learning Jobs that match the filter ["+filterText.trim()+"] or the time range.\nTry changing the filter or time range.":"There are no Machine Learning Jobs that match your query. Try changing the time range selection."};scope.$watch("jobs",function(){var jobs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],mlTable=_react2.default.createElement(_table.MonitoringTable,{className:"mlJobsTable",rows:jobs,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:"Filter Jobs...",filterFields:filterFields,columns:columns,rowComponent:jobRowFactory(scope,kbnUrl),getNoDataMessage:getNoDataMessage});(0,_reactDom.render)(mlTable,$el[0])})}}})},4132:function(module,exports,__webpack_require__){"use strict";function MachineLearningJobStatusIcon(_ref){var status=_ref.status,type=function(){var statusKey=status.toUpperCase();return"OPENED"===statusKey?_status_icon.StatusIcon.TYPES.GREEN:"CLOSED"===statusKey?_status_icon.StatusIcon.TYPES.GRAY:"FAILED"===statusKey?_status_icon.StatusIcon.TYPES.RED:_status_icon.StatusIcon.TYPES.YELLOW}();return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:"Job Status: "+status})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MachineLearningJobStatusIcon=MachineLearningJobStatusIcon;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_status_icon=__webpack_require__(538)},4133:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(0),_monitoringFormatting=__webpack_require__(409),_format_number=__webpack_require__(73),_modules=__webpack_require__(1);__webpack_require__(680);var _index=__webpack_require__(4134),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringShardActivity",function(){return{restrict:"E",scope:{data:"=",onlyActive:"=?"},template:_index2.default,link:function($scope){function filterData(){$scope.data&&($scope.visibleData=(0,_lodash.filter)($scope.data,function(item){return!$scope.onlyActive||"DONE"!==item.stage}))}$scope.formatNumber=_format_number.formatNumber,$scope.formatDateTimeLocal=_monitoringFormatting.formatDateTimeLocal,$scope.visibleData=[],$scope.toggleActive=function(){$scope.onlyActive=!$scope.onlyActive,filterData($scope.data)},$scope.lookup={STORE:"Primary",GATEWAY:"Primary",REPLICA:"Replica",SNAPSHOT:"Snapshot",RELOCATION:"Relocation"},filterData(),$scope.$watch("data",filterData),$scope.getIpAndPort=function(transport){var matches=transport.match(/([\d\.:]+)\]$/);return matches?matches[1]:transport}}}})},4134:function(module,exports){module.exports='<button class="kuiButton kuiButton--small kuiButton--secondary pull-right" ng-click="toggleActive()" ng-class="{ active: onlyActive }">\n  <span ng-if="onlyActive">Show</span>\n  <span ng-if="!onlyActive">Hide</span> History\n</button>\n<h1 class="monitoring-cluster-view-title">Shard Activity</h1>\n<table class="table table-condensed">\n  <thead>\n    <tr>\n      <th scope="col">Index</th>\n      <th scope="col">Stage</th>\n      <th scope="col">Total Time</th>\n      <th scope="col">Source <span class="fa fa-arrow-right"></span> Destination</th>\n      <th scope="col">Repository / Snapshot</th>\n      <th scope="col">Files</th>\n      <th scope="col">Bytes</th>\n      <th scope="col">Translog</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="activity in visibleData" ng-class="{ done: activity.stage === \'DONE\', red: activity.primary, yellow: !activity.primary }">\n      <td class="index">\n        <h5><a ng-href="#/elasticsearch/indices/{{ activity.index_name || activity.index.name }}">{{ activity.index_name || activity.index.name }}</a></h5>\n        <p>\n          <span>{{ activity.id }}</span> |\n          <span ng-if="activity.type === \'PRIMARY_RELOCATION\'">Primary Relocation</span>\n          <span ng-if="activity.type !== \'PRIMARY_RELOCATION\'">{{activity.type|capitalize}}</span>\n        </p>\n      </td>\n      <td class="stage">\n        <h6>{{ activity.stage }}</h6>\n      </td>\n      <td class="time">\n        <h6>\n          <span\n            class="fa fa-info-circle"\n            tooltip="Started at {{ formatDateTimeLocal(activity.start_time_in_millis) }}"\n            tooltip-placement="bottom"\n          ></span>\n          {{ (activity.total_time_in_millis/1000)|formatNumber: \'00:00:00\' }}\n        </h6>\n      </td>\n      <td class="source-dest">\n        <div>\n          <div>\n            <h6 ng-if="!activity.source.name">n/a</h6>\n            <div ng-if="activity.source.name">\n              <h6>\n                <abbr ng-if="!activity.primary || activity.type === \'PRIMARY_RELOCATION\'" title="Copied from Primary">{{ activity.source.name }}</abbr>\n                <span ng-if="activity.primary && activity.type !== \'PRIMARY_RELOCATION\'">{{ activity.source.name }}</span>\n              </h6>\n              <p>{{ getIpAndPort(activity.source.transport_address )}}</p>\n            </div>\n          </div>\n          <div><h6><span class="fa fa-arrow-right"></span></h6></div>\n          <div>\n            <div>\n              <h6>{{ activity.target.name }}</h6>\n              <p>{{ getIpAndPort(activity.target.transport_address) }}</p>\n            </div>\n          </div>\n        </div>\n      </td>\n      <td class="snapshot-repo" ng-if="activity">\n        <h6 ng-if="activity.type !== \'SNAPSHOT\'">n/a</h6>\n        <div ng-if="activity.type === \'SNAPSHOT\'">\n          <h6>\n            {{ activity.source.repository }} /\n            {{ activity.source.snapshot }}\n          </h6>\n        </div>\n      </td>\n      <td class="files">\n        <h5>{{ activity.index.files.percent }}</h5>\n        <p><span>{{ formatNumber(activity.index.files.reused ? activity.index.files.reused : activity.index.files.recovered, \'0,0\') }}</span>/<span>{{ formatNumber(activity.index.files.total, \'0,0\') }}</span></p>\n      </td>\n      <td class="bytes">\n        <h5>{{ activity.index.size.percent }}</h5>\n        <p><span>{{ formatNumber(activity.index.size.recovered_in_bytes + activity.index.size.reused_in_bytes, \'byte\') }}</span>/<span>{{ formatNumber(activity.index.size.total_in_bytes, \'byte\') }}</span></p>\n      </td>\n      <td class="translog" ng-if="activity.translog.total <= 0">\n        <h5>n/a</h5>\n      </td>\n      <td class="translog" ng-if="activity.translog.total > 0">\n        <h5>{{ activity.translog.percent }}</h5>\n        <p><span>{{ activity.translog.total }}</span>/<span>{{ activity.translog.total_on_start }}</span></p>\n      </td>\n    </tr>\n    <tr ng-if="!visibleData.length">\n      <td colspan="8" class="no-results">\n        <span ng-if="onlyActive">\n          There are currently no active shard records for this cluster.\n          Try viewing <a ng-click="toggleActive()" class="kuiLink" kbn-accessible-click>shard history</a>.\n        </span>\n        <span ng-if="!onlyActive">\n          There are no historical shard activity records for this cluster for the selected time range.\n        </span>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},4135:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_labels=__webpack_require__(4136),_indicesByNodes=__webpack_require__(4137),_nodesByIndices=__webpack_require__(4138),_index=__webpack_require__(4140),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringShardAllocation",function(){return{restrict:"E",template:_index2.default,scope:{view:"@",shards:"=",nodes:"=",shardStats:"=",showSystemIndices:"=",toggleShowSystemIndices:"="},link:function(scope){var isIndexView="index"===scope.view,transformer=isIndexView?(0,_indicesByNodes.indicesByNodes)():(0,_nodesByIndices.nodesByIndices)();scope.isIndexView=isIndexView,scope.$watch("shards",function(shards){var view=scope.view;scope.totalCount=shards.length,scope.showing=transformer(shards,scope.nodes),isIndexView&&shards.some(function(shard){return"UNASSIGNED"===shard.state})&&(view="indexWithUnassigned"),scope.labels=_labels.labels[view]})}}})},4136:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.labels={index:[{content:"Nodes"}],indexWithUnassigned:[{content:"Unassigned"},{content:"Nodes"}],node:[{content:"Indices",showToggleSystemIndicesComponent:!0}]}},4137:function(module,exports,__webpack_require__){"use strict";function indicesByNodes(){return function(shards,nodes){function createIndex(obj,shard){var id=shard.index;return obj[id]?obj:(obj[id]={id:id,name:id,children:[],unassigned:[],unassignedPrimaries:!1,type:"index"},obj)}function createNodeAddShard(obj,shard){var node=shard.resolver,index=shard.index;if(null===shard.node)return obj[index].unassigned.push(shard),shard.primary&&(obj[index].unassignedPrimaries=!0),obj;var nodeObj=_lodash2.default.find(obj[index].children,{id:node});return nodeObj||(nodeObj={id:node,type:"node",name:nodes[node].name,node_type:nodes[node].type,ip_port:nodes[node].transport_address,children:[]},obj[index].children.push(nodeObj)),nodeObj.children.push(shard),obj}var data=_lodash2.default.reduce((0,_decorateShards.decorateShards)(shards,nodes),function(obj,shard){return obj=createIndex(obj,shard),obj=createNodeAddShard(obj,shard)},{});return(0,_lodash2.default)(data).values().sortBy(function(index){return[!index.unassignedPrimaries,/^\./.test(index.name),index.name]}).value()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.indicesByNodes=indicesByNodes;var _lodash=__webpack_require__(0),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_decorateShards=__webpack_require__(1332)},4138:function(module,exports,__webpack_require__){"use strict";function nodesByIndices(){return function(shards,nodes){function createNode(obj,node,id){node.type="node",node.children=[];var nodeType=getNodeType(node);return"normal"!==nodeType&&"data"!==nodeType||(obj[id]=node),obj}function createIndexAddShard(obj,shard){var node=shard.resolver||"unassigned",index=shard.index;obj[node]||createNode(obj,nodes[node],node);var indexObj=_lodash2.default.find(obj[node].children,{id:index});return indexObj||(indexObj={id:index,name:index,type:"index",children:[]},obj[node].children.push(indexObj)),indexObj.children.push(shard),obj}function isUnassigned(shard){return"UNASSIGNED"===shard.state}var getNodeType=function(node){return"true"===(node.attributes||{}).master?"master":"normal"},data={};return _lodash2.default.some(shards,isUnassigned)&&(data.unassigned={name:"Unassigned",master:!1,type:"node",children:[]}),data=_lodash2.default.reduce((0,_decorateShards.decorateShards)(shards,nodes),createIndexAddShard,data),(0,_lodash2.default)(data).values().sortBy(function(node){return["Unassigned"!==node.name,!node.master,node.name]}).map(function(node){return"Unassigned"===node.name&&(node.unassignedPrimaries=node.children.some(_hasPrimaryChildren.hasPrimaryChildren)),node}).value()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.nodesByIndices=nodesByIndices;var _lodash=__webpack_require__(0),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_hasPrimaryChildren=__webpack_require__(4139),_decorateShards=__webpack_require__(1332)},4139:function(module,exports,__webpack_require__){"use strict";function hasPrimaryChildren(item){return _lodash2.default.some(item.children,{primary:!0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasPrimaryChildren=hasPrimaryChildren;var _lodash=__webpack_require__(0),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},414:function(module,exports,__webpack_require__){"use strict";function computeGroupBounds(g){return g.bounds=void 0!==g.leaves?g.leaves.reduce(function(r,c){return c.bounds.union(r)},Rectangle.empty()):Rectangle.empty(),void 0!==g.groups&&(g.bounds=g.groups.reduce(function(r,c){return computeGroupBounds(c).union(r)},g.bounds)),g.bounds=g.bounds.inflate(g.padding),g.bounds}function makeEdgeBetween(source,target,ah){var si=source.rayIntersection(target.cx(),target.cy())||{x:source.cx(),y:source.cy()},ti=target.rayIntersection(source.cx(),source.cy())||{x:target.cx(),y:target.cy()},dx=ti.x-si.x,dy=ti.y-si.y,l=Math.sqrt(dx*dx+dy*dy),al=l-ah;return{sourceIntersection:si,targetIntersection:ti,arrowStart:{x:si.x+al*dx/l,y:si.y+al*dy/l}}}function makeEdgeTo(s,target,ah){var ti=target.rayIntersection(s.x,s.y);ti||(ti={x:target.cx(),y:target.cy()});var dx=ti.x-s.x,dy=ti.y-s.y,l=Math.sqrt(dx*dx+dy*dy);return{x:ti.x-ah*dx/l,y:ti.y-ah*dy/l}}function compareEvents(a,b){return a.pos>b.pos?1:a.pos<b.pos?-1:a.isOpen?-1:b.isOpen?1:0}function makeRBTree(){return new rbtree_1.RBTree(function(a,b){return a.pos-b.pos})}function generateGroupConstraints(root,f,minSep,isContained){void 0===isContained&&(isContained=!1);var padding=root.padding,gn=void 0!==root.groups?root.groups.length:0,ln=void 0!==root.leaves?root.leaves.length:0,childConstraints=gn?root.groups.reduce(function(ccs,g){return ccs.concat(generateGroupConstraints(g,f,minSep,!0))},[]):[],n=(isContained?2:0)+ln+gn,vs=new Array(n),rs=new Array(n),i=0,add=function(r,v){rs[i]=r,vs[i++]=v};if(isContained){var b=root.bounds,c=f.getCentre(b),s=f.getSize(b)/2,open=f.getOpen(b),close=f.getClose(b),min=c-s+padding/2,max=c+s-padding/2;root.minVar.desiredPosition=min,add(f.makeRect(open,close,min,padding),root.minVar),root.maxVar.desiredPosition=max,add(f.makeRect(open,close,max,padding),root.maxVar)}ln&&root.leaves.forEach(function(l){return add(l.bounds,l.variable)}),gn&&root.groups.forEach(function(g){var b=g.bounds;add(f.makeRect(f.getOpen(b),f.getClose(b),f.getCentre(b),f.getSize(b)),g.minVar)});var cs=generateConstraints(rs,vs,f,minSep);return gn&&(vs.forEach(function(v){v.cOut=[],v.cIn=[]}),cs.forEach(function(c){c.left.cOut.push(c),c.right.cIn.push(c)}),root.groups.forEach(function(g){var gapAdjustment=(g.padding-f.getSize(g.bounds))/2;g.minVar.cIn.forEach(function(c){return c.gap+=gapAdjustment}),g.minVar.cOut.forEach(function(c){c.left=g.maxVar,c.gap+=gapAdjustment})})),childConstraints.concat(cs)}function generateConstraints(rs,vars,rect,minSep){var i,n=rs.length,N=2*n;console.assert(vars.length>=n);var events=new Array(N);for(i=0;i<n;++i){var r=rs[i],v=new Node(vars[i],r,rect.getCentre(r));events[i]=new Event(!0,v,rect.getOpen(r)),events[i+n]=new Event(!1,v,rect.getClose(r))}events.sort(compareEvents);var cs=new Array,scanline=makeRBTree();for(i=0;i<N;++i){var e=events[i],v=e.v;if(e.isOpen)scanline.insert(v),rect.findNeighbours(v,scanline);else{scanline.remove(v);var makeConstraint=function(l,r){var sep=(rect.getSize(l.r)+rect.getSize(r.r))/2+minSep;cs.push(new vpsc_1.Constraint(l.v,r.v,sep))},visitNeighbours=function(forward,reverse,mkcon){for(var u,it=v[forward].iterator();null!==(u=it[forward]());)mkcon(u,v),u[reverse].remove(v)};visitNeighbours("prev","next",function(u,v){return makeConstraint(u,v)}),visitNeighbours("next","prev",function(u,v){return makeConstraint(v,u)})}}return console.assert(0===scanline.size),cs}function findXNeighbours(v,scanline){var f=function(forward,reverse){for(var u,it=scanline.findIter(v);null!==(u=it[forward]());){var uovervX=u.r.overlapX(v.r);if((uovervX<=0||uovervX<=u.r.overlapY(v.r))&&(v[forward].insert(u),u[reverse].insert(v)),uovervX<=0)break}};f("next","prev"),f("prev","next")}function findYNeighbours(v,scanline){var f=function(forward,reverse){var u=scanline.findIter(v)[forward]();null!==u&&u.r.overlapX(v.r)>0&&(v[forward].insert(u),u[reverse].insert(v))};f("next","prev"),f("prev","next")}function generateXConstraints(rs,vars){return generateConstraints(rs,vars,xRect,1e-6)}function generateYConstraints(rs,vars){return generateConstraints(rs,vars,yRect,1e-6)}function generateXGroupConstraints(root){return generateGroupConstraints(root,xRect,1e-6)}function generateYGroupConstraints(root){return generateGroupConstraints(root,yRect,1e-6)}function removeOverlaps(rs){var vs=rs.map(function(r){return new vpsc_1.Variable(r.cx())}),cs=generateXConstraints(rs,vs),solver=new vpsc_1.Solver(vs,cs);solver.solve(),vs.forEach(function(v,i){return rs[i].setXCentre(v.position())}),vs=rs.map(function(r){return new vpsc_1.Variable(r.cy())}),cs=generateYConstraints(rs,vs),solver=new vpsc_1.Solver(vs,cs),solver.solve(),vs.forEach(function(v,i){return rs[i].setYCentre(v.position())})}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var vpsc_1=__webpack_require__(785),rbtree_1=__webpack_require__(1342);exports.computeGroupBounds=computeGroupBounds;var Rectangle=function(){function Rectangle(x,X,y,Y){this.x=x,this.X=X,this.y=y,this.Y=Y}return Rectangle.empty=function(){return new Rectangle(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},Rectangle.prototype.cx=function(){return(this.x+this.X)/2},Rectangle.prototype.cy=function(){return(this.y+this.Y)/2},Rectangle.prototype.overlapX=function(r){var ux=this.cx(),vx=r.cx();return ux<=vx&&r.x<this.X?this.X-r.x:vx<=ux&&this.x<r.X?r.X-this.x:0},Rectangle.prototype.overlapY=function(r){var uy=this.cy(),vy=r.cy();return uy<=vy&&r.y<this.Y?this.Y-r.y:vy<=uy&&this.y<r.Y?r.Y-this.y:0},Rectangle.prototype.setXCentre=function(cx){var dx=cx-this.cx();this.x+=dx,this.X+=dx},Rectangle.prototype.setYCentre=function(cy){var dy=cy-this.cy();this.y+=dy,this.Y+=dy},Rectangle.prototype.width=function(){return this.X-this.x},Rectangle.prototype.height=function(){return this.Y-this.y},Rectangle.prototype.union=function(r){return new Rectangle(Math.min(this.x,r.x),Math.max(this.X,r.X),Math.min(this.y,r.y),Math.max(this.Y,r.Y))},Rectangle.prototype.lineIntersections=function(x1,y1,x2,y2){for(var sides=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],intersections=[],i=0;i<4;++i){var r=Rectangle.lineIntersection(x1,y1,x2,y2,sides[i][0],sides[i][1],sides[i][2],sides[i][3]);null!==r&&intersections.push({x:r.x,y:r.y})}return intersections},Rectangle.prototype.rayIntersection=function(x2,y2){var ints=this.lineIntersections(this.cx(),this.cy(),x2,y2);return ints.length>0?ints[0]:null},Rectangle.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y},{x:this.x,y:this.y}]},Rectangle.lineIntersection=function(x1,y1,x2,y2,x3,y3,x4,y4){var dx12=x2-x1,dx34=x4-x3,dy12=y2-y1,dy34=y4-y3,denominator=dy34*dx12-dx34*dy12;if(0==denominator)return null;var dx31=x1-x3,dy31=y1-y3,numa=dx34*dy31-dy34*dx31,a=numa/denominator,numb=dx12*dy31-dy12*dx31,b=numb/denominator;return a>=0&&a<=1&&b>=0&&b<=1?{x:x1+a*dx12,y:y1+a*dy12}:null},Rectangle.prototype.inflate=function(pad){return new Rectangle(this.x-pad,this.X+pad,this.y-pad,this.Y+pad)},Rectangle}();exports.Rectangle=Rectangle,exports.makeEdgeBetween=makeEdgeBetween,exports.makeEdgeTo=makeEdgeTo;var Node=function(){function Node(v,r,pos){this.v=v,this.r=r,this.pos=pos,this.prev=makeRBTree(),this.next=makeRBTree()}return Node}(),Event=function(){function Event(isOpen,v,pos){this.isOpen=isOpen,this.v=v,this.pos=pos}return Event}(),xRect={getCentre:function(r){return r.cx()},getOpen:function(r){return r.y},getClose:function(r){return r.Y},getSize:function(r){return r.width()},makeRect:function(open,close,center,size){return new Rectangle(center-size/2,center+size/2,open,close)},findNeighbours:findXNeighbours},yRect={getCentre:function(r){return r.cy()},getOpen:function(r){return r.x},getClose:function(r){return r.X},getSize:function(r){return r.height()},makeRect:function(open,close,center,size){return new Rectangle(open,close,center-size/2,center+size/2)},findNeighbours:findYNeighbours};exports.generateXConstraints=generateXConstraints,exports.generateYConstraints=generateYConstraints,exports.generateXGroupConstraints=generateXGroupConstraints,exports.generateYGroupConstraints=generateYGroupConstraints,exports.removeOverlaps=removeOverlaps;var IndexedVariable=function(_super){function IndexedVariable(index,w){var _this=_super.call(this,0,w)||this;return _this.index=index,_this}return __extends(IndexedVariable,_super),IndexedVariable}(vpsc_1.Variable);exports.IndexedVariable=IndexedVariable;var Projection=function(){function Projection(nodes,groups,rootGroup,constraints,avoidOverlaps){void 0===rootGroup&&(rootGroup=null),void 0===constraints&&(constraints=null),void 0===avoidOverlaps&&(avoidOverlaps=!1);var _this=this;if(this.nodes=nodes,this.groups=groups,this.rootGroup=rootGroup,this.avoidOverlaps=avoidOverlaps,this.variables=nodes.map(function(v,i){return v.variable=new IndexedVariable(i,1)}),constraints&&this.createConstraints(constraints),avoidOverlaps&&rootGroup&&void 0!==rootGroup.groups){nodes.forEach(function(v){if(!v.width||!v.height)return void(v.bounds=new Rectangle(v.x,v.x,v.y,v.y));var w2=v.width/2,h2=v.height/2;v.bounds=new Rectangle(v.x-w2,v.x+w2,v.y-h2,v.y+h2)}),computeGroupBounds(rootGroup);var i=nodes.length;groups.forEach(function(g){_this.variables[i]=g.minVar=new IndexedVariable(i++,void 0!==g.stiffness?g.stiffness:.01),_this.variables[i]=g.maxVar=new IndexedVariable(i++,void 0!==g.stiffness?g.stiffness:.01)})}}return Projection.prototype.createSeparation=function(c){return new vpsc_1.Constraint(this.nodes[c.left].variable,this.nodes[c.right].variable,c.gap,void 0!==c.equality&&c.equality)},Projection.prototype.makeFeasible=function(c){var _this=this;if(this.avoidOverlaps){var axis="x",dim="width";"x"===c.axis&&(axis="y",dim="height");var vs=c.offsets.map(function(o){return _this.nodes[o.node]}).sort(function(a,b){return a[axis]-b[axis]}),p=null;vs.forEach(function(v){if(p){var nextPos=p[axis]+p[dim];nextPos>v[axis]&&(v[axis]=nextPos)}p=v})}},Projection.prototype.createAlignment=function(c){var _this=this,u=this.nodes[c.offsets[0].node].variable;this.makeFeasible(c);var cs="x"===c.axis?this.xConstraints:this.yConstraints;c.offsets.slice(1).forEach(function(o){var v=_this.nodes[o.node].variable;cs.push(new vpsc_1.Constraint(u,v,o.offset,!0))})},Projection.prototype.createConstraints=function(constraints){var _this=this,isSep=function(c){return void 0===c.type||"separation"===c.type};this.xConstraints=constraints.filter(function(c){return"x"===c.axis&&isSep(c)}).map(function(c){return _this.createSeparation(c)}),this.yConstraints=constraints.filter(function(c){return"y"===c.axis&&isSep(c)}).map(function(c){return _this.createSeparation(c)}),constraints.filter(function(c){return"alignment"===c.type}).forEach(function(c){return _this.createAlignment(c)})},Projection.prototype.setupVariablesAndBounds=function(x0,y0,desired,getDesired){this.nodes.forEach(function(v,i){v.fixed?(v.variable.weight=v.fixedWeight?v.fixedWeight:1e3,desired[i]=getDesired(v)):v.variable.weight=1;var w=(v.width||0)/2,h=(v.height||0)/2,ix=x0[i],iy=y0[i];v.bounds=new Rectangle(ix-w,ix+w,iy-h,iy+h)})},Projection.prototype.xProject=function(x0,y0,x){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(x0,y0,x0,x,function(v){return v.px},this.xConstraints,generateXGroupConstraints,function(v){return v.bounds.setXCentre(x[v.variable.index]=v.variable.position())},function(g){var xmin=x[g.minVar.index]=g.minVar.position(),xmax=x[g.maxVar.index]=g.maxVar.position(),p2=g.padding/2;g.bounds.x=xmin-p2,g.bounds.X=xmax+p2})},Projection.prototype.yProject=function(x0,y0,y){(this.rootGroup||this.yConstraints)&&this.project(x0,y0,y0,y,function(v){return v.py},this.yConstraints,generateYGroupConstraints,function(v){return v.bounds.setYCentre(y[v.variable.index]=v.variable.position())},function(g){var ymin=y[g.minVar.index]=g.minVar.position(),ymax=y[g.maxVar.index]=g.maxVar.position(),p2=g.padding/2;g.bounds.y=ymin-p2,g.bounds.Y=ymax+p2})},Projection.prototype.projectFunctions=function(){var _this=this;return[function(x0,y0,x){return _this.xProject(x0,y0,x)},function(x0,y0,y){return _this.yProject(x0,y0,y)}]},Projection.prototype.project=function(x0,y0,start,desired,getDesired,cs,generateConstraints,updateNodeBounds,updateGroupBounds){this.setupVariablesAndBounds(x0,y0,desired,getDesired),this.rootGroup&&this.avoidOverlaps&&(computeGroupBounds(this.rootGroup),cs=cs.concat(generateConstraints(this.rootGroup))),this.solve(this.variables,cs,start,desired),this.nodes.forEach(updateNodeBounds),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(updateGroupBounds),computeGroupBounds(this.rootGroup))},Projection.prototype.solve=function(vs,cs,starting,desired){var solver=new vpsc_1.Solver(vs,cs);solver.setStartingPositions(starting),solver.setDesiredPositions(desired),solver.solve()},Projection}();exports.Projection=Projection},4140:function(module,exports){module.exports='<div class="page-row">\n  <div class="monitoring-cluster-view">\n    <h1 class="monitoring-cluster-view-title">Shard Legend</h1>\n    <div class="legend">\n      <span class="shard">&nbsp;</span>\n      <span class="shard-label">Primary</span>\n      <span class="shard replica">&nbsp;</span>\n      <span class="shard-label">Replica</span>\n      <span class="shard relocating">&nbsp;</span>\n      <span class="shard-label">Relocating</span>\n      <span class="shard initializing">&nbsp;</span>\n      <span class="shard-label">Initializing</span>\n      <span class="shard emergency" ng-if="isIndexView">&nbsp;</span>\n      <span class="shard-label" ng-if="isIndexView">Unassigned Primary</span>\n      <span class="shard unassigned replica" ng-if="isIndexView">&nbsp;</span>\n      <span class="shard-label" ng-if="isIndexView">Unassigned Replica</span>\n    </div>\n    <cluster-view\n      shard-stats="shardStats"\n      total-count="totalCount"\n      labels="labels"\n      showing="showing"\n      show-system-indices="showSystemIndices"\n      toggle-show-system-indices="toggleShowSystemIndices"\n    ></cluster-view>\n  </div>\n</div>\n'},4141:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_reactDom2=_interopRequireDefault(_reactDom),_clusterView=__webpack_require__(4142);__webpack_require__(1).uiModules.get("monitoring/directives",[]).directive("clusterView",function(kbnUrl){return{restrict:"E",scope:{totalCount:"=",filter:"=",showing:"=",labels:"=",shardStats:"=",showSystemIndices:"=",toggleShowSystemIndices:"="},link:function(scope,element){_reactDom2.default.render(_react2.default.createElement(_clusterView.ClusterView,{scope:scope,kbnUrl:kbnUrl,showSystemIndices:scope.showSystemIndices,toggleShowSystemIndices:scope.toggleShowSystemIndices}),element[0])}}})},4142:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClusterView=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_tableHead=__webpack_require__(4143),_tableBody=__webpack_require__(4144);(exports.ClusterView=function(_React$Component){function ClusterView(props){_classCallCheck(this,ClusterView);var _this=_possibleConstructorReturn(this,(ClusterView.__proto__||Object.getPrototypeOf(ClusterView)).call(this,props));_this.setShowing=function(data){data&&_this.setState({showing:data})},_this.setShardStats=function(stats){_this.setState({shardStats:stats})},_this.hasUnassigned=function(){return _this.state.showing.length&&_this.state.showing[0].unassigned&&_this.state.showing[0].unassigned.length};var scope=props.scope,kbnChangePath=props.kbnUrl.changePath;return _this.state={labels:props.scope.labels||[],showing:props.scope.showing||[],shardStats:props.shardStats,showSystemIndices:props.showSystemIndices,toggleShowSystemIndices:props.toggleShowSystemIndices,angularChangeUrl:function(url){scope.$evalAsync(function(){return kbnChangePath(url)})}},_this}return _inherits(ClusterView,_React$Component),_createClass(ClusterView,[{key:"componentWillMount",value:function(){this.props.scope.$watch("showing",this.setShowing),this.props.scope.$watch("shardStats",this.setShardStats)}},{key:"render",value:function(){return _react2.default.createElement("table",{cellPadding:"0",cellSpacing:"0",className:"table"},_react2.default.createElement(_tableHead.TableHead,{hasUnassigned:this.hasUnassigned(),scope:this.props.scope,toggleShowSystemIndices:this.state.toggleShowSystemIndices}),_react2.default.createElement(_tableBody.TableBody,{filter:this.props.scope.filter,totalCount:this.props.scope.totalCount,rows:this.state.showing,cols:this.state.labels.length,shardStats:this.state.shardStats,changeUrl:this.state.angularChangeUrl}))}}]),ClusterView}(_react2.default.Component)).displayName="ClusterView"},4143:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TableHead=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),IndexLabel=function(_React$Component){function IndexLabel(props){_classCallCheck(this,IndexLabel);var _this=_possibleConstructorReturn(this,(IndexLabel.__proto__||Object.getPrototypeOf(IndexLabel)).call(this,props));return _this.state={showSystemIndices:props.scope.showSystemIndices},_this.toggleShowSystemIndicesState=_this.toggleShowSystemIndicesState.bind(_this),_this}return _inherits(IndexLabel,_React$Component),_createClass(IndexLabel,[{key:"toggleShowSystemIndicesState",value:function(e){var _this2=this,isChecked=e.target.checked;this.setState({showSystemIndices:isChecked}),this.props.scope.$evalAsync(function(){_this2.props.toggleShowSystemIndices(isChecked)})}},{key:"render",value:function(){return _react2.default.createElement("div",{className:"pull-left filter-member"},"Indices",_react2.default.createElement("label",{className:"kuiCheckBoxLabel"},_react2.default.createElement("input",{onChange:this.toggleShowSystemIndicesState,checked:this.state.showSystemIndices,className:"kuiCheckBox","data-test-subj":"shardShowSystemIndices",type:"checkbox"}),_react2.default.createElement("span",{className:"kuiCheckBoxLabel__text"},"Show system indices")))}}]),IndexLabel}(_react2.default.Component);exports.TableHead=function(_React$Component2){function TableHead(props){return _classCallCheck(this,TableHead),_possibleConstructorReturn(this,(TableHead.__proto__||Object.getPrototypeOf(TableHead)).call(this,props))}return _inherits(TableHead,_React$Component2),_createClass(TableHead,[{key:"createColumn",value:function(_ref){var key=_ref.key,content=_ref.content;return _react2.default.createElement("th",{scope:"col",key:key,colSpan:1},content)}},{key:"render",value:function(){var _this4=this,propLabels=this.props.scope.labels||[],labelColumns=propLabels.map(function(label){var column={key:label.content.toLowerCase()};return label.showToggleSystemIndicesComponent?column.content=_react2.default.createElement(IndexLabel,{scope:_this4.props.scope,toggleShowSystemIndices:_this4.props.toggleShowSystemIndices}):column.content=label.content,column}).map(this.createColumn);return _react2.default.createElement("thead",null,_react2.default.createElement("tr",null,labelColumns))}}]),TableHead}(_react2.default.Component)},4144:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TableBody=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_unassigned=__webpack_require__(4145),_assigned=__webpack_require__(4147),ShardRow=function(props){var unassigned=void 0;return props.data.unassigned&&props.data.unassigned.length?unassigned=_react2.default.createElement(_unassigned.Unassigned,{shards:props.data.unassigned}):3===props.cols&&(unassigned=_react2.default.createElement("td",null)),_react2.default.createElement("tr",null,unassigned,_react2.default.createElement(_assigned.Assigned,{shardStats:props.shardStats,data:props.data.children,changeUrl:props.changeUrl}))};(exports.TableBody=function(_React$Component){function TableBody(){var _ref,_temp,_this,_ret;_classCallCheck(this,TableBody);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=TableBody.__proto__||Object.getPrototypeOf(TableBody)).call.apply(_ref,[this].concat(args))),_this.createRow=function(data,index){return _react2.default.createElement(ShardRow,_extends({key:"shardRow-"+index,data:data},_this.props,{changeUrl:_this.props.changeUrl}))},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(TableBody,_React$Component),_createClass(TableBody,[{key:"render",value:function(){return 0===this.props.totalCount?_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{colSpan:this.props.cols},_react2.default.createElement("div",null,_react2.default.createElement("p",{style:{margin:"10px 0"},className:"text-center lead"},"There are no shards allocated."))))):this.props.shardStats&&this.props.rows.length?_react2.default.createElement("tbody",null,this.props.rows.map(this.createRow)):_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{colSpan:this.props.cols})))}}]),TableBody}(_react2.default.Component)).displayName="TableBody"},4145:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Unassigned=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_shard=__webpack_require__(1333);(exports.Unassigned=function(_React$Component){function Unassigned(){var _ref,_temp,_this,_ret;_classCallCheck(this,Unassigned);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=Unassigned.__proto__||Object.getPrototypeOf(Unassigned)).call.apply(_ref,[this].concat(args))),_this.createShard=function(shard){var type=shard.primary?"primary":"replica",additionId="UNASSIGNED"===shard.state?Math.random():"",key=shard.index+"."+shard.node+"."+type+"."+shard.state+"."+shard.shard+additionId;return _react2.default.createElement(_shard.Shard,{shard:shard,key:key})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(Unassigned,_React$Component),_createClass(Unassigned,[{key:"render",value:function(){var shards=_lodash2.default.sortBy(this.props.shards,"shard").map(this.createShard);return _react2.default.createElement("td",{className:"unassigned","data-test-subj":"clusterView-Unassigned"},_react2.default.createElement("div",{className:"children"},shards))}}]),Unassigned}(_react2.default.Component)).displayName="Unassigned"},4146:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vents=exports._vents=void 0;var _lodash=__webpack_require__(0),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_vents=exports._vents={};exports.vents={vents:_vents,on:function(id,cb){_lodash2.default.isArray(_vents[id])||(_vents[id]=[]),_vents[id].push(cb)},clear:function(id){delete _vents[id]},trigger:function(){var args=Array.prototype.slice.call(arguments),id=args.shift();_vents[id]&&_lodash2.default.each(_vents[id],function(cb){cb.apply(null,args)})}}},4147:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function sortByName(item){return"node"===item.type?[!item.master,item.name]:[item.name]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Assigned=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_shard=__webpack_require__(1333),_calculateClass=__webpack_require__(1334),_generateQueryAndLink=__webpack_require__(4148),_components=__webpack_require__(17);exports.Assigned=function(_React$Component){function Assigned(){var _ref,_temp,_this,_ret;_classCallCheck(this,Assigned);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=Assigned.__proto__||Object.getPrototypeOf(Assigned)).call.apply(_ref,[this].concat(args))),_this.createShard=function(shard){var type=shard.primary?"primary":"replica",key=shard.index+"."+shard.node+"."+type+"."+shard.state+"."+shard.shard;return _react2.default.createElement(_shard.Shard,{shard:shard,key:key})},_this.createChild=function(data){var key=data.id,initialClasses=["child"],shardStats=(0,_lodash.get)(_this.props.shardStats.indices,key);shardStats&&initialClasses.push(shardStats.status);var changeUrl=function(){_this.props.changeUrl((0,_generateQueryAndLink.generateQueryAndLink)(data))},name=_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{onClick:changeUrl},_react2.default.createElement("span",null,data.name))),master="master"===data.node_type?_react2.default.createElement("span",{className:"fa fa-star"}):null,shards=(0,_lodash.sortBy)(data.children,"shard").map(_this.createShard);return _react2.default.createElement("div",{className:(0,_calculateClass.calculateClass)(data,initialClasses.join(" ")),key:key,"data-test-subj":"clusterView-Assigned-"+key,"data-status":shardStats&&shardStats.status},_react2.default.createElement("div",{className:"title"},name,master),shards)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(Assigned,_React$Component),_createClass(Assigned,[{key:"render",value:function(){var data=(0,_lodash.sortBy)(this.props.data,sortByName).map(this.createChild);return _react2.default.createElement("td",null,_react2.default.createElement("div",{className:"children"},data))}}]),Assigned}(_react2.default.Component)},4148:function(module,exports,__webpack_require__){"use strict";function generateQueryAndLink(data){var type="indices",ident=data.name;return"node"===data.type&&(type="nodes",ident=data.id),"/elasticsearch/"+type+"/"+ident}Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateQueryAndLink=generateQueryAndLink},4149:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_index=__webpack_require__(4150),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringClusterStatusLogstash",function(){return{restrict:"E",template:_index2.default,scope:{status:"="}}})},4150:function(module,exports){module.exports='<div class="monitoring-summary-status">\n  <div\n    class="monitoring-summary-status__content"\n    data-test-subj="logstashSummaryStatus"\n  >\n    <div>Nodes:\n      <strong data-test-subj="node_count">{{ status.node_count }}</strong>\n    </div>\n    <div>Memory:\n      <strong data-test-subj="memory_used">{{ status.avg_memory_used|formatNumber:\'bytes\' }} / {{ status.avg_memory|formatNumber:\'bytes\' }}</strong>\n    </div>\n    <div>Events Received:\n      <strong data-test-subj="events_in_total">{{ status.events_in_total|formatNumber:\'0.[0]a\' }}</strong>\n    </div>\n    <div>Events Emitted:\n      <strong data-test-subj="events_out_total">{{ status.events_out_total|formatNumber:\'0.[0]a\' }}</strong>\n    </div>\n  </div>\n</div>\n'},4151:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(46),_modules=__webpack_require__(1),_components=__webpack_require__(17),_table=__webpack_require__(177),_monitoringConstants=__webpack_require__(49),_format_number=__webpack_require__(73),filterFields=["logstash.name","logstash.host","logstash.http_address"],columns=[{title:"Name",sortKey:"logstash.name",sortOrder:_monitoringConstants.SORT_ASCENDING},{title:"CPU Usage",sortKey:"process.cpu.percent"},{title:"Load Average",sortKey:"os.cpu.load_average.1m"},{title:"JVM Heap Used",sortKey:"jvm.mem.heap_used_percent"},{title:"Events Ingested",sortKey:"events.out"},{title:"Config Reloads"},{title:"Version",sortKey:"logstash.version"}],nodeRowFactory=function(scope,kbnUrl){var goToNode=function(uuid){scope.$evalAsync(function(){kbnUrl.changePath("/logstash/node/"+uuid)})};return function(props){return _react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__name"},_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:goToNode.bind(null,(0,_lodash.get)(props,"logstash.uuid"))},(0,_lodash.get)(props,"logstash.name")))),_react2.default.createElement("div",{className:"monitoringTableCell__transportAddress"},(0,_lodash.get)(props,"logstash.http_address"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number"},(0,_format_number.formatPercentageUsage)(props.process.cpu.percent,100))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number"},(0,_format_number.formatNumber)((0,_lodash.get)(props,'os.cpu.load_average["1m"]'),"0.00"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number"},(0,_format_number.formatPercentageUsage)(props.jvm.mem.heap_used_percent,100))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number"},(0,_format_number.formatNumber)(props.events.out,"0.[0]a"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__splitNumber"},props.reloads.successes," successes"),_react2.default.createElement("div",{className:"monitoringTableCell__splitNumber"},props.reloads.failures," failures")),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__version"},(0,_format_number.formatNumber)((0,_lodash.get)(props,"logstash.version")))))}};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringLogstashNodeListing",function(kbnUrl){return{restrict:"E",scope:{nodes:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"="},link:function(scope,$el){scope.$watch("nodes",function(){var nodes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],nodesTable=_react2.default.createElement(_table.MonitoringTable,{className:"logstashNodesTable",rows:nodes,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:"Filter Nodes...",filterFields:filterFields,columns:columns,rowComponent:nodeRowFactory(scope,kbnUrl)});(0,_reactDom.render)(nodesTable,$el[0])})}}})},4152:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(4153),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);__webpack_require__(1).uiModules.get("monitoring/directives",[]).directive("monitoringLogstashNodeSummary",function(){return{restrict:"E",template:_index2.default,scope:{logstash:"="}}})},4153:function(module,exports){module.exports='<div class="monitoring-summary-status">\n  <div class="monitoring-summary-status__content">\n    <div>\n      <strong data-test-subj="httpAddress">{{ logstash.http_address }}</strong>\n    </div>\n    <div>Events Received:\n      <strong data-test-subj="eventsIn">{{ logstash.events.in|formatNumber:\'0.[0]a\' }}</strong>\n    </div>\n    <div>Events Emitted:\n      <strong data-test-subj="eventsOut">{{ logstash.events.out|formatNumber:\'0.[0]a\' }}</strong>\n    </div>\n    <div>Config Reloads:\n      <strong data-test-subj="numReloads">{{ logstash.reloads.successes }}</strong>\n    </div>\n    <div>Pipeline Workers:\n      <strong data-test-subj="pipelineWorkers">{{ logstash.pipeline.workers }}</strong>\n    </div>\n    <div>Batch Size:\n      <strong data-test-subj="pipelineBatchSize">{{ logstash.pipeline.batch_size }}</strong>\n    </div>\n    <div ng-show="logstash.queue_type">Queue Type:\n      <strong data-test-subj="queueType">{{ logstash.queue_type }}</strong>\n    </div>\n    <div>Logstash:\n      <strong data-test-subj="version">{{ logstash.version }}</strong>\n    </div>\n    <div>Uptime:\n      <strong data-test-subj="uptime">{{ logstash.uptime|formatNumber:\'time_since\' }}</strong>\n    </div>\n  </div>\n</div>\n'},4154:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(46),_modules=__webpack_require__(1),_pipeline_viewer=__webpack_require__(4155),_pipeline_state=__webpack_require__(4166);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringLogstashPipelineViewer",function(){return{restrict:"E",scope:{pipeline:"="},link:function(scope,$el){var pipelineState=new _pipeline_state.PipelineState(scope.pipeline);scope.$watch("pipeline",function(updatedPipeline){pipelineState.update(updatedPipeline);var pipelineViewer=_react2.default.createElement(_pipeline_viewer.PipelineViewer,{pipelineState:pipelineState});(0,_reactDom.render)(pipelineViewer,$el[0])})}}})},4155:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PipelineViewer=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_cola_graph=__webpack_require__(4156),_detail_drawer=__webpack_require__(4165);exports.PipelineViewer=function(_React$Component){function PipelineViewer(){_classCallCheck(this,PipelineViewer);var _this=_possibleConstructorReturn(this,(PipelineViewer.__proto__||Object.getPrototypeOf(PipelineViewer)).call(this));return _this.onShowVertexDetails=function(vertex){_this.setState({detailDrawer:{vertex:vertex}})},_this.onHideVertexDetails=function(){_this.setState({detailDrawer:{vertex:null}})},_this.renderDetailDrawer=function(){return _this.state.detailDrawer.vertex?_react2.default.createElement(_detail_drawer.DetailDrawer,{vertex:_this.state.detailDrawer.vertex,onHide:_this.onHideVertexDetails}):null},_this.state={detailDrawer:{vertex:null}},_this}return _inherits(PipelineViewer,_React$Component),_createClass(PipelineViewer,[{key:"render",value:function(){var graph=this.props.pipelineState.config.graph;return _react2.default.createElement("div",{className:"lspvContainer"},_react2.default.createElement(_cola_graph.ColaGraph,{graph:graph,onShowVertexDetails:this.onShowVertexDetails,detailVertex:this.state.detailDrawer.vertex}),this.renderDetailDrawer())}}]),PipelineViewer}(_react2.default.Component)},4156:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function makeMarker(svgDefs,id,fill){svgDefs.append("marker").attr("id",id).attr("viewBox","0 -5 10 10").attr("refX",5).attr("markerWidth",3).attr("markerHeight",3).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5L2,0").attr("stroke-width","0px").attr("fill",fill)}function makeBackground(parentEl){return parentEl.append("rect").attr("width","100%").attr("height","100%").attr("fill","#efefef")}function makeGroup(parentEl){return parentEl.append("g")}function makeNodes(nodesLayer,colaVertices){var nodes=nodesLayer.selectAll(".lspvVertex").data(colaVertices,function(d){return d.vertex.htmlAttrId});return nodes.enter().append("g").attr("id",function(d){return"nodeg-"+d.vertex.htmlAttrId}).attr("class",function(d){return"lspvVertex "+d.vertex.typeString}).attr("width",_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.WIDTH_PX).attr("height",_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.HEIGHT_PX),nodes.append("rect").attr("class","lspvVertexBounding").attr("rx",_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.BORDER_RADIUS_PX).attr("ry",_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.BORDER_RADIUS_PX),nodes}function addNodesMouseBehaviors(nodes,onMouseover,onMouseout,onMouseclick){nodes.on("mouseover",onMouseover),nodes.on("mouseout",onMouseout),nodes.on("click",onMouseclick)}function makeInputNodes(nodes){var inputs=nodes.filter(function(node){return node.vertex instanceof _plugin_vertex.PluginVertex&&node.vertex.isInput});return inputs.call(_vertex_content_renderer.enterInputVertex),inputs}function makeProcessorNodes(nodes){var processors=nodes.filter(function(node){return node.vertex instanceof _plugin_vertex.PluginVertex&&node.vertex.isProcessor});return processors.call(_vertex_content_renderer.enterProcessorVertex),processors}function makeIfNodes(nodes){var ifs=nodes.filter(function(d){return d.vertex instanceof _if_vertex.IfVertex});return ifs.call(_vertex_content_renderer.enterIfVertex),ifs}function makeQueueNode(nodes){var queue=nodes.filter(function(d){return d.vertex instanceof _queue_vertex.QueueVertex});return queue.call(_vertex_content_renderer.enterQueueVertex),queue}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColaGraph=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_d=__webpack_require__(60),_d2=_interopRequireDefault(_d),_plugin_vertex=__webpack_require__(780),_if_vertex=__webpack_require__(782),_queue_vertex=__webpack_require__(1339),_vertex_content_renderer=__webpack_require__(4157),_constants=__webpack_require__(334),_webcola=__webpack_require__(4158),lineFunction=_d2.default.svg.line().x(function(d){return d?d.x:null}).y(function(d){return d?d.y:null});exports.ColaGraph=function(_React$Component){function ColaGraph(){_classCallCheck(this,ColaGraph);var _this=_possibleConstructorReturn(this,(ColaGraph.__proto__||Object.getPrototypeOf(ColaGraph)).call(this));return _this.reflow=function(){_this.setNodeBounds(),_this.routeAndLabelEdges()},_this.setNodeBounds=function(){_this.nodes.each(function(d){return d.innerBounds=d.bounds.inflate(-_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.MARGIN_PX)}),_this.nodes.attr("transform",function(d){return"translate("+d.innerBounds.x+", "+d.innerBounds.y+")"}),_this.nodes.select("rect").attr("width",function(d){return d.innerBounds.width()}).attr("height",function(d){return d.innerBounds.height()})},_this.routeAndLabelEdges=function(){_this.links.attr("d",function(d){var arrowStart=_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.EDGES.ARROW_START,route=(0,_webcola.makeEdgeBetween)(d.source.innerBounds,d.target.innerBounds,arrowStart);return lineFunction([route.sourceIntersection,route.arrowStart])}),_this.routeEdges(),_this.labelEdges()},_this.onMouseover=function(node){_this.setState({hoverNode:node})},_this.onMouseout=function(){_this.setState({hoverNode:null})},_this.onMouseclick=function(e){_this.props.onShowVertexDetails(e.vertex)},_this.state={},_this.width=1e3,_this.height=1e3,_this}return _inherits(ColaGraph,_React$Component),_createClass(ColaGraph,[{key:"renderGraph",value:function(svgEl){var _this2=this;this.d3cola=(0,_webcola.d3adaptor)().avoidOverlaps(!0).size([this.width,this.height]);var outer=_d2.default.select(svgEl),background=makeBackground(outer),svgDefs=outer.append("defs");makeMarker(svgDefs,"lspvPlainMarker","#000"),makeMarker(svgDefs,"lspvTrueMarker","#1BAFD2"),makeMarker(svgDefs,"lspvFalseMarker","#EE408A");var zoom=_d2.default.behavior.zoom().translate([100,100]).scale(1),vis=outer.append("g").attr("transform","translate(0,0) scale(1)"),redraw=function(){vis.attr("transform","translate("+_d2.default.event.translate+") scale("+_d2.default.event.scale+")")};outer.call(_d2.default.behavior.zoom().on("zoom",redraw)),background.call(zoom.on("zoom",redraw)),this.nodesLayer=makeGroup(vis),this.nodes=makeNodes(this.nodesLayer,this.graph.colaVertices),this.inputs=makeInputNodes(this.nodes),this.processors=makeProcessorNodes(this.nodes),this.ifs=makeIfNodes(this.nodes),this.queue=makeQueueNode(this.nodes),addNodesMouseBehaviors(this.nodes,this.onMouseover,this.onMouseout,this.onMouseclick),this.linksLayer=makeGroup(vis);var ifTriangleColaGroups=this.graph.triangularIfGroups.map(function(group){return{leaves:Object.values(group).map(function(v){return v.colaIndex})}});this.d3cola.nodes(this.graph.colaVertices).links(this.graph.colaEdges).groups(ifTriangleColaGroups).constraints(this._getConstraints()).start(1e4),this.makeLinks();var tickStart=void 0,ticks=0,lastReflow=new Date;this.d3cola.on("tick",function(){var now=new Date;1===++ticks&&(tickStart=now);var elapsedSinceLastReflow=now-lastReflow;(1===ticks||elapsedSinceLastReflow>=1e3)&&(_this2.reflow(),lastReflow=now),now-tickStart>=1e4&&(_this2.d3cola.stop(),_this2.reflow(),console.log("Logstash graph visualizer constraint timeout! Rendering will stop here."))}).on("end",this.reflow)}},{key:"routeEdges",value:function(){var _this3=this;this.d3cola.prepareEdgeRouting(_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.EDGES.ROUTING_MARGIN_PX),this.links.select("path").attr("d",function(d){try{return lineFunction(_this3.d3cola.routeEdge(d))}catch(err){console.error("Could not exec line function!",err)}})}},{key:"labelEdges",value:function(){this.booleanLabels.each(function(){var path=_d2.default.select(this.parentNode).select("path")[0][0],pathLength=path.getTotalLength();if(0!==pathLength){var center=path.getPointAtLength(pathLength/2),group=_d2.default.select(this);group.select("circle").attr("cx",center.x).attr("cy",center.y);group.select("text").attr("x",center.x).attr("y",center.y+5)}})}},{key:"makeLinks",value:function(){this.links=this.linksLayer.selectAll(".link").data(this.graph.colaEdges);var linkGroup=this.links.enter().append("g").attr("id",function(d){return"lspvEdge-"+d.edge.htmlAttrId}).attr("class",function(d){return d.edge.svgClass});linkGroup.append("path");var booleanLinks=linkGroup.filter(".lspvEdgeBoolean");this.booleanLabels=booleanLinks.append("g").attr("class","lspvBooleanLabel"),this.booleanLabels.append("circle").attr("r",_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.EDGES.LABEL_RADIUS),this.booleanLabels.append("text").attr("text-anchor","middle").text(function(d){return d.edge.when?"T":"F"})}},{key:"updateGraph",value:function(){var nextProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},nextState=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.processors.call(_vertex_content_renderer.updateProcessorVertex),this.inputs.call(_vertex_content_renderer.updateInputVertex),this.nodesLayer.selectAll(".lspvVertexBounding-highlighted").classed("lspvVertexBounding-highlighted",!1),this.nodesLayer.selectAll(".lspvVertex-grayed").classed("lspvVertex-grayed",!1),this.linksLayer.selectAll(".lspvEdge-grayed").classed("lspvEdge-grayed",!1);var hoverNode=nextState.hoverNode;if(hoverNode){this.nodesLayer.selectAll("#nodeg-"+hoverNode.vertex.htmlAttrId).selectAll("rect").classed("lspvVertexBounding-highlighted",!0);var lineage=hoverNode.vertex.lineage(),lineageVertices=lineage.vertices,nonLineageVertices=this.graph.getVertices().filter(function(v){return-1===lineageVertices.indexOf(v)});this.nodesLayer.selectAll("g.lspvVertex").filter(function(d){return nonLineageVertices.indexOf(d.vertex)>=0}).classed("lspvVertex-grayed",!0);var lineageEdges=lineage.edges,nonLineageEdges=this.graph.edges.filter(function(e){return-1===lineageEdges.indexOf(e)});this.linksLayer.selectAll(".lspvEdge").filter(function(d){return nonLineageEdges.indexOf(d.edge)>=0}).classed("lspvEdge-grayed",!0)}var detailVertex=nextProps.detailVertex;if(detailVertex){this.nodesLayer.selectAll("#nodeg-"+detailVertex.htmlAttrId).selectAll("rect").classed("lspvVertexBounding-highlighted",!0)}}},{key:"_getConstraints",value:function(){var constraints=[],verticesByRank=this.graph.verticesByLayoutRank;this.graph.triangularIfGroups.forEach(function(group){group.trueVertex&&group.falseVertex&&(Object.values(group).forEach(function(v){return v.isInTriangleGroup=!0}),constraints.push({type:"alignment",axis:"x",offsets:[{node:group.ifVertex.colaIndex,offset:0},{node:group.trueVertex.colaIndex,offset:-_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.WIDTH_PX},{node:group.falseVertex.colaIndex,offset:_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.WIDTH_PX}]}))});for(var rank=0;rank<verticesByRank.length;rank++)!function(rank){var vertices=verticesByRank[rank];if(constraints.push({type:"alignment",axis:"y",offsets:vertices.map(function(v){return{node:v.colaIndex,offset:0}})}),rank>0){var previousVertices=verticesByRank[rank-1];vertices.forEach(function(vertex,index){var previousParents=previousVertices.filter(function(previousVertex){return previousVertex.outgoingVertices.find(function(v){return v===vertex})}),nodeXGap=_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.WIDTH_PX+_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.MARGIN_PX,rightSibling=vertices[index+1];if(!rightSibling||rightSibling.isInTriangleGroup||vertex.isInTriangleGroup||constraints.push({axis:"x",right:vertex.colaIndex,left:rightSibling.colaIndex,gap:nodeXGap}),1===previousParents.length){var previousParent=previousParents[0];1===previousParent.outgoingVertices.filter(function(v){return v.layoutRank===rank}).length&&constraints.push({axis:"x",left:previousParent.colaIndex,right:vertex.colaIndex,gap:0,equality:!0})}previousVertices.forEach(function(previousVertex){constraints.push({axis:"y",left:previousVertex.colaIndex,right:vertex.colaIndex,gap:2*_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.HEIGHT_PX,equality:!0})})})}}(rank);return constraints}},{key:"render",value:function(){var _this4=this,viewBox="0,0,"+this.width+","+this.height;return _react2.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",ref:function(svgEl){return _this4.renderGraph(svgEl)},width:"100%",height:"100%",preserveAspectRatio:"xMinYMin meet",viewBox:viewBox,pointerEvents:"all"})}},{key:"componentDidMount",value:function(){this.updateGraph()}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return this.updateGraph(nextProps,nextState),!1}},{key:"graph",get:function(){return this.props.graph}}]),ColaGraph}(_react2.default.Component)},4157:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderHeader(colaObjects,title,subtitle){var pluginHeader=colaObjects.append("text").attr("class","lspvHeader").attr("x",BASE_OFFSET_LEFT_PX).attr("y",FIRST_LINE_OFFSET_TOP_PX);pluginHeader.append("tspan").attr("class","lspvVertexTitle").text(title),pluginHeader.filter(function(d){var vertex=d.vertex;return vertex instanceof _plugin_vertex.PluginVertex&&vertex.hasExplicitId||vertex instanceof _if_vertex.IfVertex}).append("tspan").attr("class","lspvVertexSubtitle").text(function(d){return subtitle?" ("+subtitle(d).display+")":null}).append("title").text(function(d){return subtitle?subtitle(d).complete:null})}function renderIcon(selection,icon){selection.append("image").attr("xlink:href",icon).attr("x",ICON_OFFSET_LEFT_PX).attr("y",ICON_OFFSET_TOP_PX).attr("height",_monitoringConstants.LOGSTASH.PIPELINE_VIEWER.ICON.HEIGHT_PX).attr("width",_monitoringConstants.LOGSTASH.PIPELINE_VIEWER.ICON.WIDTH_PX)}function enterInputVertex(inputs){renderHeader(inputs,function(d){return d.vertex.title},function(d){return d.vertex.subtitle}),renderIcon(inputs,_input2.default),inputs.append("text").attr("class","lspvStat").attr("data-lspv-events-per-second","").attr("x",BASE_OFFSET_LEFT_PX).attr("y",SECOND_LINE_OFFSET_TOP_PX)}function enterProcessorVertex(processors){renderHeader(processors,function(d){return d.vertex.title},function(d){return d.vertex.subtitle}),processors.append("rect").attr("data-lspv-percent-execution-bg","").attr("x",PCT_EXECUTION_BG_OFFSET_LEFT_PX).attr("y",PCT_EXECUTION_BG_OFFSET_TOP_PX).attr("width",PCT_EXECUTION_BG_WIDTH_PX).attr("height",PCT_EXECUTION_BG_HEIGHT_PX).attr("ry",PCT_EXECUTION_BG_RADIUS_PX).attr("rx",PCT_EXECUTION_BG_RADIUS_PX).attr("fill","none"),processors.append("text").attr("class","lspvStat").attr("data-lspv-percent-execution","").attr("x",PCT_EXECUTION_OFFSET_LEFT_PX).attr("y",PCT_EXECUTION_OFFSET_TOP_PX),processors.append("rect").attr("data-lspv-per-event-duration-in-millis-bg","").attr("x",EVENT_DURATION_BG_OFFSET_LEFT_PX).attr("y",EVENT_DURATION_BG_OFFSET_TOP_PX).attr("width",EVENT_DURATION_BG_WIDTH_PX).attr("height",EVENT_DURATION_BG_HEIGHT_PX).attr("ry",EVENT_DURATION_BG_RADIUS_PX).attr("rx",EVENT_DURATION_BG_RADIUS_PX).attr("fill","none"),processors.append("text").attr("class","lspvStat").attr("data-lspv-per-event-duration-in-millis","").attr("x",EVENT_DURATION_OFFSET_LEFT_PX).attr("y",EVENT_DURATION_OFFSET_TOP_PX),processors.append("text").attr("class","lspvStat").attr("data-lspv-events-per-second","").attr("x",EVENTS_PER_SECOND_OFFSET_LEFT_PX).attr("y",EVENTS_PER_SECOND_OFFSET_TOP_PX),renderIcon(processors,function(d){return"filter"===d.vertex.pluginType?_filter2.default:_output2.default})}function enterIfVertex(ifs){renderHeader(ifs,function(d){return d.vertex.title},function(d){return d.vertex.subtitle}),renderIcon(ifs,_if2.default)}function enterQueueVertex(queueVertex){renderHeader(queueVertex,function(d){return d.vertex.title}),renderIcon(queueVertex,_queue2.default)}function updateInputVertex(inputs){inputs.selectAll("[data-lspv-events-per-second]").text(function(d){return(0,_format_number.formatMetric)(d.vertex.eventsPerSecond,"0.[00]a","e/s")})}function updateProcessorVertex(processors){processors.selectAll("[data-lspv-percent-execution]").text(function(d){var pct=d.vertex.percentOfTotalProcessorTime||0;return(0,_numeral2.default)(pct).format("0%")}),processors.selectAll("[data-lspv-percent-execution-bg]").attr("fill",function(d){return d.vertex.isTimeConsuming()?"orange":"none"}),processors.selectAll("[data-lspv-per-event-duration-in-millis]").text(function(d){return(0,_format_number.formatMetric)(d.vertex.millisPerEvent,"0.[00]a","ms/e")}),processors.selectAll("[data-lspv-per-event-duration-in-millis-bg]").attr("fill",function(d){return d.vertex.isSlow()?"orange":"none"}),processors.selectAll("[data-lspv-events-per-second]").text(function(d){return(0,_format_number.formatMetric)(d.vertex.eventsPerSecond,"0.[00]a","e/s")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.enterInputVertex=enterInputVertex,exports.enterProcessorVertex=enterProcessorVertex,exports.enterIfVertex=enterIfVertex,exports.enterQueueVertex=enterQueueVertex,exports.updateInputVertex=updateInputVertex,exports.updateProcessorVertex=updateProcessorVertex;var _numeral=__webpack_require__(102),_numeral2=_interopRequireDefault(_numeral),_input=__webpack_require__(1335),_input2=_interopRequireDefault(_input),_filter=__webpack_require__(1336),_filter2=_interopRequireDefault(_filter),_output=__webpack_require__(1337),_output2=_interopRequireDefault(_output),_queue=__webpack_require__(1340),_queue2=_interopRequireDefault(_queue),_if=__webpack_require__(1338),_if2=_interopRequireDefault(_if),_plugin_vertex=__webpack_require__(780),_if_vertex=__webpack_require__(782),_monitoringConstants=__webpack_require__(49),_format_number=__webpack_require__(73),BASE_OFFSET_LEFT_PX=7,FIRST_LINE_OFFSET_TOP_PX=18,SECOND_LINE_OFFSET_TOP_PX=FIRST_LINE_OFFSET_TOP_PX+22,PCT_EXECUTION_OFFSET_LEFT_PX=BASE_OFFSET_LEFT_PX,PCT_EXECUTION_OFFSET_TOP_PX=SECOND_LINE_OFFSET_TOP_PX,PCT_EXECUTION_BG_OFFSET_LEFT_PX=PCT_EXECUTION_OFFSET_LEFT_PX-4,PCT_EXECUTION_BG_OFFSET_TOP_PX=PCT_EXECUTION_OFFSET_TOP_PX-15,PCT_EXECUTION_BG_WIDTH_PX=43,PCT_EXECUTION_BG_HEIGHT_PX=20,PCT_EXECUTION_BG_RADIUS_PX=5,EVENT_DURATION_OFFSET_LEFT_PX=BASE_OFFSET_LEFT_PX+50,EVENT_DURATION_OFFSET_TOP_PX=SECOND_LINE_OFFSET_TOP_PX,EVENT_DURATION_BG_OFFSET_LEFT_PX=EVENT_DURATION_OFFSET_LEFT_PX-4,EVENT_DURATION_BG_OFFSET_TOP_PX=EVENT_DURATION_OFFSET_TOP_PX-15,EVENT_DURATION_BG_WIDTH_PX=106,EVENT_DURATION_BG_HEIGHT_PX=20,EVENT_DURATION_BG_RADIUS_PX=5,EVENTS_PER_SECOND_OFFSET_LEFT_PX=BASE_OFFSET_LEFT_PX+160,EVENTS_PER_SECOND_OFFSET_TOP_PX=SECOND_LINE_OFFSET_TOP_PX,ICON_OFFSET_LEFT_PX=BASE_OFFSET_LEFT_PX+258,ICON_OFFSET_TOP_PX=FIRST_LINE_OFFSET_TOP_PX+9},4158:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(4159)),__export(__webpack_require__(4160)),__export(__webpack_require__(784)),__export(__webpack_require__(1344)),__export(__webpack_require__(1346)),__export(__webpack_require__(1345)),__export(__webpack_require__(413)),__export(__webpack_require__(4163)),__export(__webpack_require__(783)),__export(__webpack_require__(1341)),__export(__webpack_require__(1343)),__export(__webpack_require__(1342)),__export(__webpack_require__(414)),__export(__webpack_require__(540)),__export(__webpack_require__(785)),__export(__webpack_require__(4164))},4159:function(module,exports,__webpack_require__){"use strict";function adaptor(options){return new LayoutAdaptor(options)}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var layout_1=__webpack_require__(413),LayoutAdaptor=function(_super){function LayoutAdaptor(options){var _this=_super.call(this)||this,o=options;return o.trigger&&(_this.trigger=o.trigger),o.kick&&(_this.kick=o.kick),o.drag&&(_this.drag=o.drag),o.on&&(_this.on=o.on),_this.dragstart=_this.dragStart=layout_1.Layout.dragStart,_this.dragend=_this.dragEnd=layout_1.Layout.dragEnd,_this}return __extends(LayoutAdaptor,_super),LayoutAdaptor.prototype.trigger=function(e){},LayoutAdaptor.prototype.kick=function(){},LayoutAdaptor.prototype.drag=function(){},LayoutAdaptor.prototype.on=function(eventType,listener){return this},LayoutAdaptor}(layout_1.Layout);exports.LayoutAdaptor=LayoutAdaptor,exports.adaptor=adaptor},4160:function(module,exports,__webpack_require__){"use strict";function d3adaptor(d3Context){return!d3Context||isD3V3(d3Context)?new d3v3.D3StyleLayoutAdaptor:new d3v4.D3StyleLayoutAdaptor(d3Context)}function isD3V3(d3Context){var v3exp=/^3\./;return d3Context.version&&null!==d3Context.version.match(v3exp)}Object.defineProperty(exports,"__esModule",{value:!0});var d3v3=__webpack_require__(4161),d3v4=__webpack_require__(4162);exports.d3adaptor=d3adaptor},4161:function(module,exports,__webpack_require__){"use strict";function d3adaptor(){return new D3StyleLayoutAdaptor}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var layout_1=__webpack_require__(413),D3StyleLayoutAdaptor=function(_super){function D3StyleLayoutAdaptor(){var _this=_super.call(this)||this;_this.event=d3.dispatch(layout_1.EventType[layout_1.EventType.start],layout_1.EventType[layout_1.EventType.tick],layout_1.EventType[layout_1.EventType.end]);var d3layout=_this;return _this.drag=function(){if(!drag)var drag=d3.behavior.drag().origin(layout_1.Layout.dragOrigin).on("dragstart.d3adaptor",layout_1.Layout.dragStart).on("drag.d3adaptor",function(d){layout_1.Layout.drag(d,d3.event),d3layout.resume()}).on("dragend.d3adaptor",layout_1.Layout.dragEnd);if(!arguments.length)return drag;this.call(drag)},_this}return __extends(D3StyleLayoutAdaptor,_super),D3StyleLayoutAdaptor.prototype.trigger=function(e){var d3event={type:layout_1.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event[d3event.type](d3event)},D3StyleLayoutAdaptor.prototype.kick=function(){var _this=this;d3.timer(function(){return _super.prototype.tick.call(_this)})},D3StyleLayoutAdaptor.prototype.on=function(eventType,listener){return"string"==typeof eventType?this.event.on(eventType,listener):this.event.on(layout_1.EventType[eventType],listener),this},D3StyleLayoutAdaptor}(layout_1.Layout);exports.D3StyleLayoutAdaptor=D3StyleLayoutAdaptor,exports.d3adaptor=d3adaptor},4162:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var layout_1=__webpack_require__(413),D3StyleLayoutAdaptor=function(_super){function D3StyleLayoutAdaptor(d3Context){var _this=_super.call(this)||this;_this.d3Context=d3Context,_this.event=d3Context.dispatch(layout_1.EventType[layout_1.EventType.start],layout_1.EventType[layout_1.EventType.tick],layout_1.EventType[layout_1.EventType.end]);var d3layout=_this;return _this.drag=function(){if(!drag)var drag=d3Context.drag().subject(layout_1.Layout.dragOrigin).on("start.d3adaptor",layout_1.Layout.dragStart).on("drag.d3adaptor",function(d){layout_1.Layout.drag(d,d3Context.event),d3layout.resume()}).on("end.d3adaptor",layout_1.Layout.dragEnd);if(!arguments.length)return drag;arguments[0].call(drag)},_this}return __extends(D3StyleLayoutAdaptor,_super),D3StyleLayoutAdaptor.prototype.trigger=function(e){var d3event={type:layout_1.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event.call(d3event.type,d3event)},D3StyleLayoutAdaptor.prototype.kick=function(){var _this=this,t=this.d3Context.timer(function(){return _super.prototype.tick.call(_this)&&t.stop()})},D3StyleLayoutAdaptor.prototype.on=function(eventType,listener){return"string"==typeof eventType?this.event.on(eventType,listener):this.event.on(layout_1.EventType[eventType],listener),this},D3StyleLayoutAdaptor}(layout_1.Layout);exports.D3StyleLayoutAdaptor=D3StyleLayoutAdaptor},4163:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var shortestpaths_1=__webpack_require__(540),descent_1=__webpack_require__(784),rectangle_1=__webpack_require__(414),linklengths_1=__webpack_require__(783),Link3D=function(){function Link3D(source,target){this.source=source,this.target=target}return Link3D.prototype.actualLength=function(x){var _this=this;return Math.sqrt(x.reduce(function(c,v){var dx=v[_this.target]-v[_this.source];return c+dx*dx},0))},Link3D}();exports.Link3D=Link3D;var Node3D=function(){function Node3D(x,y,z){void 0===x&&(x=0),void 0===y&&(y=0),void 0===z&&(z=0),this.x=x,this.y=y,this.z=z}return Node3D}();exports.Node3D=Node3D;var Layout3D=function(){function Layout3D(nodes,links,idealLinkLength){void 0===idealLinkLength&&(idealLinkLength=1);var _this=this;this.nodes=nodes,this.links=links,this.idealLinkLength=idealLinkLength,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(Layout3D.k);for(var i=0;i<Layout3D.k;++i)this.result[i]=new Array(nodes.length);nodes.forEach(function(v,i){for(var _i=0,_a=Layout3D.dims;_i<_a.length;_i++){var dim=_a[_i];void 0===v[dim]&&(v[dim]=Math.random())}_this.result[0][i]=v.x,_this.result[1][i]=v.y,_this.result[2][i]=v.z})}return Layout3D.prototype.linkLength=function(l){return l.actualLength(this.result)},Layout3D.prototype.start=function(iterations){var _this=this;void 0===iterations&&(iterations=100);var n=this.nodes.length,linkAccessor=new LinkAccessor;this.useJaccardLinkLengths&&linklengths_1.jaccardLinkLengths(this.links,linkAccessor,1.5),this.links.forEach(function(e){return e.length*=_this.idealLinkLength});var distanceMatrix=new shortestpaths_1.Calculator(n,this.links,function(e){return e.source},function(e){return e.target},function(e){return e.length}).DistanceMatrix(),D=descent_1.Descent.createSquareMatrix(n,function(i,j){return distanceMatrix[i][j]}),G=descent_1.Descent.createSquareMatrix(n,function(){return 2});this.links.forEach(function(_a){var source=_a.source,target=_a.target;return G[source][target]=G[target][source]=1}),this.descent=new descent_1.Descent(this.result,D),this.descent.threshold=.001,this.descent.G=G,this.constraints&&(this.descent.project=new rectangle_1.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var i=0;i<this.nodes.length;i++){var v=this.nodes[i];v.fixed&&this.descent.locks.add(i,[v.x,v.y,v.z])}return this.descent.run(iterations),this},Layout3D.prototype.tick=function(){this.descent.locks.clear();for(var i=0;i<this.nodes.length;i++){var v=this.nodes[i];v.fixed&&this.descent.locks.add(i,[v.x,v.y,v.z])}return this.descent.rungeKutta()},Layout3D.dims=["x","y","z"],Layout3D.k=Layout3D.dims.length,Layout3D}();exports.Layout3D=Layout3D;var LinkAccessor=function(){function LinkAccessor(){}return LinkAccessor.prototype.getSourceIndex=function(e){return e.source},LinkAccessor.prototype.getTargetIndex=function(e){return e.target},LinkAccessor.prototype.getLength=function(e){return e.length},LinkAccessor.prototype.setLength=function(e,l){e.length=l},LinkAccessor}()},4164:function(module,exports,__webpack_require__){"use strict";function gridify(pgLayout,nudgeGap,margin,groupMargin){return pgLayout.cola.start(0,0,0,10,!1),route(pgLayout.cola.nodes(),pgLayout.cola.groups(),margin,groupMargin).routeEdges(pgLayout.powerGraph.powerEdges,nudgeGap,function(e){return e.source.routerNode.id},function(e){return e.target.routerNode.id})}function route(nodes,groups,margin,groupMargin){nodes.forEach(function(d){d.routerNode={name:d.name,bounds:d.bounds.inflate(-margin)}}),groups.forEach(function(d){d.routerNode={bounds:d.bounds.inflate(-groupMargin),children:(void 0!==d.groups?d.groups.map(function(c){return nodes.length+c.id}):[]).concat(void 0!==d.leaves?d.leaves.map(function(c){return c.index}):[])}});var gridRouterNodes=nodes.concat(groups).map(function(d,i){return d.routerNode.id=i,d.routerNode});return new gridrouter_1.GridRouter(gridRouterNodes,{getChildren:function(v){return v.children},getBounds:function(v){return v.bounds}},margin-groupMargin)}function powerGraphGridLayout(graph,size,grouppadding){var powerGraph;graph.nodes.forEach(function(v,i){return v.index=i}),(new layout_1.Layout).avoidOverlaps(!1).nodes(graph.nodes).links(graph.links).powerGraphGroups(function(d){powerGraph=d,powerGraph.groups.forEach(function(v){return v.padding=grouppadding})});var n=graph.nodes.length,edges=[],vs=graph.nodes.slice(0);return vs.forEach(function(v,i){return v.index=i}),powerGraph.groups.forEach(function(g){var sourceInd=g.index=g.id+n;vs.push(g),void 0!==g.leaves&&g.leaves.forEach(function(v){return edges.push({source:sourceInd,target:v.index})}),void 0!==g.groups&&g.groups.forEach(function(gg){return edges.push({source:sourceInd,target:gg.id+n})})}),powerGraph.powerEdges.forEach(function(e){edges.push({source:e.source.index,target:e.target.index})}),(new layout_1.Layout).size(size).nodes(vs).links(edges).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new layout_1.Layout).convergenceThreshold(.001).size(size).avoidOverlaps(!0).nodes(graph.nodes).links(graph.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(d){powerGraph=d,powerGraph.groups.forEach(function(v){v.padding=grouppadding})}).start(50,0,100,0,!1),powerGraph:powerGraph}}Object.defineProperty(exports,"__esModule",{value:!0});var layout_1=__webpack_require__(413),gridrouter_1=__webpack_require__(1346);exports.gridify=gridify,exports.powerGraphGridLayout=powerGraphGridLayout},4165:function(module,exports,__webpack_require__){"use strict";function renderIcon(vertex){return _react2.default.createElement("img",{src:vertex.icon,width:_monitoringConstants.LOGSTASH.PIPELINE_VIEWER.ICON.WIDTH_PX,height:_monitoringConstants.LOGSTASH.PIPELINE_VIEWER.ICON.HEIGHT_PX,className:"lspvDetailDrawerIcon"})}function renderPluginBasicStats(vertex){var eventsLatencyRow="input"===vertex.pluginType?null:_react2.default.createElement(_eui.EuiTableRow,{key:"events_latency"},_react2.default.createElement(_eui.EuiTableRowCell,null,"Events Latency"),_react2.default.createElement(_eui.EuiTableRowCell,null,(0,_format_number.formatMetric)(vertex.stats.millis_per_event,"0.[00]a","ms/e"))),eventsOutRateRow=_react2.default.createElement(_eui.EuiTableRow,{key:"events_out_rate"},_react2.default.createElement(_eui.EuiTableRowCell,null,"Events Emitted Rate"),_react2.default.createElement(_eui.EuiTableRowCell,null,(0,_format_number.formatMetric)(vertex.eventsPerSecond,"0.[00]a","e/s"))),eventsInRow="input"===vertex.pluginType?null:_react2.default.createElement(_eui.EuiTableRow,{key:"events_in"},_react2.default.createElement(_eui.EuiTableRowCell,null,"Events Received"),_react2.default.createElement(_eui.EuiTableRowCell,null,(0,_format_number.formatMetric)(vertex.stats.events_in,"0.[0]a","events"))),eventsOutRow=_react2.default.createElement(_eui.EuiTableRow,{key:"events_out"},_react2.default.createElement(_eui.EuiTableRowCell,null,"Events Emitted"),_react2.default.createElement(_eui.EuiTableRowCell,null,(0,_format_number.formatMetric)(vertex.stats.events_out,"0.[0]a","events")));return _react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableBody,null,eventsLatencyRow,eventsOutRateRow,eventsInRow,eventsOutRow))}function renderIfBasicStats(_vertex){return _react2.default.createElement("p",null,"There are currently no metrics to show for this if condition.")}function renderQueueBasicStats(_vertex){return _react2.default.createElement("p",null,"There are currently no metrics to show for the queue.")}function renderBasicStats(vertex){switch(vertex.typeString){case"plugin":return renderPluginBasicStats(vertex);case"if":return renderIfBasicStats(vertex);case"queue":return renderQueueBasicStats(vertex)}}function renderPluginBasicInfo(vertex){return vertex.hasExplicitId?_react2.default.createElement("p",null,"This ",vertex.typeString,"'s ID is ",_react2.default.createElement("strong",null,vertex.id),"."):_react2.default.createElement("div",null,_react2.default.createElement("p",null,"This ",vertex.typeString," does not have an ID explicitly specified. Specifying an ID allows you to track differences across pipeline changes. You can explicitly specify an ID for this plugin like so:"),_react2.default.createElement(_eui.EuiCodeBlock,null,vertex.name," ",'{\n  id => "mySpecialId"\n}'),_react2.default.createElement(_eui.EuiSpacer,null))}function renderIfBasicInfo(vertex){var ifCode="if ("+vertex.subtitle.complete+") {\n  ...\n}";return _react2.default.createElement("div",null,_react2.default.createElement("p",null,"This is a conditional statement in your pipeline."),_react2.default.createElement(_eui.EuiCodeBlock,null,ifCode),_react2.default.createElement(_eui.EuiSpacer,null))}function renderQueueBasicInfo(_vertex){return _react2.default.createElement("p",null,"This is an internal structure used by Logstash to buffer events between inputs and the rest of the pipeline.")}function renderBasicInfo(vertex){switch(vertex.typeString){case"plugin":return renderPluginBasicInfo(vertex);case"if":return renderIfBasicInfo(vertex);case"queue":return renderQueueBasicInfo(vertex)}}function renderTitle(vertex){switch(vertex.typeString){case"plugin":return vertex.title+" "+vertex.pluginType;case"if":case"queue":return vertex.title}}function DetailDrawer(_ref){var vertex=_ref.vertex,onHide=_ref.onHide;return _react2.default.createElement(_eui.EuiFlyout,{size:"s",onClose:onHide},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,renderIcon(vertex),renderTitle(vertex)))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButtonIcon,{onClick:onHide,iconType:"cross","aria-label":"Close"})))),_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,null,renderBasicInfo(vertex),renderBasicStats(vertex))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DetailDrawer=DetailDrawer;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(13),_format_number=__webpack_require__(73),_monitoringConstants=__webpack_require__(49)},4166:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PipelineState=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_config=__webpack_require__(4167);exports.PipelineState=function(){function PipelineState(pipelineState){_classCallCheck(this,PipelineState),this.config=new _config.Config,this.update(pipelineState)}return _createClass(PipelineState,[{key:"update",value:function(pipelineJson){this.config.update(pipelineJson.representation)}}]),PipelineState}()},4167:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Config=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_graph=__webpack_require__(4168);exports.Config=function(){function Config(){_classCallCheck(this,Config),this.graph=new _graph.Graph}return _createClass(Config,[{key:"update",value:function(configJson){this.json=configJson,this.graph.update(configJson.graph)}}]),Config}()},4168:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Graph=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_vertex_factory=__webpack_require__(4169),_edge_factory=__webpack_require__(4170);exports.Graph=function(){function Graph(){_classCallCheck(this,Graph),this.json=null,this.verticesById={},this.edgesById={},this.edgesByFrom={},this.edgesByTo={}}return _createClass(Graph,[{key:"getVertexById",value:function(id){return this.verticesById[id]}},{key:"getVertices",value:function(){return void 0===this.vertexCache&&(this.vertexCache=Object.values(this.verticesById)),this.vertexCache}},{key:"update",value:function(jsonRepresentation){var _this=this;this.json=jsonRepresentation,jsonRepresentation.vertices.forEach(function(vJson){var existingVertex=_this.verticesById[vJson.id];if(void 0!==existingVertex)existingVertex.update(vJson);else{var newVertex=(0,_vertex_factory.vertexFactory)(_this,vJson);_this.verticesById[vJson.id]=newVertex}}),jsonRepresentation.edges.forEach(function(eJson){var existingEdge=_this.edgesById[eJson.id];if(void 0!==existingEdge)existingEdge.update(eJson);else{var newEdge=(0,_edge_factory.edgeFactory)(_this,eJson);_this.edgesById[eJson.id]=newEdge,void 0===_this.edgesByFrom[newEdge.from.json.id]&&(_this.edgesByFrom[newEdge.from.json.id]=[]),_this.edgesByFrom[newEdge.from.json.id].push(newEdge),void 0===_this.edgesByTo[newEdge.to.json.id]&&(_this.edgesByTo[newEdge.to.json.id]=[]),_this.edgesByTo[newEdge.to.json.id].push(newEdge)}}),this.vertexRankById=this._bfs().distances,this.verticesByLayoutRank=this.calculateVerticesByLayoutRank(),this.triangularIfGroups=this.calculateTriangularIfGroups()}},{key:"verticesByRank",value:function(){var byRank=[];return Object.values(this.verticesById).forEach(function(vertex){var rank=vertex.rank;void 0===byRank[rank]&&(byRank[rank]=[]),byRank[rank].push(vertex)}),byRank}},{key:"calculateTriangularIfGroups",value:function(){return this.getVertices().filter(function(v){return"if"===v.typeString&&!v.outgoingVertices.find(function(outV){return outV.layoutRank!==v.layoutRank+1})}).map(function(ifV){var trueEdge=ifV.outgoingEdges.filter(function(e){return!0===e.when})[0],falseEdge=ifV.outgoingEdges.filter(function(e){return!1===e.when})[0],result={ifVertex:ifV};return trueEdge&&(result.trueVertex=trueEdge.to),falseEdge&&(result.falseVertex=falseEdge.to),result})}},{key:"calculateVerticesByLayoutRank",value:function(){for(var result=this.verticesByRank(),rankOf=function(vertex){var foundRankVertices=result.find(function(rankVertices){return rankVertices.find(function(v){return v===vertex})});return result.indexOf(foundRankVertices)},promotionRules=[function(vertices){var found=vertices.find(function(v){var hasIncomingOfSameRank=v.incomingVertices.find(function(inV){return rankOf(inV)===rankOf(v)}),hasOutgoingOfSameRank=v.outgoingVertices.find(function(outV){return rankOf(outV)===rankOf(v)});return hasIncomingOfSameRank&&void 0===hasOutgoingOfSameRank});return found||null},function(vertices){return vertices.length>3?vertices[0]:null}],rank=0;rank<result.length;rank++)!function(rank){var vertices=result[rank];promotionRules.forEach(function(rule){for(var ruleConverged=!1;!ruleConverged;){var promotedVertex=rule(vertices,result);if(null!==promotedVertex){var promotedIndex=vertices.indexOf(promotedVertex);vertices.splice(promotedIndex,1)[0],void 0===result[rank+1]&&(result[rank+1]=[]),result[rank+1].push(promotedVertex)}else ruleConverged=!0}})}(rank);for(var rank=0;rank<result.length;rank++)!function(rank){result[rank].forEach(function(v){return v.layoutRank=rank})}(rank);return result}},{key:"_getReverseVerticesByRank",value:function(){return this.getVertices().reduce(function(acc,v){var rank=v.reverseRank;return void 0===acc.get(rank)&&acc.set(rank,[]),acc.get(rank).push(v),acc},new Map)}},{key:"_bfs",value:function(){return this._bfsTraversalUsing(this.roots,"outgoing")}},{key:"_reverseBfs",value:function(){return this._bfsTraversalUsing(this.leaves,"incoming")}},{key:"_bfsTraversalUsing",value:function(startingVertices,vertexType){var distances={},parents={},queue=[],vertexTypePropertyName=vertexType+"Vertices";startingVertices.forEach(function(v){distances[v.id]=0,queue.push(v)});for(;queue.length>0;)!function(){var currentVertex=queue.shift(),currentDistance=distances[currentVertex.id];currentVertex[vertexTypePropertyName].forEach(function(vertex){void 0===distances[vertex.id]&&(distances[vertex.id]=currentDistance+1,parents[vertex.id]=currentVertex,queue.push(vertex))})}();return{distances:distances,parents:parents}}},{key:"processorVertices",get:function(){return this.getVertices().filter(function(v){return v.isProcessor})}},{key:"colaVertices",get:function(){return this.getVertices().map(function(v){return v.cola})}},{key:"edges",get:function(){return Object.values(this.edgesById)}},{key:"colaEdges",get:function(){return this.edges.map(function(e){return e.cola})}},{key:"roots",get:function(){return this.getVertices().filter(function(v){return v.isRoot})}},{key:"leaves",get:function(){return this.getVertices().filter(function(v){return v.isLeaf})}},{key:"maxRank",get:function(){return Math.max.apply(null,this.getVertices().map(function(v){return v.rank}))}}]),Graph}()},4169:function(module,exports,__webpack_require__){"use strict";function vertexFactory(graph,vertexJson){var type=vertexJson.type;switch(type){case"plugin":return new _plugin_vertex.PluginVertex(graph,vertexJson);case"if":return new _if_vertex.IfVertex(graph,vertexJson);case"queue":return new _queue_vertex.QueueVertex(graph,vertexJson);default:throw new Error("Unknown vertex type "+type+"! This shouldn't happen!")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertexFactory=vertexFactory;var _plugin_vertex=__webpack_require__(780),_if_vertex=__webpack_require__(782),_queue_vertex=__webpack_require__(1339)},4170:function(module,exports,__webpack_require__){"use strict";function edgeFactory(graph,edgeJson){var type=edgeJson.type;switch(type){case"plain":return new _plain_edge.PlainEdge(graph,edgeJson);case"boolean":return new _boolean_edge.BooleanEdge(graph,edgeJson);default:throw new Error("Unknown edge type "+type+"! This shouldn't happen!")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.edgeFactory=edgeFactory;var _plain_edge=__webpack_require__(4171),_boolean_edge=__webpack_require__(4172)},4171:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlainEdge=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_edge=__webpack_require__(1347);exports.PlainEdge=function(_Edge){function PlainEdge(){return _classCallCheck(this,PlainEdge),_possibleConstructorReturn(this,(PlainEdge.__proto__||Object.getPrototypeOf(PlainEdge)).apply(this,arguments))}return _inherits(PlainEdge,_Edge),_createClass(PlainEdge,[{key:"svgClass",get:function(){return _get(PlainEdge.prototype.__proto__||Object.getPrototypeOf(PlainEdge.prototype),"svgClass",this)+" "+_get(PlainEdge.prototype.__proto__||Object.getPrototypeOf(PlainEdge.prototype),"svgClass",this)+"Plain"}}]),PlainEdge}(_edge.Edge)},4172:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BooleanEdge=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_edge=__webpack_require__(1347);exports.BooleanEdge=function(_Edge){function BooleanEdge(){return _classCallCheck(this,BooleanEdge),_possibleConstructorReturn(this,(BooleanEdge.__proto__||Object.getPrototypeOf(BooleanEdge)).apply(this,arguments))}return _inherits(BooleanEdge,_Edge),_createClass(BooleanEdge,[{key:"when",get:function(){return this.json.when}},{key:"svgClass",get:function(){return _get(BooleanEdge.prototype.__proto__||Object.getPrototypeOf(BooleanEdge.prototype),"svgClass",this)+" "+_get(BooleanEdge.prototype.__proto__||Object.getPrototypeOf(BooleanEdge.prototype),"svgClass",this)+"Boolean "+_get(BooleanEdge.prototype.__proto__||Object.getPrototypeOf(BooleanEdge.prototype),"svgClass",this)+"Boolean--"+this.when}}]),BooleanEdge}(_edge.Edge)},4173:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_moment=__webpack_require__(12),_moment2=_interopRequireDefault(_moment),_lodash=__webpack_require__(0),_modules=__webpack_require__(1),_components=__webpack_require__(17),_table=__webpack_require__(177),_sparkline=__webpack_require__(1327),_monitoringConstants=__webpack_require__(49),_format_number=__webpack_require__(73),filterFields=["id"],columns=[{title:"ID",sortKey:"id",sortOrder:_monitoringConstants.SORT_ASCENDING},{title:"Events Emitted Rate",sortKey:"latestThroughput"},{title:"Number of Nodes",sortKey:"latestNodesCount"}],pipelineRowFactory=function(onPipelineClick,onBrush,tooltipXValueFormatter,tooltipYValueFormatter){return function(_ref){var id=_ref.id,metrics=_ref.metrics,latestThroughput=_ref.latestThroughput,latestNodesCount=_ref.latestNodesCount,throughputMetric=metrics.throughput,nodesCountMetric=metrics.nodesCount;return _react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__name"},_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:onPipelineClick.bind(null,id),"data-test-subj":"id"},id)))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement(_components.KuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react2.default.createElement(_components.KuiFlexItem,null,_react2.default.createElement(_sparkline.Sparkline,{series:throughputMetric.data,onBrush:onBrush,tooltip:{xValueFormatter:tooltipXValueFormatter,yValueFormatter:(0,_lodash.partialRight)(tooltipYValueFormatter,throughputMetric.metric.format,throughputMetric.metric.units)},options:{xaxis:throughputMetric.timeRange}})),_react2.default.createElement(_components.KuiFlexItem,{className:"monitoringTableCell__number","data-test-subj":"eventsEmittedRate"},(0,_format_number.formatMetric)(latestThroughput,"0.[0]a",throughputMetric.metric.units)))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement(_components.KuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react2.default.createElement(_components.KuiFlexItem,null,_react2.default.createElement(_sparkline.Sparkline,{series:nodesCountMetric.data,onBrush:onBrush,tooltip:{xValueFormatter:tooltipXValueFormatter,yValueFormatter:(0,_lodash.partialRight)(tooltipYValueFormatter,nodesCountMetric.metric.format,nodesCountMetric.metric.units)},options:{xaxis:nodesCountMetric.timeRange}})),_react2.default.createElement(_components.KuiFlexItem,{className:"monitoringTableCell__number","data-test-subj":"nodeCount"},(0,_format_number.formatMetric)(latestNodesCount,"0a")))))}};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringLogstashPipelineListing",function($injector){var kbnUrl=$injector.get("kbnUrl"),timefilter=$injector.get("timefilter"),config=$injector.get("config"),dateFormat=config.get("dateFormat");return{restrict:"E",scope:{pipelines:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"=",upgradeMessage:"@"},link:function(scope,$el){function onBrush(xaxis){scope.$evalAsync(function(){timefilter.time.from=(0,_moment2.default)(xaxis.from),timefilter.time.to=(0,_moment2.default)(xaxis.to),timefilter.time.mode="absolute"})}function onPipelineClick(id){var url="/logstash/pipelines/"+id;scope.$evalAsync(function(){return kbnUrl.changePath(url)})}function tooltipXValueFormatter(xValue){return(0,_moment2.default)(xValue).format(dateFormat)}function tooltipYValueFormatter(yValue,format,units){return(0,_format_number.formatMetric)(yValue,format,units)}scope.$watch("pipelines",function(){var pipelines=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(scope.upgradeMessage)return void(0,_reactDom.render)(_react2.default.createElement(_components.KuiEmptyTablePrompt,{message:scope.upgradeMessage}),$el[0]);var pipelinesTable=_react2.default.createElement(_table.MonitoringTable,{className:"logstashPipelinesTable",rows:pipelines,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:"Filter Pipelines...",filterFields:filterFields,columns:columns,rowComponent:pipelineRowFactory(onPipelineClick,onBrush,tooltipXValueFormatter,tooltipYValueFormatter)});(0,_reactDom.render)(pipelinesTable,$el[0])}),scope.$on("$destroy",function(){return(0,_reactDom.unmountComponentAtNode)($el[0])})}}})},4174:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_index=__webpack_require__(4175),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringClusterStatusKibana",function(){return{restrict:"E",template:_index2.default,scope:{status:"="}}})},4175:function(module,exports){module.exports='<div class="monitoring-summary-status">\n  <div\n    class="monitoring-summary-status__content"\n    data-test-subj="kibanaSummaryStatus"\n  >\n    <div>Instances:\n      <strong data-test-subj="instances">\n        {{ status.count }}\n      </strong>\n    </div>\n    <div>Memory:\n      <strong data-test-subj="memory">\n        {{ status.memory_size|formatNumber:\'bytes\' }} / {{ status.memory_limit|formatNumber:\'bytes\' }}\n      </strong>\n    </div>\n    <div>Requests:\n      <strong data-test-subj="requests">\n        {{ status.requests_total }}\n      </strong>\n    </div>\n    <div>Connections:\n      <strong data-test-subj="connections">\n        {{ status.concurrent_connections|formatNumber:\'int_commas\' }}\n      </strong>\n    </div>\n    <div>Max. Response Time:\n      <strong data-test-subj="maxResponseTime">\n        {{ status.response_time_max }} ms\n      </strong>\n    </div>\n    <div class="monitoring-summary-status__status-indicator">\n      Health:\n      <monitoring-kibana-status-icon\n        status="status.status"\n        title="Overall status of Kibana instances in the cluster: {{ status.status }}"\n      ></monitoring-kibana-status-icon>\n      {{ status.status|capitalize }}\n    </div>\n  </div>\n</div>\n'},4176:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(46),_modules=__webpack_require__(1),_components=__webpack_require__(17),_status_icon=__webpack_require__(1331),_table=__webpack_require__(177),_monitoringConstants=__webpack_require__(49),_format_number=__webpack_require__(73),filterFields=["kibana.name","kibana.host","kibana.status","kibana.transport_address"],columns=[{title:"Name",sortKey:"kibana.name",sortOrder:_monitoringConstants.SORT_ASCENDING},{title:"Status",sortKey:"kibana.status"},{title:"Load Average",sortKey:"os.load.1m"},{title:"Memory Size",sortKey:"process.memory.resident_set_size_in_bytes"},{title:"Requests",sortKey:"requests.total"},{title:"Response Times",sortKey:"response_times.average"}],instanceRowFactory=function(scope,kbnUrl){var goToInstance=function(uuid){scope.$evalAsync(function(){kbnUrl.changePath("/kibana/instances/"+uuid)})};return function(props){return _react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__name"},_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:goToInstance.bind(null,(0,_lodash.get)(props,"kibana.uuid")),"data-test-subj":"kibanaLink-"+props.kibana.name},props.kibana.name))),_react2.default.createElement("div",{className:"monitoringTableCell__transportAddress"},(0,_lodash.get)(props,"kibana.transport_address"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{title:"Instance status: "+props.kibana.status,className:"monitoringTableCell__status"},_react2.default.createElement(_status_icon.KibanaStatusIcon,{status:props.kibana.status,availability:props.availability})," ",props.availability?(0,_lodash.capitalize)(props.kibana.status):"Offline")),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number"},(0,_format_number.formatNumber)((0,_lodash.get)(props,'os.load["1m"]'),"0.00"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number"},(0,_format_number.formatNumber)(props.process.memory.resident_set_size_in_bytes,"0.00 b"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__number"},(0,_format_number.formatNumber)(props.requests.total,"int_commas"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__splitNumber"},props.response_times.average&&(0,_format_number.formatNumber)(props.response_times.average,"int_commas")+" ms avg"),_react2.default.createElement("div",{className:"monitoringTableCell__splitNumber"},(0,_format_number.formatNumber)(props.response_times.max,"int_commas")," ms max")))}};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringKibanaListing",function(kbnUrl){return{restrict:"E",scope:{instances:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"="},link:function(scope,$el){scope.$watch("instances",function(){var instances=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],kibanasTable=_react2.default.createElement(_table.MonitoringTable,{className:"kibanaInstancesTable",rows:instances,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:"Filter Instances...",filterFields:filterFields,columns:columns,rowComponent:instanceRowFactory(scope,kbnUrl)});(0,_reactDom.render)(kibanasTable,$el[0])})}}})},4177:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(1),_index=__webpack_require__(4178),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringKibanaSummary",function(){return{restrict:"E",template:_index2.default,scope:{kibana:"="}}})},4178:function(module,exports){module.exports='<div class="monitoring-summary-status">\n  <div\n    class="monitoring-summary-status__content"\n    data-test-subj="kibanaInstanceStatus"\n  >\n    <div>\n      <strong data-test-subj="transportAddress">{{ kibana.transport_address }}</strong>\n    </div>\n    <div>OS Free Memory:\n      <strong data-test-subj="osFreeMemory">{{ kibana.os_memory_free|formatNumber:\'0.0 b\' }}</strong>\n    </div>\n    <div>Version:\n      <strong data-test-subj="version">{{ kibana.version }}</strong>\n    </div>\n    <div>Uptime:\n      <strong data-test-subj="uptime">{{ kibana.uptime|formatNumber:\'time_since\' }}</strong>\n    </div>\n    <div class="monitoring-summary-status__status-indicator">\n      Health:\n      <monitoring-kibana-status-icon\n        status="kibana.status"\n        title="Status of this Kibana instance: {{ kibana.status }}"\n      ></monitoring-kibana-status-icon>\n      {{ kibana.status|capitalize }}\n    </div>\n  </div>\n</div>\n'},4179:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_moment=__webpack_require__(12),_moment2=_interopRequireDefault(_moment),_reactDom=__webpack_require__(46),_modules=__webpack_require__(1),_overview=__webpack_require__(4180);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringBeatsOverview",function(timefilter){return{restrict:"E",scope:{data:"="},link:function(scope,$el){function onBrush(_ref){var xaxis=_ref.xaxis;scope.$evalAsync(function(){timefilter.time.from=(0,_moment2.default)(xaxis.from),timefilter.time.to=(0,_moment2.default)(xaxis.to),timefilter.time.mode="absolute"})}scope.$watch("data",function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_reactDom.render)(_react2.default.createElement(_overview.BeatsOverview,_extends({},data,{onBrush:onBrush})),$el[0])})}}})},4180:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _overview=__webpack_require__(4181);Object.defineProperty(exports,"BeatsOverview",{enumerable:!0,get:function(){return _overview.BeatsOverview}})},4181:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function renderChart(series,_ref){var onBrush=_ref.onBrush,units=(0,_chart.getUnits)(series);return _react2.default.createElement("div",{className:"monitoring-chart__container"},_react2.default.createElement("h2",{className:"euiTitle"},(0,_chart.getTitle)(series),units?" ("+units+")":"",_react2.default.createElement(_puiReactOverlayTrigger.OverlayTrigger,{placement:"left",trigger:"click",overlay:_react2.default.createElement(_puiReactTooltip.Tooltip,null,_react2.default.createElement(_chart.InfoTooltip,{series:series}))},_react2.default.createElement("span",{className:"monitoring-chart-tooltip__trigger overlay-trigger"},_react2.default.createElement(_components.KuiInfoButton,null)))),_react2.default.createElement(_chart.MonitoringTimeseries,{series:series,onBrush:onBrush}))}function renderLatestActive(latestActive,latestTypes,latestVersions){if(latestTypes&&latestTypes.length>0)return _react2.default.createElement("div",{className:"page-row"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("h2",{className:"euiTitle"},"Active Beats in Last Day"),_react2.default.createElement(_latest_active.LatestActive,{latestActive:latestActive})),_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("h2",{className:"euiTitle"},"Top 5 Beat Types in Last Day"),_react2.default.createElement(_latest_types.LatestTypes,{latestTypes:latestTypes})),_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("h2",{className:"euiTitle"},"Top 5 Versions in Last Day"),_react2.default.createElement(_latest_versions.LatestVersions,{latestVersions:latestVersions}))));return _react2.default.createElement(_eui.EuiCallOut,{title:"Hi there! This area is where your latest Beats activity would show\nup, but you don't seem to have any activity within the last day.",iconType:"gear","data-test-subj":"noRecentActivityMessage"})}function BeatsOverview(_ref2){var latestActive=_ref2.latestActive,latestTypes=_ref2.latestTypes,latestVersions=_ref2.latestVersions,stats=_ref2.stats,metrics=_ref2.metrics,props=_objectWithoutProperties(_ref2,["latestActive","latestTypes","latestVersions","stats","metrics"]);return _react2.default.createElement("div",null,renderLatestActive(latestActive,latestTypes,latestVersions),_react2.default.createElement(_.Stats,{stats:stats}),_react2.default.createElement("div",{className:"page-row"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_event_rates,props)),_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_fail_rates,props)),_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_throughput_rates,props)),_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_output_errors,props)))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BeatsOverview=BeatsOverview;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_latest_active=__webpack_require__(4182),_latest_versions=__webpack_require__(4183),_latest_types=__webpack_require__(4184),_=__webpack_require__(1348),_chart=__webpack_require__(752),_puiReactTooltip=__webpack_require__(283),_puiReactOverlayTrigger=__webpack_require__(287),_components=__webpack_require__(17),_eui=__webpack_require__(13)},4182:function(module,exports,__webpack_require__){"use strict";function LatestActive(_ref){var latestActive=_ref.latestActive,rangeMap={last1m:"Last 1 minute",last5m:"Last 5 minutes",last20m:"Last 20 minutes",last1h:"Last 1 hour",last1d:"Last 1 day"},activity=latestActive.map(function(_ref2,index){var range=_ref2.range,count=_ref2.count;return _react2.default.createElement(_components.KuiTableRow,{key:"latest-active-"+index},_react2.default.createElement(_components.KuiTableRowCell,null,rangeMap[range]),_react2.default.createElement(_components.KuiTableRowCell,{align:"right"},count))});return _react2.default.createElement(_components.KuiTable,null,_react2.default.createElement(_components.KuiTableBody,null,activity))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LatestActive=LatestActive;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(17)},4183:function(module,exports,__webpack_require__){"use strict";function LatestVersions(_ref){var latestVersions=_ref.latestVersions,versions=latestVersions.map(function(_ref2,index){var version=_ref2.version,count=_ref2.count;return _react2.default.createElement(_components.KuiTableRow,{key:"latest-version-"+index},_react2.default.createElement(_components.KuiTableRowCell,null,version),_react2.default.createElement(_components.KuiTableRowCell,{align:"right"},count))});return _react2.default.createElement(_components.KuiTable,null,_react2.default.createElement(_components.KuiTableBody,null,versions))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LatestVersions=LatestVersions;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(17)},4184:function(module,exports,__webpack_require__){"use strict";function LatestTypes(_ref){var latestTypes=_ref.latestTypes,types=latestTypes.map(function(_ref2,index){var type=_ref2.type,count=_ref2.count;return _react2.default.createElement(_components.KuiTableRow,{key:"latest-types-"+index},_react2.default.createElement(_components.KuiTableRowCell,null,type),_react2.default.createElement(_components.KuiTableRowCell,{align:"right"},count))});return _react2.default.createElement(_components.KuiTable,null,_react2.default.createElement(_components.KuiTableBody,null,types))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LatestTypes=LatestTypes;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(17)},4185:function(module,exports,__webpack_require__){"use strict";function Stats(_ref){var stats=_ref.stats,types=stats.types.map(function(_ref2,index){var type=_ref2.type,count=_ref2.count;return _react2.default.createElement("div",{key:"type-"+index,"data-test-subj":"typeCount","data-test-type-count":type+":"+count},type,": ",_react2.default.createElement("strong",null,(0,_format_number.formatMetric)(count,"int_commas")))});return _react2.default.createElement("div",{className:"monitoring-summary-status"},_react2.default.createElement("div",{className:"monitoring-summary-status__content","data-test-subj":"beatsSummaryStatus"},_react2.default.createElement("div",null,"Total Beats: ",_react2.default.createElement("strong",{"data-test-subj":"totalBeats"},(0,_format_number.formatMetric)((0,_lodash.get)(stats,"total"),"int_commas"))),types,_react2.default.createElement("div",null,"Total Events: ",_react2.default.createElement("strong",{"data-test-subj":"totalEvents"},(0,_format_number.formatMetric)((0,_lodash.get)(stats,"stats.totalEvents"),"0.[0]a"))),_react2.default.createElement("div",null,"Bytes Sent: ",_react2.default.createElement("strong",{"data-test-subj":"bytesSent"},(0,_format_number.formatMetric)((0,_lodash.get)(stats,"stats.bytesSent"),"bytes")))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stats=Stats;var _lodash=__webpack_require__(0),_react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_format_number=__webpack_require__(73)},4186:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(46),_modules=__webpack_require__(1),_beats=__webpack_require__(1348),_format_number=__webpack_require__(73),_monitoringConstants=__webpack_require__(49),_components=__webpack_require__(17),_table=__webpack_require__(177),filterFields=["name","type","version","output"],columns=[{title:"Name",sortKey:"name",sortOrder:_monitoringConstants.SORT_ASCENDING},{title:"Type",sortKey:"type"},{title:"Output Enabled",sortKey:"output"},{title:"Total Events Rate",sortKey:"total_events_rate",secondarySortOrder:_monitoringConstants.SORT_DESCENDING},{title:"Bytes Sent Rate",sortKey:"bytes_sent_rate"},{title:"Output Errors",sortKey:"errors"},{title:"Allocated Memory",sortKey:"memory"},{title:"Version",sortKey:"version"}],beatRowFactory=function(scope,kbnUrl){return function(props){var applyFiltering=function(filterText){return function(){props.dispatchTableAction(_monitoringConstants.TABLE_ACTION_UPDATE_FILTER,filterText)}};return _react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monitoringTableCell__name"},_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:function(uuid){return function(){scope.$evalAsync(function(){kbnUrl.changePath("/beats/beat/"+uuid)})}}(props.uuid),"data-test-subj":"beatLink-"+props.name},props.name)))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:applyFiltering(props.type)},props.type))),_react2.default.createElement(_components.KuiTableRowCell,null,props.output),_react2.default.createElement(_components.KuiTableRowCell,null,(0,_format_number.formatMetric)(props.total_events_rate,"","/s")),_react2.default.createElement(_components.KuiTableRowCell,null,(0,_format_number.formatMetric)(props.bytes_sent_rate,"byte","/s")),_react2.default.createElement(_components.KuiTableRowCell,null,(0,_format_number.formatMetric)(props.errors,"0")),_react2.default.createElement(_components.KuiTableRowCell,null,(0,_format_number.formatMetric)(props.memory,"byte")),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("a",{className:"kuiLink",onClick:applyFiltering(props.version)},props.version))))}};_modules.uiModules.get("monitoring/directives",[]).directive("monitoringBeatsListing",function(kbnUrl){return{restrict:"E",scope:{data:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"="},link:function(scope,$el){scope.$watch("data",function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_reactDom.render)(_react2.default.createElement("div",null,_react2.default.createElement(_beats.Stats,{stats:data.stats}),_react2.default.createElement("div",{className:"page-row"},_react2.default.createElement(_table.MonitoringTable,{className:"beatsTable",rows:data.listing,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:"Filter Beats...",filterFields:filterFields,columns:columns,rowComponent:beatRowFactory(scope,kbnUrl)}))),$el[0])})}}})},4187:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_moment=__webpack_require__(12),_moment2=_interopRequireDefault(_moment),_reactDom=__webpack_require__(46),_modules=__webpack_require__(1),_beat=__webpack_require__(4188);_modules.uiModules.get("monitoring/directives",[]).directive("monitoringBeatsBeat",function(timefilter){return{restrict:"E",scope:{data:"="},link:function(scope,$el){function onBrush(_ref){var xaxis=_ref.xaxis;scope.$evalAsync(function(){timefilter.time.from=(0,_moment2.default)(xaxis.from),timefilter.time.to=(0,_moment2.default)(xaxis.to),timefilter.time.mode="absolute"})}scope.$watch("data",function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_reactDom.render)(_react2.default.createElement(_beat.Beat,{summary:data.summary,metrics:data.metrics,onBrush:onBrush}),$el[0])})}}})},4188:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _beat=__webpack_require__(4189);Object.defineProperty(exports,"Beat",{enumerable:!0,get:function(){return _beat.Beat}})},4189:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function renderTransportAddress(summary){var output=null;return summary.name!==summary.transportAddress&&(output=_react2.default.createElement("div",null,"Host: ",_react2.default.createElement("strong",{"data-test-subj":"host"},summary.transportAddress))),output}function renderChart(series,_ref){var onBrush=_ref.onBrush,units=(0,_chart.getUnits)(series);return _react2.default.createElement("div",{className:"monitoring-chart__container"},_react2.default.createElement("h2",{className:"euiTitle"},(0,_chart.getTitle)(series),units?" ("+units+")":"",_react2.default.createElement(_puiReactOverlayTrigger.OverlayTrigger,{placement:"left",trigger:"click",overlay:_react2.default.createElement(_puiReactTooltip.Tooltip,null,_react2.default.createElement(_chart.InfoTooltip,{series:series}))},_react2.default.createElement("span",{className:"monitoring-chart-tooltip__trigger overlay-trigger"},_react2.default.createElement(_components.KuiInfoButton,null)))),_react2.default.createElement(_chart.MonitoringTimeseries,{series:series,onBrush:onBrush}))}function Beat(_ref2){var summary=_ref2.summary,metrics=_ref2.metrics,props=_objectWithoutProperties(_ref2,["summary","metrics"]);return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"monitoring-summary-status"},_react2.default.createElement("div",{className:"monitoring-summary-status__content","data-test-subj":"beatSummaryStatus01"},_react2.default.createElement("div",null,_react2.default.createElement("strong",{"data-test-subj":"name"},summary.name)),_react2.default.createElement("div",null,"Version: ",_react2.default.createElement("strong",{"data-test-subj":"version"},summary.version)),_react2.default.createElement("div",null,"Beat Type: ",_react2.default.createElement("strong",{"data-test-subj":"type"},summary.type)),renderTransportAddress(summary),_react2.default.createElement("div",null,"Output: ",_react2.default.createElement("strong",{"data-test-subj":"output"},summary.output)),_react2.default.createElement("div",null,"Config Reloads: ",_react2.default.createElement("strong",{"data-test-subj":"configReloads"},(0,_format_number.formatMetric)(summary.configReloads,"int_commas"))),_react2.default.createElement("div",null,"Uptime: ",_react2.default.createElement("strong",{"data-test-subj":"uptime"},(0,_format_number.formatMetric)(summary.uptime,"time_since"))))),_react2.default.createElement("div",{className:"monitoring-summary-status"},_react2.default.createElement("div",{className:"monitoring-summary-status__content","data-test-subj":"beatSummaryStatus02"},_react2.default.createElement("div",null,"Events Total: ",_react2.default.createElement("strong",{"data-test-subj":"eventsTotal"},(0,_format_number.formatMetric)(summary.eventsTotal,"int_commas"))),_react2.default.createElement("div",null,"Events Emitted: ",_react2.default.createElement("strong",{"data-test-subj":"eventsEmitted"},(0,_format_number.formatMetric)(summary.eventsEmitted,"int_commas"))),_react2.default.createElement("div",null,"Events Dropped: ",_react2.default.createElement("strong",{"data-test-subj":"eventsDropped"},(0,_format_number.formatMetric)(summary.eventsDropped,"int_commas"))),_react2.default.createElement("div",null,"Bytes Sent: ",_react2.default.createElement("strong",{"data-test-subj":"bytesWritten"},(0,_format_number.formatMetric)(summary.bytesWritten,"bytes"))))),_react2.default.createElement("div",{className:"page-row"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_event_rates,props)),_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_fail_rates,props)),_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_throughput_rates,props)),_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_output_errors,props)),_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_memory,props)),_react2.default.createElement("div",{className:"col-md-6"},renderChart(metrics.beat_os_load,props)))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Beat=Beat;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_chart=__webpack_require__(752),_puiReactTooltip=__webpack_require__(283),_puiReactOverlayTrigger=__webpack_require__(287),_components=__webpack_require__(17),_format_number=__webpack_require__(73)},4190:function(module,exports,__webpack_require__){"use strict";__webpack_require__(4191),__webpack_require__(4195),__webpack_require__(4197),__webpack_require__(4201),__webpack_require__(4203),__webpack_require__(4205),__webpack_require__(4207),__webpack_require__(4209),__webpack_require__(4212),__webpack_require__(4214),__webpack_require__(4216),__webpack_require__(4219),__webpack_require__(4222),__webpack_require__(4224),__webpack_require__(4227),__webpack_require__(4229),__webpack_require__(4232),__webpack_require__(4234),__webpack_require__(4236),__webpack_require__(4239),__webpack_require__(4241),__webpack_require__(4243),__webpack_require__(4245),__webpack_require__(4247),__webpack_require__(4249),__webpack_require__(4252),__webpack_require__(4255)},4191:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_index=__webpack_require__(4192),_index2=_interopRequireDefault(_index),_react=__webpack_require__(3),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(46),_no_data=__webpack_require__(4193);_routes2.default.when("/no-data",{template:_index2.default,resolve:{clusters:function($injector){var monitoringClusters=$injector.get("monitoringClusters"),kbnUrl=$injector.get("kbnUrl");return monitoringClusters().then(function(clusters){return clusters&&clusters.length?(kbnUrl.changePath("/home"),Promise.reject()):Promise.resolve()})}},controller:function($injector,$scope){$scope.hasData=!1;var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $executor=$injector.get("$executor");timefilter.on("update",function(){$executor.run()}),$scope.$watch("hasData",function(hasData){if(hasData){$injector.get("kbnUrl").redirect("/home")}}),$scope.$$postDigest(function(){(0,_reactDom.render)(_react2.default.createElement(_no_data.NoData,null),document.getElementById("noDataReact"))});var monitoringClusters=$injector.get("monitoringClusters");$executor.register({execute:function(){return monitoringClusters()},handleResponse:function(clusters){clusters.length&&($scope.hasData=!0)}}),$executor.start(),$scope.$on("$destroy",function(){$executor.destroy(),(0,_reactDom.unmountComponentAtNode)(document.getElementById("noDataReact"))})}}).otherwise({redirectTo:"/home"})},4192:function(module,exports){module.exports='<monitoring-main name="no-data">\n  <div id="noDataReact"></div>\n</monitoring-main>\n'},4193:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _no_data=__webpack_require__(4194);Object.defineProperty(exports,"NoData",{enumerable:!0,get:function(){return _no_data.NoData}})},4194:function(module,exports,__webpack_require__){"use strict";function NoData(){return _react2.default.createElement("div",{className:"page-row","data-test-subj":"noData"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"No Monitoring Data Found")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement("p",null,"No Monitoring data is available for the selected time period.  This could be because no data is being sent to the cluster or data was not received during that time."),_react2.default.createElement("p",null,"Try adjusting the time filter controls to a time range where the Monitoring data is expected.")))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoData=NoData;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(13)},4195:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_chrome=__webpack_require__(11),_chrome2=_interopRequireDefault(_chrome),_index=__webpack_require__(4196),_index2=_interopRequireDefault(_index),tryPrivilege=function($http,kbnUrl){return $http.get("../api/monitoring/v1/check_access").then(function(){return kbnUrl.redirect("/home")}).catch(_lodash.noop)};_routes2.default.when("/access-denied",{template:_index2.default,resolve:{initialCheck:function($http,kbnUrl){return tryPrivilege($http,kbnUrl)}},controllerAs:"accessDenied",controller:function($scope,$injector){var $window=$injector.get("$window"),kbnBaseUrl=$injector.get("kbnBaseUrl"),$http=$injector.get("$http"),kbnUrl=$injector.get("kbnUrl"),$interval=$injector.get("$interval");this.goToKibana=function(){$window.location.href=_chrome2.default.getBasePath()+kbnBaseUrl};var accessPoller=$interval(function(){return tryPrivilege($http,kbnUrl)},5e3);$scope.$on("$destroy",function(){return $interval.cancel(accessPoller)})}})},4196:function(module,exports){module.exports='<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n  <div class="kuiInfoPanel kuiInfoPanel--error">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span class="kuiInfoPanelHeader__title" data-test-subj="accessDeniedTitle">\n        Access Denied\n      </span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div class="kuiInfoPanelBody__message">\n        You are not authorized to access Monitoring. To use Monitoring, you\n        need the privileges granted by both the `kibana_user` and\n        `monitoring_user` roles.\n      </div>\n\n      <div class="kuiInfoPanelBody__message">\n        If you are attempting to access a dedicated monitoring cluster, this\n        might be because you are logged in as a user that is not configured on\n        the monitoring cluster.\n      </div>\n\n      <div class="kuiInfoPanelBody__message">\n        <div class="kuiButtonGroup">\n          <button\n            ng-click="accessDenied.goToKibana();"\n            class="kuiButton kuiButton--primary"\n          >\n            Back to Kibana\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},4197:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getPageData($injector){var globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),$http=$injector.get("$http"),Private=$injector.get("Private"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/alerts",timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return(0,_lodash.get)(response,"data",[])}).catch(function(err){return Private(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_index=__webpack_require__(4198),_index2=_interopRequireDefault(_index),_views=__webpack_require__(157),_route_init=__webpack_require__(42),_ajax_error_handler=__webpack_require__(45);_routes2.default.when("/alerts",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},alerts:getPageData},controllerAs:"alerts",controller:function(_MonitoringViewBaseCo){function AlertsView($injector,$scope){_classCallCheck(this,AlertsView);var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(AlertsView.__proto__||Object.getPrototypeOf(AlertsView)).call(this,{title:"Cluster Alerts",getPageData:getPageData,$scope:$scope,$injector:$injector}));return _this.data=$route.current.locals.alerts,_this}return _inherits(AlertsView,_MonitoringViewBaseCo),AlertsView}(_views.MonitoringViewBaseController)})},4198:function(module,exports){module.exports='<monitoring-main name="alerts">\n  <div class="page-row">\n    <p ng-if="alerts.data.message">\n      {{ alerts.data.message }}\n    </p>\n  </div>\n\n  <div class="page-row">\n    <h3 class="kuiScreenReaderOnly">Alerts</h3>\n    <monitoring-cluster-alerts-listing alerts="alerts.data"></monitoring-cluster-alerts-listing>\n  </div>\n\n  <div class="page-row">\n    <p>\n      <a kbn-href="#/overview">« Cluster Overview</a>\n    </p>\n  </div>\n</monitoring-main>\n'},4199:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});exports.MonitoringViewBaseController=function MonitoringViewBaseController(_ref){var _this=this,_ref$title=_ref.title,title=void 0===_ref$title?"":_ref$title,getPageData=_ref.getPageData,$injector=_ref.$injector,$scope=_ref.$scope,_ref$options=_ref.options,options=void 0===_ref$options?{enableTimeFilter:!0,enableAutoRefresh:!0}:_ref$options;_classCallCheck(this,MonitoringViewBaseController);var titleService=$injector.get("title"),timefilter=$injector.get("timefilter"),$executor=$injector.get("$executor");titleService($scope.cluster,title),!1===options.enableTimeFilter?timefilter.disableTimeRangeSelector():timefilter.enableTimeRangeSelector(),!1===options.enableAutoRefresh?timefilter.disableAutoRefreshSelector():timefilter.enableAutoRefreshSelector(),this.updateData=function(){return getPageData($injector).then(function(pageData){return _this.data=pageData})},$executor.register({execute:function(){return _this.updateData()}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}},42:function(module,exports,__webpack_require__){"use strict";function routeInitProvider(Private,monitoringClusters,globalState,license,kbnUrl){function isOnPage(hash){return _lodash2.default.contains(window.location.hash,hash)}function isLicenseFresh(expiryDateInMillis){return(new Date).getTime()<expiryDateInMillis}var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return function(){return monitoringClusters().then(function(clusters){var cluster=function(){var existingCurrent=_lodash2.default.find(clusters,{cluster_uuid:globalState.cluster_uuid});if(existingCurrent)return existingCurrent;var firstCluster=_lodash2.default.first(clusters);return firstCluster&&firstCluster.cluster_uuid?firstCluster:null}();if(!cluster||!cluster.license)return kbnUrl.redirect("/no-data");globalState.cluster_uuid=cluster.cluster_uuid,globalState.ccs=cluster.ccs,globalState.save();var clusterLicense=cluster.license;return license.setLicenseType(clusterLicense.type),isOnPage("license")||isOnPage("home")||isLicenseFresh(clusterLicense.expiry_date_in_millis)?isOnPage("home")||cluster.isSupported?clusters:kbnUrl.redirect("/home"):kbnUrl.redirect("/license")}).catch(ajaxErrorHandlers)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routeInitProvider=routeInitProvider;var _lodash=__webpack_require__(0),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_ajax_error_handler=__webpack_require__(45)},4200:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringViewBaseTableController=void 0;var _=__webpack_require__(157),_table=__webpack_require__(177);exports.MonitoringViewBaseTableController=function(_MonitoringViewBaseCo){function MonitoringViewBaseTableController(args){_classCallCheck(this,MonitoringViewBaseTableController);var _this=_possibleConstructorReturn(this,(MonitoringViewBaseTableController.__proto__||Object.getPrototypeOf(MonitoringViewBaseTableController)).call(this,args)),storageKey=args.storageKey,$injector=args.$injector,storage=$injector.get("localStorage"),getLocalStorageData=(0,_table.tableStorageGetter)(storageKey),setLocalStorageData=(0,_table.tableStorageSetter)(storageKey),_getLocalStorageData=getLocalStorageData(storage),pageIndex=_getLocalStorageData.pageIndex,filterText=_getLocalStorageData.filterText,sortKey=_getLocalStorageData.sortKey,sortOrder=_getLocalStorageData.sortOrder;return _this.pageIndex=pageIndex,_this.filterText=filterText,_this.sortKey=sortKey,_this.sortOrder=sortOrder,_this.onNewState=function(newState){setLocalStorageData(storage,newState)},_this}return _inherits(MonitoringViewBaseTableController,_MonitoringViewBaseCo),MonitoringViewBaseTableController}(_.MonitoringViewBaseController)},4201:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_index=__webpack_require__(4202),_index2=_interopRequireDefault(_index);_routes2.default.when("/license",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()}},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.disableTimeRangeSelector(),timefilter.disableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.isExpired=Date.now()>(0,_lodash.get)($scope.cluster,"license.expiry_date_in_millis"),$scope.goBack=function(){$injector.get("$window").history.back()},$injector.get("title")($scope.cluster,"License")}})},4202:function(module,exports){module.exports='<div class="kuiViewContent kuiViewContent--constrainedWidth">\n  <div class="kuiNotice">\n    \x3c!-- Back button --\x3e\n    <div ng-if="!isExpired" class="kuiVerticalRhythm">\n      <p class="kuiText">\n        <a kbn-href="#/overview">« Cluster Overview</a>\n      </p>\n    </div>\n\n    \x3c!-- Title (expired license) --\x3e\n    <div ng-if="isExpired" class="kuiVerticalRhythm">\n      <h1 class="kuiTitle kuiVerticalRhythmSmall">\n        <span class="kuiIcon fa-warning kuiIcon--error"></span>\n        Your {{cluster.license.type|capitalize}} license has expired\n      </h1>\n\n      <p class="kuiText kuiVerticalRhythmSmall">\n        Your license expired on {{cluster.license.expiry_date|localizedDate}}.\n      </p>\n    </div>\n\n    \x3c!-- Title (active license) --\x3e\n    <div ng-if="!isExpired" class="kuiVerticalRhythm">\n      <h1 class="kuiTitle kuiVerticalRhythmSmall">\n        <span class="kuiIcon fa-check kuiIcon--success"></span>\n        Your {{cluster.license.type|capitalize}} license is {{cluster.license.status}}\n      </h1>\n\n      <p class="kuiText kuiVerticalRhythmSmall">\n        Your license will expire on {{cluster.license.expiry_date|localizedDate}}.\n      </p>\n    </div>\n\n    \x3c!-- Options --\x3e\n    <div class="kuiCardGroup kuiCardGroup--united kuiVerticalRhythm">\n      \x3c!-- Basic license --\x3e\n      <div class="kuiCard">\n        <div class="kuiCard__description">\n          <div class="kuiCard__descriptionTitle">\n            Register for a Basic License\n          </div>\n          <div class="kuiCard__descriptionText">\n            Monitoring is available for free with a Basic License. Simply register, check your inbox, and enjoy!\n          </div>\n        </div>\n        <div class="kuiCard__footer">\n          <a\n            class="kuiButton kuiButton--basic"\n            href="https://register.elastic.co/xpack_register"\n            target="_blank"\n            rel="noopener noreferrer"\n          >\n            Get Basic\n          </a>\n        </div>\n      </div>\n\n      \x3c!-- Full X-Pack --\x3e\n      <div class="kuiCard">\n        <div class="kuiCard__description">\n          <div class="kuiCard__descriptionTitle">\n            Unlock the Full Functionality\n          </div>\n          <div class="kuiCard__descriptionText">\n            Get all X-Pack has to offer: security, monitoring, alerting, reporting, and Graph, plus support from the engineers behind the Elastic Stack.\n          </div>\n        </div>\n        <div class="kuiCard__footer">\n          <a\n            class="kuiButton kuiButton--primary"\n            href="https://www.elastic.co/subscriptions/xpack"\n            target="_blank"\n            rel="noopener noreferrer"\n          >\n            Get It All\n          </a>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Install existing license --\x3e\n    <p class="kuiText kuiVerticalRhythm">\n      <span ng-if="isExpired">\n        Already have your license?\n      </span>\n      <span ng-if="!isExpired">\n        Have a newer license?\n      </span> Splendid! <a href="https://www.elastic.co/guide/en/x-pack/current/license-management.html" target="_BLANK" rel="noopener noreferrer">Install it now.</a>\n    </p>\n  </div>\n</div>\n'},4203:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_index=__webpack_require__(4204),_index2=_interopRequireDefault(_index),getPageData=function($injector){return $injector.get("monitoringClusters")()};_routes2.default.when("/home",{template:_index2.default,resolve:{clusters:function(Private,kbnUrl){return Private(_route_init.routeInitProvider)().then(function(clusters){return clusters&&clusters.length?1===clusters.length?(kbnUrl.changePath("/overview"),Promise.reject()):clusters:(kbnUrl.changePath("/no-data"),Promise.reject())})}},controllerAs:"clusters",controller:function(_MonitoringViewBaseTa){function ClustersList($injector,$scope){_classCallCheck(this,ClustersList);var _this=_possibleConstructorReturn(this,(ClustersList.__proto__||Object.getPrototypeOf(ClustersList)).call(this,{storageKey:"clusters",getPageData:getPageData,$scope:$scope,$injector:$injector})),$route=$injector.get("$route");return _this.data=$route.current.locals.clusters,_this}return _inherits(ClustersList,_MonitoringViewBaseTa),ClustersList}(_.MonitoringViewBaseTableController)}).otherwise({redirectTo:"/no-data"})},4204:function(module,exports){module.exports='<monitoring-main name="listing">\n  <div class="page-row">\n    <h3 class="kuiScreenReaderOnly">Clusters</h3>\n    <monitoring-cluster-listing\n      page-index="clusters.pageIndex"\n      filter-text="clusters.filterText"\n      sort-key="clusters.sortKey"\n      sort-order="clusters.sortOrder"\n      on-new-state="clusters.onNewState"\n      clusters="clusters.data"\n    ></monitoring-cluster-listing>\n  </div>\n</monitoring-main>\n'},4205:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_index=__webpack_require__(4206),_index2=_interopRequireDefault(_index);_routes2.default.when("/overview",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},cluster:function(monitoringClusters,globalState){return monitoringClusters(globalState.cluster_uuid,globalState.ccs)}},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route");$scope.cluster=$route.current.locals.cluster,$injector.get("title")($scope.cluster,"Overview");var $executor=$injector.get("$executor"),monitoringClusters=$injector.get("monitoringClusters"),globalState=$injector.get("globalState");$executor.register({execute:function(){return monitoringClusters(globalState.cluster_uuid,globalState.ccs)},handleResponse:function(cluster){$scope.cluster=cluster}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4206:function(module,exports){module.exports='<monitoring-main name="overview" data-test-subj="clusterOverviewContainer">\n  <monitoring-cluster-overview cluster="cluster"></monitoring-cluster-overview>\n</monitoring-main>\n'},4207:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds(),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch";return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:["cluster_search_request_rate","cluster_query_latency",{name:"cluster_index_request_rate",keys:["cluster_index_request_rate_total","cluster_index_request_rate_primary"]},"cluster_index_latency"]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_index=__webpack_require__(4208),_index2=_interopRequireDefault(_index);_routes2.default.when("/elasticsearch",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Elasticsearch");var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4208:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="overview"\n  data-test-subj="elasticsearchOverviewPage"\n>\n  <monitoring-cluster-status-elasticsearch status="pageData.clusterStatus"></monitoring-cluster-status-elasticsearch>\n\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.cluster_search_request_rate"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.cluster_query_latency"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.cluster_index_request_rate"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.cluster_index_latency"></monitoring-chart></div>\n    </div>\n  </div>\n\n  <monitoring-shard-activity only-active="true" data="pageData.shardActivity"></monitoring-shard-activity>\n</monitoring-main>\n'},4209:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_get_page_data=__webpack_require__(4210),_index=__webpack_require__(4211),_index2=_interopRequireDefault(_index);_routes2.default.when("/elasticsearch/indices",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controllerAs:"esIndices",controller:function(_MonitoringViewBaseTa){function EsIndicesList($injector,$scope){_classCallCheck(this,EsIndicesList);var _this=_possibleConstructorReturn(this,(EsIndicesList.__proto__||Object.getPrototypeOf(EsIndicesList)).call(this,{title:"Elasticsearch - Indices",storageKey:"elasticsearch.indices",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector})),$route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var features=$injector.get("features");return _this.showSystemIndices=features.isEnabled("showSystemIndices",!1),_this.toggleShowSystemIndices=function(isChecked){_this.showSystemIndices=isChecked,features.update("showSystemIndices",isChecked),_this.updateData()},_this}return _inherits(EsIndicesList,_MonitoringViewBaseTa),EsIndicesList}(_.MonitoringViewBaseTableController)})},4210:function(module,exports,__webpack_require__){"use strict";function getPageData($injector){var globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),$http=$injector.get("$http"),features=$injector.get("features"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/indices",showSystemIndices=features.isEnabled("showSystemIndices",!1),timeBounds=timefilter.getBounds();return $http.post(url,{showSystemIndices:showSystemIndices,ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).then(function(data){return data.rows.forEach(function(row){switch(row.status){case"Deleted":row.statusSort=0;break;case"green":row.statusSort=1;break;case"yellow":row.statusSort=2;break;default:row.statusSort=3}}),data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(45)},4211:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  data-test-subj="elasticsearchIndicesListingPage"\n>\n  <monitoring-cluster-status-elasticsearch status="esIndices.data.clusterStatus"></monitoring-cluster-status-elasticsearch>\n  <div class="page-row">\n    <h3 class="kuiScreenReaderOnly">Indices</h3>\n    <monitoring-index-listing\n      page-index="esIndices.pageIndex"\n      filter-text="esIndices.filterText"\n      sort-key="esIndices.sortKey"\n      sort-order="esIndices.sortOrder"\n      on-new-state="esIndices.onNewState"\n      indices="esIndices.data.rows"\n      show-system-indices="esIndices.showSystemIndices"\n      toggle-show-system-indices="esIndices.toggleShowSystemIndices"\n    ></monitoring-index-listing>\n  </div>\n</monitoring-main>\n'},4212:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $http=$injector.get("$http"),$route=$injector.get("$route"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/indices/"+$route.current.params.index,timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:["index_search_request_rate",{name:"index_request_rate",keys:["index_request_rate_total","index_request_rate_primary"]},{name:"index_size",keys:["index_store_total_size","index_store_primaries_size"]},{name:"index_mem",keys:["index_mem_overall","index_mem_terms","index_mem_points"]},"index_document_count",{name:"index_segment_count",keys:["index_segment_count_primaries","index_segment_count_total"]}]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_ajax_error_handler=__webpack_require__(45),_index=__webpack_require__(4213),_index2=_interopRequireDefault(_index);_routes2.default.when("/elasticsearch/indices/:index",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$scope.indexName=$route.current.params.index,$injector.get("title")($scope.cluster,"Elasticsearch - Indices - "+$scope.indexName+" - Overview");var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4213:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  instance="{{ indexName }}"\n  resolver="{{ indexName }}"\n  page="overview"\n>\n  <monitoring-index-summary summary="pageData.indexSummary"></monitoring-index-summary>\n\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_mem"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_size"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_search_request_rate"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_request_rate"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_segment_count"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_document_count"></monitoring-chart></div>\n    </div>\n  </div>\n\n  <monitoring-shard-allocation\n    id="indexName"\n    view="index"\n    nodes="pageData.nodes"\n    shards="pageData.shards"\n    shard-stats="pageData.shardStats"\n  ></monitoring-shard-allocation>\n</monitoring-main>\n'},4214:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var globalState=$injector.get("globalState"),$route=$injector.get("$route"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/indices/"+$route.current.params.index,$http=$injector.get("$http"),timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},shards:!1,metrics:[{name:"index_1",keys:["index_mem_overall_1","index_mem_stored_fields","index_mem_doc_values","index_mem_norms"]},{name:"index_2",keys:["index_mem_overall_2","index_mem_terms","index_mem_points"]},{name:"index_3",keys:["index_mem_overall_3","index_mem_fixed_bit_set","index_mem_term_vectors","index_mem_versions"]},{name:"index_4",keys:["index_mem_query_cache","index_mem_request_cache","index_mem_fielddata","index_mem_writer"]},{name:"index_total",keys:["index_searching_total","index_indexing_total"]},{name:"index_time",keys:["index_searching_time","index_indexing_total_time","index_indexing_primaries_time"]},{name:"index_throttling",keys:["index_throttling_indexing_total_time","index_throttling_indexing_primaries_time"]},{name:"index_refresh",keys:["index_segment_refresh_total_time","index_segment_refresh_primaries_time"]},{name:"index_disk",keys:["index_store_total_size","index_store_primaries_size","index_segment_merge_total_size","index_segment_merge_primaries_size"]},{name:"index_segment_count",keys:["index_segment_count_total","index_segment_count_primaries"]}]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_index=__webpack_require__(4215),_index2=_interopRequireDefault(_index);_routes2.default.when("/elasticsearch/indices/:index/advanced",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.indexName=$route.current.params.index,$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Elasticsearch - Indices - "+$scope.indexName+" - Advanced");var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4215:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch" name="indices"\n  instance="{{ indexName }}"\n  resolver="{{ indexName }}"\n  page="advanced"\n>\n  <monitoring-index-summary summary="pageData.indexSummary"></monitoring-index-summary>\n\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_1"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_2"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_3"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_4"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_total"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_time"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_refresh"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_throttling"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_disk"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.index_segment_count"/></div>\n    </div>\n  </div>\n</monitoring-main>\n'},4216:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_get_page_data=__webpack_require__(4217),_index=__webpack_require__(4218),_index2=_interopRequireDefault(_index);_routes2.default.when("/elasticsearch/nodes",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controllerAs:"esNodes",controller:function(_MonitoringViewBaseTa){function EsNodesList($injector,$scope){_classCallCheck(this,EsNodesList);var _this=_possibleConstructorReturn(this,(EsNodesList.__proto__||Object.getPrototypeOf(EsNodesList)).call(this,{title:"Elasticsearch - Nodes",storageKey:"elasticsearch.nodes",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector})),$route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");return $scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),_this}return _inherits(EsNodesList,_MonitoringViewBaseTa),EsNodesList}(_.MonitoringViewBaseTableController)})},4217:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/nodes",showCgroupMetricsElasticsearch=$injector.get("showCgroupMetricsElasticsearch"),timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds(),cpuListingMetrics=function(){return showCgroupMetricsElasticsearch?["node_cgroup_quota","node_cgroup_throttled"]:["node_cpu_utilization","node_load_average"]}(),createRow=function(rowData){return rowData?_extends({nodeName:(0,_lodash.get)(rowData,"node.name"),status:rowData.online?"Online":"Offline"},rowData):null};return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},listingMetrics:[].concat(_toConsumableArray(cpuListingMetrics),["node_jvm_mem_percent","node_free_space"])}).then(function(response){return _extends({},response.data,{rows:response.data.rows.map(createRow)})}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getPageData=getPageData;var _lodash=__webpack_require__(0),_ajax_error_handler=__webpack_require__(45)},4218:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  data-test-subj="elasticsearchNodesListingPage"\n>\n  <monitoring-cluster-status-elasticsearch status="esNodes.data.clusterStatus"></monitoring-cluster-status-elasticsearch>\n  <div class="page-row">\n    <h3 class="kuiScreenReaderOnly">Elasticsearch Nodes</h3>\n    <monitoring-nodes-listing\n      page-index="esNodes.pageIndex"\n      filter-text="esNodes.filterText"\n      sort-key="esNodes.sortKey"\n      sort-order="esNodes.sortOrder"\n      on-new-state="esNodes.onNewState"\n      nodes="esNodes.data.rows"\n    ></monitoring-nodes-listing>\n  </div>\n</monitoring-main>\n'},4219:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_get_page_data=__webpack_require__(4220),_index=__webpack_require__(4221),_index2=_interopRequireDefault(_index);_routes2.default.when("/elasticsearch/nodes/:node",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Elasticsearch - Nodes - "+$scope.pageData.nodeSummary.name+" - Overview");var features=$injector.get("features"),callPageData=(0,_lodash.partial)(_get_page_data.getPageData,$injector);$scope.showSystemIndices=features.isEnabled("showSystemIndices",!1),$scope.toggleShowSystemIndices=function(isChecked){$scope.showSystemIndices=isChecked,features.update("showSystemIndices",isChecked),callPageData().then(function(pageData){return $scope.pageData=pageData})};var $executor=$injector.get("$executor");$executor.register({execute:function(){return callPageData()},handleResponse:function(response){$scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4220:function(module,exports,__webpack_require__){"use strict";function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),$route=$injector.get("$route"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/nodes/"+$route.current.params.node,features=$injector.get("features"),showSystemIndices=features.isEnabled("showSystemIndices",!1),timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds(),showCgroupMetricsElasticsearch=$injector.get("showCgroupMetricsElasticsearch");return $http.post(url,{showSystemIndices:showSystemIndices,ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:[{name:"node_latency",keys:["node_query_latency","node_index_latency"]},{name:"node_jvm_mem",keys:["node_jvm_mem_max_in_bytes","node_jvm_mem_used_in_bytes"]},{name:"node_mem",keys:["node_index_mem_overall","node_index_mem_terms","node_index_mem_points"]},{name:"node_cpu_metric",keys:showCgroupMetricsElasticsearch?["node_cgroup_quota_as_cpu_utilization"]:["node_cpu_utilization"]},"node_load_average","node_segment_count"]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(45)},4221:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.resolver }}"\n  page="overview"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeLabel }}"\n>\n  <monitoring-node-summary node="pageData.nodeSummary"></monitoring-node-summary>\n\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_jvm_mem"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_mem"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_cpu_metric"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_load_average"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_latency"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_segment_count"></monitoring-chart></div>\n    </div>\n  </div>\n\n  <monitoring-shard-allocation\n    view="node"\n    nodes="pageData.nodes"\n    shards="pageData.shards"\n    shard-stats="pageData.shardStats"\n    show-system-indices="showSystemIndices"\n    toggle-show-system-indices="toggleShowSystemIndices"\n  ></monitoring-shard-allocation>\n</monitoring-main>\n'},4222:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),$route=$injector.get("$route"),timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds(),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/nodes/"+$route.current.params.node;return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},shards:!1,metrics:[{name:"node_jvm_mem",keys:["node_jvm_mem_max_in_bytes","node_jvm_mem_used_in_bytes"]},{name:"node_gc",keys:["node_jvm_gc_old_count","node_jvm_gc_young_count"]},{name:"node_gc_time",keys:["node_jvm_gc_old_time","node_jvm_gc_young_time"]},{name:"node_index_1",keys:["node_index_mem_overall_1","node_index_mem_stored_fields","node_index_mem_doc_values","node_index_mem_norms"]},{name:"node_index_2",keys:["node_index_mem_overall_2","node_index_mem_terms","node_index_mem_points"]},{name:"node_index_3",keys:["node_index_mem_overall_3","node_index_mem_fixed_bit_set","node_index_mem_term_vectors","node_index_mem_versions"]},{name:"node_index_4",keys:["node_index_mem_query_cache","node_index_mem_request_cache","node_index_mem_fielddata","node_index_mem_writer"]},{name:"node_request_total",keys:["node_search_total","node_index_total"]},{name:"node_index_time",keys:["node_index_time","node_throttle_index_time"]},{name:"node_index_threads",keys:["node_index_threads_bulk_queue","node_index_threads_bulk_rejected","node_index_threads_index_queue","node_index_threads_index_rejected"]},{name:"node_read_threads",keys:["node_index_threads_search_queue","node_index_threads_search_rejected","node_index_threads_get_queue","node_index_threads_get_rejected"]},{name:"node_cpu_utilization",keys:["node_cpu_utilization","node_cgroup_quota"]},{name:"node_cgroup_cpu",keys:["node_cgroup_usage","node_cgroup_throttled"]},{name:"node_cgroup_stats",keys:["node_cgroup_periods","node_cgroup_throttled_count"]}]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_index=__webpack_require__(4223),_index2=_interopRequireDefault(_index);_routes2.default.when("/elasticsearch/nodes/:node/advanced",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Elasticsearch - Nodes - "+$scope.pageData.nodeSummary.name+" - Advanced");var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){$scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4223:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.resolver }}"\n  page="advanced"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeLabel }}"\n>\n  <monitoring-node-summary node="pageData.nodeSummary"></monitoring-node-summary>\n\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_gc"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_gc_time"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_jvm_mem"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_cpu_utilization"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_index_1"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_index_2"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_index_3"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_index_4"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_index_time"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_request_total"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_index_threads"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_read_threads"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_cgroup_cpu"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.node_cgroup_stats"/></div>\n    </div>\n  </div>\n</monitoring-main>\n'},4224:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_get_page_data=__webpack_require__(4225),_index=__webpack_require__(4226),_index2=_interopRequireDefault(_index);_routes2.default.when("/elasticsearch/ml_jobs",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controllerAs:"mlJobs",controller:function(_MonitoringViewBaseTa){function MlJobsList($injector,$scope){_classCallCheck(this,MlJobsList);var _this=_possibleConstructorReturn(this,(MlJobsList.__proto__||Object.getPrototypeOf(MlJobsList)).call(this,{title:"Elasticsearch - Machine Learning Jobs",storageKey:"elasticsearch.mlJobs",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector})),$route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");return $scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),_this}return _inherits(MlJobsList,_MonitoringViewBaseTa),MlJobsList}(_.MonitoringViewBaseTableController)})},4225:function(module,exports,__webpack_require__){"use strict";function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/ml_jobs",timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(45)},4226:function(module,exports){module.exports='<monitoring-main product="elasticsearch" name="ml">\n  <monitoring-cluster-status-elasticsearch status="mlJobs.data.clusterStatus"></monitoring-cluster-status-elasticsearch>\n  <div class="page-row">\n    <h3 class="kuiScreenReaderOnly">Machine Learning Jobs</h3>\n    <monitoring-ml-listing\n      page-index="mlJobs.pageIndex"\n      filter-text="mlJobs.filterText"\n      sort-key="mlJobs.sortKey"\n      sort-order="mlJobs.sortOrder"\n      on-new-state="mlJobs.onNewState"\n      jobs="mlJobs.data.rows"\n    ></monitoring-ml-listing>\n  </div>\n</monitoring-main>\n'},4227:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/kibana",timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:["kibana_requests",{name:"kibana_response_times",keys:["kibana_max_response_times","kibana_average_response_times"]}],instances:!1}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_index=__webpack_require__(4228),_index2=_interopRequireDefault(_index);_routes2.default.when("/kibana",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Kibana");var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4228:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="overview"\n  data-test-subj="kibanaOverviewPage"\n>\n  <monitoring-cluster-status-kibana status="pageData.clusterStatus"></monitoring-cluster-status-kibana>\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.kibana_requests"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.kibana_response_times"></monitoring-chart></div>\n    </div>\n  </div>\n</monitoring-main>\n'},4229:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_get_page_data=__webpack_require__(4230),_index=__webpack_require__(4231),_index2=_interopRequireDefault(_index);_routes2.default.when("/kibana/instances",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controllerAs:"kibanas",controller:function(_MonitoringViewBaseTa){function KibanaInstancesList($injector,$scope){_classCallCheck(this,KibanaInstancesList);var _this=_possibleConstructorReturn(this,(KibanaInstancesList.__proto__||Object.getPrototypeOf(KibanaInstancesList)).call(this,{title:"Kibana Instances",storageKey:"kibana.instances",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector})),$route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");return $scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,_this}return _inherits(KibanaInstancesList,_MonitoringViewBaseTa),KibanaInstancesList}(_.MonitoringViewBaseTableController)})},4230:function(module,exports,__webpack_require__){"use strict";function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/kibana",timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(45)},4231:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="kibanas"\n  data-test-subj="kibanaInstancesPage"\n>\n  <monitoring-cluster-status-kibana status="kibanas.data.clusterStatus"></monitoring-cluster-status-kibana>\n  <div class="page-row">\n    <h3 class="kuiScreenReaderOnly">Kibana Instances</h3>\n    <monitoring-kibana-listing\n      page-index="kibanas.pageIndex"\n      filter-text="kibanas.filterText"\n      sort-key="kibanas.sortKey"\n      sort-order="kibanas.sortOrder"\n      on-new-state="kibanas.onNewState"\n      instances="kibanas.data.kibanas"\n    ></monitoring-kibana-listing>\n  </div>\n</monitoring-main>\n'},4232:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),$route=$injector.get("$route"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/kibana/"+$route.current.params.uuid,timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:[{name:"kibana_os_load",keys:["kibana_os_load_1m","kibana_os_load_5m","kibana_os_load_15m"]},"kibana_average_concurrent_connections","kibana_process_delay",{name:"kibana_memory",keys:["kibana_memory_heap_size_limit","kibana_memory_size"]},{name:"kibana_response_times",keys:["kibana_max_response_times","kibana_average_response_times"]},"kibana_requests"]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_index=__webpack_require__(4233),_index2=_interopRequireDefault(_index);_routes2.default.when("/kibana/instances/:uuid",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Kibana - "+(0,_lodash.get)($scope.pageData,"kibanaSummary.name"));var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4233:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="kibana"\n  instance="{{ pageData.kibanaSummary.name }}"\n  data-test-subj="kibanaInstancePage"\n>\n  <monitoring-kibana-summary kibana="pageData.kibanaSummary"></monitoring-kibana-summary>\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.kibana_requests"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.kibana_response_times"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.kibana_memory"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.kibana_average_concurrent_connections"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.kibana_os_load"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.kibana_process_delay"></monitoring-chart></div>\n    </div>\n  </div>\n</monitoring-main>\n'},4234:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash",timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:["logstash_cluster_events_input_rate","logstash_cluster_events_output_rate","logstash_cluster_events_latency"]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_index=__webpack_require__(4235),_index2=_interopRequireDefault(_index);_routes2.default.when("/logstash",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Logstash");var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4235:function(module,exports){module.exports='<monitoring-main product="logstash" name="overview">\n  <monitoring-cluster-status-logstash status="pageData.clusterStatus"></monitoring-cluster-status-logstash>\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_cluster_events_input_rate"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_cluster_events_output_rate"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_cluster_events_latency"></monitoring-chart></div>\n    </div>\n  </div>\n</monitoring-main>\n'},4236:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_get_page_data=__webpack_require__(4237),_index=__webpack_require__(4238),_index2=_interopRequireDefault(_index);_routes2.default.when("/logstash/nodes",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controllerAs:"lsNodes",controller:function(_MonitoringViewBaseTa){function LsNodesList($injector,$scope){_classCallCheck(this,LsNodesList);var _this=_possibleConstructorReturn(this,(LsNodesList.__proto__||Object.getPrototypeOf(LsNodesList)).call(this,{title:"Logstash - Nodes",storageKey:"logstash.nodes",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector})),$route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");return $scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),_this}return _inherits(LsNodesList,_MonitoringViewBaseTa),LsNodesList}(_.MonitoringViewBaseTableController)})},4237:function(module,exports,__webpack_require__){"use strict";function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/nodes",timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(45)},4238:function(module,exports){module.exports='<monitoring-main product="logstash" name="nodes">\n  <monitoring-cluster-status-logstash status="lsNodes.data.clusterStatus"></monitoring-cluster-status-logstash>\n  <div class="page-row">\n    <h3 class="kuiScreenReaderOnly">Logstash Nodes</h3>\n    <monitoring-logstash-node-listing\n      page-index="lsNodes.pageIndex"\n      filter-text="lsNodes.filterText"\n      sort-key="lsNodes.sortKey"\n      sort-order="lsNodes.sortOrder"\n      on-new-state="lsNodes.onNewState"\n      nodes="lsNodes.data.nodes"\n    ></monitoring-logstash-node-listing>\n  </div>\n</monitoring-main>\n'},4239:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $http=$injector.get("$http"),$route=$injector.get("$route"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/node/"+$route.current.params.uuid,timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds(),showCgroupMetricsLogstash=$injector.get("showCgroupMetricsLogstash");return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:[{name:"logstash_os_load",keys:["logstash_os_load_1m","logstash_os_load_5m","logstash_os_load_15m"]},"logstash_events_input_rate","logstash_events_output_rate","logstash_events_latency",{name:"logstash_node_cpu_metric",keys:showCgroupMetricsLogstash?["logstash_node_cgroup_quota_as_cpu_utilization"]:["logstash_node_cpu_utilization"]},{name:"logstash_jvm_usage",keys:["logstash_node_jvm_mem_max_in_bytes","logstash_node_jvm_mem_used_in_bytes"]}]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_index=__webpack_require__(4240),_index2=_interopRequireDefault(_index);_routes2.default.when("/logstash/node/:uuid",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Logstash - "+$scope.pageData.nodeSummary.name);var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4240:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="overview"\n>\n  <monitoring-logstash-node-summary logstash="pageData.nodeSummary"></monitoring-logstash-node-summary>\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_events_input_rate"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_jvm_usage"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_events_output_rate"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_node_cpu_metric"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_events_latency"></monitoring-chart></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_os_load"></monitoring-chart></div>\n    </div>\n  </div>\n</monitoring-main>\n'},4241:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),$route=$injector.get("$route"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/node/"+$route.current.params.uuid,timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:[{name:"logstash_node_cpu_utilization",keys:["logstash_node_cpu_utilization","logstash_node_cgroup_quota"]},{name:"logstash_node_cgroup_cpu",keys:["logstash_node_cgroup_usage","logstash_node_cgroup_throttled"]},{name:"logstash_node_cgroup_stats",keys:["logstash_node_cgroup_periods","logstash_node_cgroup_throttled_count"]},"logstash_queue_events_count"]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_index=__webpack_require__(4242),_index2=_interopRequireDefault(_index);_routes2.default.when("/logstash/node/:uuid/advanced",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var timefilter=$injector.get("timefilter");timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector();var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$injector.get("title")($scope.cluster,"Logstash - "+$scope.pageData.nodeSummary.name+" - Advanced");var $executor=$injector.get("$executor");$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4242:function(module,exports){module.exports='<monitoring-main product="logstash" name="nodes" instance="{{ pageData.nodeSummary.name }}" resolver="{{ pageData.nodeSummary.uuid }}" page="advanced">\n  <monitoring-logstash-node-summary logstash="pageData.nodeSummary"></monitoring-logstash-node-summary>\n  <div class="page-row">\n    <div class="row" ng-if="pageData.metrics">\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_node_cpu_utilization"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_queue_events_count"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_node_cgroup_cpu"/></div>\n      <div class="col-md-6"><monitoring-chart series="pageData.metrics.logstash_node_cgroup_stats"/></div>\n    </div>\n  </div>\n</monitoring-main>\n'},4243:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function makeUpgradeMessage(logstashVersion){return(0,_pipelines.isPipelineMonitoringSupportedInVersion)(logstashVersion)?null:"Pipeline monitoring is only available in Logstash version 6.0.0 or higher. This node is running version "+logstashVersion+"."}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_pipelines=__webpack_require__(1349),_index=__webpack_require__(4244),_index2=_interopRequireDefault(_index),getPageData=function($injector){var $route=$injector.get("$route"),$http=$injector.get("$http"),globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),Private=$injector.get("Private"),logstashUuid=$route.current.params.uuid,url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/node/"+logstashUuid+"/pipelines",timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:["logstash_node_pipeline_throughput","logstash_node_pipeline_nodes_count"]}).then(function(response){return(0,_pipelines.processPipelinesAPIResponse)(response.data,"logstash_node_pipeline_throughput","logstash_node_pipeline_nodes_count")}).catch(function(err){return Private(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})};_routes2.default.when("/logstash/node/:uuid/pipelines",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var $route=$injector.get("$route"),globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),title=$injector.get("title"),$executor=$injector.get("$executor");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$scope.upgradeMessage=makeUpgradeMessage($scope.pageData.nodeSummary.version),timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector(),title($scope.cluster,"Logstash - "+$scope.pageData.nodeSummary.name+" - Pipelines"),$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4244:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="nodes" instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipelines"\n>\n  <monitoring-logstash-node-summary logstash="pageData.nodeSummary"></monitoring-logstash-node-summary>\n  <div class="page-row">\n    <monitoring-logstash-pipeline-listing\n      pipelines="pageData.pipelines"\n      upgrade-message="{{ upgradeMessage }}"\n    ></monitoring-logstash-pipeline-listing>\n  </div>\n</monitoring-main>\n'},4245:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function makeUpgradeMessage(logstashVersions){return!Array.isArray(logstashVersions)||0===logstashVersions.length||logstashVersions.some(_pipelines.isPipelineMonitoringSupportedInVersion)?null:"Pipeline monitoring is only available in Logstash version 6.0.0 or higher."}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_pipelines=__webpack_require__(1349),_index=__webpack_require__(4246),_index2=_interopRequireDefault(_index),getPageData=function($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),Private=$injector.get("Private"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/pipelines",timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:["logstash_cluster_pipeline_throughput","logstash_cluster_pipeline_nodes_count"]}).then(function(response){return(0,_pipelines.processPipelinesAPIResponse)(response.data,"logstash_cluster_pipeline_throughput","logstash_cluster_pipeline_nodes_count")}).catch(function(err){return Private(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})};_routes2.default.when("/logstash/pipelines",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var $route=$injector.get("$route"),globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),title=$injector.get("title"),$executor=$injector.get("$executor");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid}),$scope.pageData=$route.current.locals.pageData,$scope.upgradeMessage=makeUpgradeMessage($scope.pageData.clusterStatus.versions),timefilter.enableTimeRangeSelector(),timefilter.enableAutoRefreshSelector(),title($scope.cluster,"Logstash Pipelines"),$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){return $scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4246:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="pipelines"\n  data-test-subj="logstashPipelinesListing"\n>\n  <monitoring-cluster-status-logstash status="pageData.clusterStatus"></monitoring-cluster-status-logstash>\n  <div class="page-row">\n    <monitoring-logstash-pipeline-listing\n      pipelines="pageData.pipelines"\n      upgrade-message="{{ upgradeMessage }}"\n    ></monitoring-logstash-pipeline-listing>\n  </div>\n</monitoring-main>\n'},4247:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPageData($injector){var $route=$injector.get("$route"),$http=$injector.get("$http"),globalState=$injector.get("globalState"),minIntervalSeconds=$injector.get("minIntervalSeconds"),Private=$injector.get("Private"),ccs=globalState.ccs,clusterUuid=globalState.cluster_uuid,pipelineId=$route.current.params.id,pipelineHash=$route.current.params.hash||"",url="../api/monitoring/v1/clusters/"+clusterUuid+"/logstash/pipeline/"+pipelineId+"/"+pipelineHash;return $http.post(url,{ccs:ccs}).then(function(response){return response.data}).then(function(data){return data.versions=data.versions.map(function(version){var relativeFirstSeen=(0,_monitoringCommon.formatTimestampToDuration)(version.firstSeen,_monitoringConstants.CALCULATE_DURATION_SINCE),relativeLastSeen=(0,_monitoringCommon.formatTimestampToDuration)(version.lastSeen,_monitoringConstants.CALCULATE_DURATION_SINCE),fudgeFactorSeconds=2*minIntervalSeconds,isLastSeenCloseToNow=Date.now()-version.lastSeen<=1e3*fudgeFactorSeconds;return _extends({},version,{relativeFirstSeen:relativeFirstSeen+" ago",relativeLastSeen:isLastSeenCloseToNow?"now":"until "+relativeLastSeen+" ago"})}),data}).catch(function(err){return Private(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_ajax_error_handler=__webpack_require__(45),_route_init=__webpack_require__(42),_monitoringConstants=__webpack_require__(49),_monitoringCommon=__webpack_require__(537),_index=__webpack_require__(4248),_index2=_interopRequireDefault(_index);_routes2.default.when("/logstash/pipelines/:id/:hash?",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:getPageData},controller:function($injector,$scope){var $route=$injector.get("$route"),$executor=$injector.get("$executor"),globalState=$injector.get("globalState"),title=$injector.get("title"),timefilter=$injector.get("timefilter");timefilter.disableTimeRangeSelector(),timefilter.enableAutoRefreshSelector(),function(clusters){$scope.clusters=clusters,$scope.cluster=(0,_lodash.find)($scope.clusters,{cluster_uuid:globalState.cluster_uuid})}($route.current.locals.clusters),$scope.pageData=$route.current.locals.pageData,title($scope.cluster,"Logstash - Pipeline"),$executor.register({execute:function(){return getPageData($injector)},handleResponse:function(response){$scope.pageData=response}}),$executor.start(),$scope.$on("$destroy",$executor.destroy)}})},4248:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="node"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipeline"\n  pipeline-id="{{ pageData.pipeline.id }}"\n  pipeline-hash="{{ pageData.pipeline.hash }}"\n  pipeline-versions="pageData.versions"\n>\n  <div class="page-row">\n    <monitoring-logstash-pipeline-viewer pipeline="pageData.pipeline"></monitoring-logstash-pipeline-viewer>\n  </div>\n</monitoring-main>\n'},4249:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_get_page_data=__webpack_require__(4250),_index=__webpack_require__(4251),_index2=_interopRequireDefault(_index);_routes2.default.when("/beats",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controllerAs:"beats",controller:function(_MonitoringViewBaseCo){function BeatsOverview($injector,$scope){_classCallCheck(this,BeatsOverview);var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(BeatsOverview.__proto__||Object.getPrototypeOf(BeatsOverview)).call(this,{title:"Beats - Overview",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));return _this.data=$route.current.locals.pageData,_this}return _inherits(BeatsOverview,_MonitoringViewBaseCo),BeatsOverview}(_.MonitoringViewBaseController)})},4250:function(module,exports,__webpack_require__){"use strict";function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds(),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/beats";return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:[{name:"beat_event_rates",keys:["beat_cluster_pipeline_events_total_rate","beat_cluster_output_events_total","beat_cluster_output_events_ack_rate","beat_cluster_pipeline_events_emitted_rate"]},{name:"beat_fail_rates",keys:["beat_cluster_pipeline_events_failed_rate","beat_cluster_pipeline_events_dropped_rate","beat_cluster_output_events_dropped_rate","beat_cluster_pipeline_events_retry_rate"]},{name:"beat_throughput_rates",keys:["beat_cluster_output_write_bytes_rate","beat_cluster_output_read_bytes_rate"]},{name:"beat_output_errors",keys:["beat_cluster_output_sending_errors","beat_cluster_output_receiving_errors"]}]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(45)},4251:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="overview"\n  data-test-subj="beatsOverviewPage"\n>\n  <monitoring-beats-overview data="beats.data"></monitoring-beats-overview>\n</monitoring-main>\n'},4252:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_get_page_data=__webpack_require__(4253),_index=__webpack_require__(4254),_index2=_interopRequireDefault(_index);_routes2.default.when("/beats/beats",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controllerAs:"beats",controller:function(_MonitoringViewBaseTa){function BeatsListing($injector,$scope){_classCallCheck(this,BeatsListing);var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(BeatsListing.__proto__||Object.getPrototypeOf(BeatsListing)).call(this,{title:"Beats",storageKey:"beats.beats",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));return _this.data=$route.current.locals.pageData,_this}return _inherits(BeatsListing,_MonitoringViewBaseTa),BeatsListing}(_.MonitoringViewBaseTableController)})},4253:function(module,exports,__webpack_require__){"use strict";function getPageData($injector){var $http=$injector.get("$http"),globalState=$injector.get("globalState"),timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds(),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/beats/beats";return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(45)},4254:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="beats"\n  data-test-subj="beatsListingPage"\n>\n  <monitoring-beats-listing\n    page-index="beats.pageIndex"\n    sort-key="beats.sortKey"\n    sort-order="beats.sortOrder"\n    on-new-state="beats.onNewState"\n    data="beats.data"\n  ></monitoring-beats-listing>\n</monitoring-main>\n'},4255:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _lodash=__webpack_require__(0),_routes=__webpack_require__(10),_routes2=_interopRequireDefault(_routes),_route_init=__webpack_require__(42),_=__webpack_require__(157),_get_page_data=__webpack_require__(4256),_index=__webpack_require__(4257),_index2=_interopRequireDefault(_index);_routes2.default.when("/beats/beat/:beatUuid",{template:_index2.default,resolve:{clusters:function(Private){return Private(_route_init.routeInitProvider)()},pageData:_get_page_data.getPageData},controllerAs:"beat",controller:function(_MonitoringViewBaseCo){function BeatDetail($injector,$scope){_classCallCheck(this,BeatDetail);var $route=$injector.get("$route"),globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var pageData=$route.current.locals.pageData,_this=_possibleConstructorReturn(this,(BeatDetail.__proto__||Object.getPrototypeOf(BeatDetail)).call(this,{title:"Beats - "+pageData.summary.name+" - Overview",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));return _this.data=pageData,_this}return _inherits(BeatDetail,_MonitoringViewBaseCo),BeatDetail}(_.MonitoringViewBaseController)})},4256:function(module,exports,__webpack_require__){"use strict";function getPageData($injector){var $http=$injector.get("$http"),$route=$injector.get("$route"),globalState=$injector.get("globalState"),url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/beats/beat/"+$route.current.params.beatUuid,timefilter=$injector.get("timefilter"),timeBounds=timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},metrics:[{name:"beat_event_rates",keys:["beat_pipeline_events_total_rate","beat_output_events_total","beat_output_events_ack_rate","beat_pipeline_events_emitted_rate"]},{name:"beat_fail_rates",keys:["beat_pipeline_events_failed_rate","beat_pipeline_events_dropped_rate","beat_output_events_dropped_rate","beat_pipeline_events_retry_rate"]},{name:"beat_throughput_rates",keys:["beat_bytes_written","beat_output_write_bytes_rate"]},{name:"beat_output_errors",keys:["beat_output_sending_errors","beat_output_receiving_errors"]},{name:"beat_memory",keys:["beat_mem_alloc","beat_mem_rss","beat_mem_gc_next"]},{name:"beat_os_load",keys:["beat_system_os_load_1","beat_system_os_load_5","beat_system_os_load_15"]}]}).then(function(response){return response.data}).catch(function(err){return $injector.get("Private")(_ajax_error_handler.ajaxErrorHandlersProvider)(err)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(45)},4257:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="detail"\n  instance="{{ beat.data.summary.name }}"\n  resolver="{{ beat.data.summary.uuid }}"\n  page="overview"\n  data-test-subj="beatDetailPage"\n>\n  <monitoring-beats-beat data="beat.data"></monitoring-beats-beat>\n</monitoring-main>\n'},537:function(module,exports,__webpack_require__){module.exports=__webpack_require__(4107)},538:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function StatusIcon(_ref){var _typeToIconMap,type=_ref.type,label=_ref.label,typeToIconMap=(_typeToIconMap={},_defineProperty(_typeToIconMap,StatusIcon.TYPES.RED,"health-red.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.YELLOW,"health-yellow.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.GREEN,"health-green.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.GRAY,"health-gray.svg"),_typeToIconMap),icon=typeToIconMap[type];return _react2.default.createElement("span",{className:"kuiStatusText"},_react2.default.createElement("img",{src:"../plugins/monitoring/icons/"+icon,alt:label,"data-test-subj":"statusIcon"}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatusIcon=StatusIcon;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);StatusIcon.TYPES={RED:"RED",YELLOW:"YELLOW",GREEN:"GREEN",GRAY:"GRAY"}},539:function(module,exports,__webpack_require__){"use strict";function HealthStatusIndicator(props){var statusColorMap={green:"success",yellow:"warning",red:"danger"},statusColor=statusColorMap[props.status];return _react2.default.createElement(_eui.EuiHealth,{color:statusColor,"data-test-subj":"statusIcon"},"Health is ",props.status)}function ClusterItemContainer(props){var iconMap={elasticsearch:"logoElasticSearch",kibana:"logoKibana",logstash:"logoLogstash",beats:"logoBeats"},icon=iconMap[props.url];return _react2.default.createElement("div",{"data-test-subj":"clusterItemContainer"+props.title},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiIcon,{type:icon,size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,props.title))))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},props.statusIndicator)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),props.children,_react2.default.createElement(_eui.EuiSpacer,{size:"xxl"}))}function BytesUsage(_ref){var usedBytes=_ref.usedBytes,maxBytes=_ref.maxBytes;return usedBytes&&maxBytes?_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiText,null,(0,_format_number.formatPercentageUsage)(usedBytes,maxBytes)),_react2.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},(0,_format_number.formatBytesUsage)(usedBytes,maxBytes))):null}function BytesPercentageUsage(_ref2){var usedBytes=_ref2.usedBytes,maxBytes=_ref2.maxBytes;return usedBytes&&maxBytes?_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiText,null,(0,_format_number.formatPercentageUsage)(usedBytes,maxBytes)),_react2.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},(0,_format_number.formatBytesUsage)(usedBytes,maxBytes))):null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HealthStatusIndicator=HealthStatusIndicator,exports.ClusterItemContainer=ClusterItemContainer,exports.BytesUsage=BytesUsage,exports.BytesPercentageUsage=BytesPercentageUsage;var _react=__webpack_require__(3),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_format_number=__webpack_require__(73),_eui=__webpack_require__(13)},540:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var pqueue_1=__webpack_require__(1343),Neighbour=function(){function Neighbour(id,distance){this.id=id,this.distance=distance}return Neighbour}(),Node=function(){function Node(id){this.id=id,this.neighbours=[]}return Node}(),QueueEntry=function(){function QueueEntry(node,prev,d){this.node=node,this.prev=prev,this.d=d}return QueueEntry}(),Calculator=function(){function Calculator(n,es,getSourceIndex,getTargetIndex,getLength){this.n=n,this.es=es,this.neighbours=new Array(this.n);for(var i=this.n;i--;)this.neighbours[i]=new Node(i);for(i=this.es.length;i--;){var e=this.es[i],u=getSourceIndex(e),v=getTargetIndex(e),d=getLength(e);this.neighbours[u].neighbours.push(new Neighbour(v,d)),this.neighbours[v].neighbours.push(new Neighbour(u,d))}}return Calculator.prototype.DistanceMatrix=function(){for(var D=new Array(this.n),i=0;i<this.n;++i)D[i]=this.dijkstraNeighbours(i);return D},Calculator.prototype.DistancesFromNode=function(start){return this.dijkstraNeighbours(start)},Calculator.prototype.PathFromNodeToNode=function(start,end){return this.dijkstraNeighbours(start,end)},Calculator.prototype.PathFromNodeToNodeWithPrevCost=function(start,end,prevCost){var q=new pqueue_1.PriorityQueue(function(a,b){return a.d<=b.d}),u=this.neighbours[start],qu=new QueueEntry(u,null,0),visitedFrom={};for(q.push(qu);!q.empty()&&(qu=q.pop(),u=qu.node,u.id!==end);)for(var i=u.neighbours.length;i--;){var neighbour=u.neighbours[i],v=this.neighbours[neighbour.id];if(!qu.prev||v.id!==qu.prev.node.id){var viduid=v.id+","+u.id;if(!(viduid in visitedFrom&&visitedFrom[viduid]<=qu.d)){var cc=qu.prev?prevCost(qu.prev.node.id,u.id,v.id):0,t=qu.d+neighbour.distance+cc;visitedFrom[viduid]=t,q.push(new QueueEntry(v,qu,t))}}}for(var path=[];qu.prev;)qu=qu.prev,path.push(qu.node.id);return path},Calculator.prototype.dijkstraNeighbours=function(start,dest){void 0===dest&&(dest=-1);for(var q=new pqueue_1.PriorityQueue(function(a,b){return a.d<=b.d}),i=this.neighbours.length,d=new Array(i);i--;){var node=this.neighbours[i];node.d=i===start?0:Number.POSITIVE_INFINITY,node.q=q.push(node)}for(;!q.empty();){var u=q.pop();if(d[u.id]=u.d,u.id===dest){for(var path=[],v=u;void 0!==v.prev;)path.push(v.prev.id),v=v.prev;return path}for(i=u.neighbours.length;i--;){var neighbour=u.neighbours[i],v=this.neighbours[neighbour.id],t=u.d+neighbour.distance;u.d!==Number.MAX_VALUE&&v.d>t&&(v.d=t,v.prev=u,q.reduceKey(v.q,v,function(e,q){return e.q=q}))}}return d},Calculator}();exports.Calculator=Calculator},73:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatBytesUsage(used,max){return formatNumber(used,"bytes")+" / "+formatNumber(max,"bytes")}function formatPercentageUsage(used,max){return formatNumber(used/max,"0.00%")}function formatNumber(num,which){var isNan=Number.isNaN(num),format="0,0.0";if("number"!=typeof num||isNan){if(void 0!==num&&!isNan)return num;num=0,format="0"}var postfix="";switch(which){case"time_since":return(0,_moment2.default)((0,_moment2.default)()-num).from((0,_moment2.default)(),!0);case"time":return(0,_moment2.default)(num).format("H:mm:ss");case"int_commas":format="0,0";break;case"byte":format+="b";break;case"ms":postfix="ms";break;default:which&&(format=which)}return(0,_numeral2.default)(num).format(format)+postfix}function formatMetric(value,format,suffix){return Boolean(value)||0===value?formatNumber(value,format)+(suffix?" "+suffix:""):"N/A"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatBytesUsage=formatBytesUsage,exports.formatPercentageUsage=formatPercentageUsage,exports.formatNumber=formatNumber,exports.formatMetric=formatMetric;var _moment=__webpack_require__(12),_moment2=_interopRequireDefault(_moment);__webpack_require__(530);var _numeral=__webpack_require__(102),_numeral2=_interopRequireDefault(_numeral)},752:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _monitoring_timeseries=__webpack_require__(4012);Object.defineProperty(exports,"MonitoringTimeseries",{enumerable:!0,get:function(){return _monitoring_timeseries.MonitoringTimeseries}});var _info_tooltip=__webpack_require__(4026);Object.defineProperty(exports,"InfoTooltip",{enumerable:!0,get:function(){return _info_tooltip.InfoTooltip}});var _get_title=__webpack_require__(4027);Object.defineProperty(exports,"getTitle",{enumerable:!0,get:function(){return _get_title.getTitle}});var _get_units=__webpack_require__(4028);Object.defineProperty(exports,"getUnits",{enumerable:!0,get:function(){return _get_units.getUnits}})},779:function(module,exports,__webpack_require__){"use strict";function mapSeverity(severity){var floor=Math.floor(severity/1e3),mapped=void 0;switch(floor){case 0:mapped={value:"low",color:"warning",iconType:"dot"};break;case 1:mapped={value:"medium",color:"warning",iconType:"dot"};break;default:mapped={value:"high",color:"danger",iconType:"dot"}}return _extends({title:(0,_lodash.capitalize)(mapped.value)+" severity alert"},mapped)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.mapSeverity=mapSeverity;var _lodash=__webpack_require__(0)},780:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PluginVertex=exports.SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=exports.TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_vertex=__webpack_require__(781),_input=__webpack_require__(1335),_input2=_interopRequireDefault(_input),_filter=__webpack_require__(1336),_filter2=_interopRequireDefault(_filter),_output=__webpack_require__(1337),_output2=_interopRequireDefault(_output),TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=exports.TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=2,SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=exports.SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=2;exports.PluginVertex=function(_Vertex){function PluginVertex(){return _classCallCheck(this,PluginVertex),_possibleConstructorReturn(this,(PluginVertex.__proto__||Object.getPrototypeOf(PluginVertex)).apply(this,arguments))}return _inherits(PluginVertex,_Vertex),_createClass(PluginVertex,[{key:"isTimeConsuming",value:function(){var expectedPercentOfTotalProcessorTime=1/this.graph.processorVertices.length,threshold=TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT*expectedPercentOfTotalProcessorTime;return this.percentOfTotalProcessorTime>threshold}},{key:"isSlow",value:function(){var totalProcessorVertices=this.graph.processorVertices.length;if(0===totalProcessorVertices)return 0;var meanmillisPerEvent=this.graph.processorVertices.reduce(function(acc,v){return acc+v.millisPerEvent||0},0)/totalProcessorVertices,variance=this.graph.processorVertices.reduce(function(acc,v){var difference=(v.millisPerEvent||0)-meanmillisPerEvent;return acc+difference*difference},0)/totalProcessorVertices,stdDeviation=Math.sqrt(variance);return(this.millisPerEvent-meanmillisPerEvent)/stdDeviation>SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN}},{key:"typeString",get:function(){return"plugin"}},{key:"name",get:function(){return this.json.config_name}},{key:"title",get:function(){return this.name}},{key:"pluginType",get:function(){return this.json.plugin_type}},{key:"isInput",get:function(){return"input"===this.pluginType}},{key:"isProcessor",get:function(){return"filter"===this.pluginType||"output"===this.pluginType}},{key:"millisPerEvent",get:function(){return this.stats.millis_per_event}},{key:"percentOfTotalProcessorTime",get:function(){return this.stats.percent_of_total_processor_duration}},{key:"eventsPerSecond",get:function(){return 1e3*this.stats.events_per_millisecond}},{key:"icon",get:function(){switch(this.pluginType){case"input":return _input2.default;case"filter":return _filter2.default;case"output":return _output2.default;default:throw new Error("Unknown plugin type "+this.pluginType+"! This shouldn't happen!")}}}]),PluginVertex}(_vertex.Vertex)},781:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vertex=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(334);exports.Vertex=function(){function Vertex(graph,json){_classCallCheck(this,Vertex),this.graph=graph,this.update(json),this.cola=this._makeCola()}return _createClass(Vertex,[{key:"update",value:function(json){this.json=json}},{key:"_makeCola",value:function(){var margin=_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.MARGIN_PX;return{vertex:this,width:_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.WIDTH_PX+margin,height:_constants.LOGSTASH.PIPELINE_VIEWER.GRAPH.VERTICES.HEIGHT_PX+margin}}},{key:"lineage",value:function(){var ancestors=this.ancestors(),descendants=this.descendants(),vertices=[];return vertices.push.apply(vertices,ancestors.vertices),vertices.push(this),vertices.push.apply(vertices,descendants.vertices),{vertices:vertices,edges:ancestors.edges.concat(descendants.edges)}}},{key:"ancestors",value:function(){for(var vertices=[],edges=[],pending=[this],seen={};pending.length>0;){pending.pop().incomingEdges.forEach(function(edge){edges.push(edge);var from=edge.from;!0!==seen[from.id]&&(vertices.push(from),pending.push(from),seen[from.id]=!0)})}return{vertices:vertices,edges:edges}}},{key:"descendants",value:function(){for(var vertices=[],edges=[],pending=[this],seen={};pending.length>0;){pending.pop().outgoingEdges.forEach(function(edge){edges.push(edge);var to=edge.to;!0!==seen[to.id]&&(vertices.push(to),seen[to.id]=!0,pending.push(to))})}return{vertices:vertices,edges:edges}}},{key:"truncateStringForDisplay",value:function(completeString,maxDisplayLength){if(completeString.length<=maxDisplayLength)return completeString;var eachHalfMaxDisplayLength=Math.floor((maxDisplayLength-" … ".length)/2);return completeString.substr(0,eachHalfMaxDisplayLength)+" … "+completeString.substr(-eachHalfMaxDisplayLength)}},{key:"colaIndex",get:function(){return this._colaIndex||(this._colaIndex=this.graph.getVertices().indexOf(this)),this._colaIndex}},{key:"name",get:function(){return this.json.config_name}},{key:"id",get:function(){return this.json.id}},{key:"htmlAttrId",get:function(){return this.json.id.replace(/\W/g,"_")}},{key:"subtitle",get:function(){return{complete:this.id,display:this.truncateStringForDisplay(this.id,this.displaySubtitleMaxLength)}}},{key:"displaySubtitleMaxLength",get:function(){return 19}},{key:"incomingEdges",get:function(){return this.graph.edgesByTo[this.json.id]||[]}},{key:"incomingVertices",get:function(){return this.incomingEdges.map(function(e){return e.from})}},{key:"outgoingEdges",get:function(){return this.graph.edgesByFrom[this.json.id]||[]}},{key:"outgoingVertices",get:function(){return this.outgoingEdges.map(function(e){return e.to})}},{key:"isRoot",get:function(){return 0===this.incomingVertices.length}},{key:"isLeaf",get:function(){return 0===this.outgoingVertices.length}},{key:"rank",get:function(){return this.graph.vertexRankById[this.id]}},{key:"sourceLocation",get:function(){return"apc.conf@"+this.meta.source_line+":"+this.meta.source_column}},{key:"sourceText",get:function(){return this.meta.source_text}},{key:"meta",get:function(){return this.json.meta}},{key:"stats",get:function(){return this.json.stats||{}}},{key:"hasCustomStats",get:function(){return Object.keys(this.customStats).length>0}},{key:"customStats",get:function(){var _this=this;return Object.keys(this.stats).filter(function(k){return!k.match(/^events\./)}).filter(function(k){return"name"!==k}).reduce(function(acc,k){return acc[k]=_this.stats[k],acc},{})}},{key:"eventsPerCurrentPeriod",get:function(){return this.stats.hasOwnProperty("events.in")?this.stats["events.in"].max-this.stats["events.in"].min:null}},{key:"hasExplicitId",get:function(){return Boolean(this.json.explicit_id)}}]),Vertex}()},782:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IfVertex=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_vertex=__webpack_require__(781),_if=__webpack_require__(1338),_if2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_if);exports.IfVertex=function(_Vertex){function IfVertex(){return _classCallCheck(this,IfVertex),_possibleConstructorReturn(this,(IfVertex.__proto__||Object.getPrototypeOf(IfVertex)).apply(this,arguments))}return _inherits(IfVertex,_Vertex),_createClass(IfVertex,[{key:"typeString",get:function(){return"if"}},{key:"name",get:function(){return this.json.condition}},{key:"icon",get:function(){return _if2.default}},{key:"title",get:function(){return"if"}},{key:"subtitle",get:function(){return{complete:this.name,display:this.truncateStringForDisplay(this.name,this.displaySubtitleMaxLength)}}},{key:"displaySubtitleMaxLength",get:function(){return 39}}]),IfVertex}(_vertex.Vertex)},783:function(module,exports,__webpack_require__){"use strict";function unionCount(a,b){var u={};for(var i in a)u[i]={};for(var i in b)u[i]={};return Object.keys(u).length}function intersectionCount(a,b){var n=0;for(var i in a)void 0!==b[i]&&++n;return n}function getNeighbours(links,la){var neighbours={},addNeighbours=function(u,v){void 0===neighbours[u]&&(neighbours[u]={}),neighbours[u][v]={}};return links.forEach(function(e){var u=la.getSourceIndex(e),v=la.getTargetIndex(e);addNeighbours(u,v),addNeighbours(v,u)}),neighbours}function computeLinkLengths(links,w,f,la){var neighbours=getNeighbours(links,la);links.forEach(function(l){var a=neighbours[la.getSourceIndex(l)],b=neighbours[la.getTargetIndex(l)];la.setLength(l,1+w*f(a,b))})}function symmetricDiffLinkLengths(links,la,w){void 0===w&&(w=1),computeLinkLengths(links,w,function(a,b){return Math.sqrt(unionCount(a,b)-intersectionCount(a,b))},la)}function jaccardLinkLengths(links,la,w){void 0===w&&(w=1),computeLinkLengths(links,w,function(a,b){return Math.min(Object.keys(a).length,Object.keys(b).length)<1.1?0:intersectionCount(a,b)/unionCount(a,b)},la)}function generateDirectedEdgeConstraints(n,links,axis,la){var components=stronglyConnectedComponents(n,links,la),nodes={};components.forEach(function(c,i){return c.forEach(function(v){return nodes[v]=i})});var constraints=[];return links.forEach(function(l){var ui=la.getSourceIndex(l),vi=la.getTargetIndex(l);nodes[ui]!==nodes[vi]&&constraints.push({axis:axis,left:ui,right:vi,gap:la.getMinSeparation(l)})}),constraints}function stronglyConnectedComponents(numVertices,edges,la){function strongConnect(v){v.index=v.lowlink=index++,stack.push(v),v.onStack=!0;for(var _i=0,_a=v.out;_i<_a.length;_i++){var w=_a[_i];void 0===w.index?(strongConnect(w),v.lowlink=Math.min(v.lowlink,w.lowlink)):w.onStack&&(v.lowlink=Math.min(v.lowlink,w.index))}if(v.lowlink===v.index){for(var component=[];stack.length&&(w=stack.pop(),w.onStack=!1,component.push(w),w!==v););components.push(component.map(function(v){return v.id}))}}for(var nodes=[],index=0,stack=[],components=[],i=0;i<numVertices;i++)nodes.push({id:i,out:[]});for(var _i=0,edges_1=edges;_i<edges_1.length;_i++){var e=edges_1[_i],v_1=nodes[la.getSourceIndex(e)],w=nodes[la.getTargetIndex(e)];v_1.out.push(w)}for(var _a=0,nodes_1=nodes;_a<nodes_1.length;_a++){var v=nodes_1[_a];void 0===v.index&&strongConnect(v)}return components}Object.defineProperty(exports,"__esModule",{value:!0}),exports.symmetricDiffLinkLengths=symmetricDiffLinkLengths,exports.jaccardLinkLengths=jaccardLinkLengths,exports.generateDirectedEdgeConstraints=generateDirectedEdgeConstraints,exports.stronglyConnectedComponents=stronglyConnectedComponents},784:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Locks=function(){function Locks(){this.locks={}}return Locks.prototype.add=function(id,x){this.locks[id]=x},Locks.prototype.clear=function(){this.locks={}},Locks.prototype.isEmpty=function(){for(var l in this.locks)return!1;return!0},Locks.prototype.apply=function(f){for(var l in this.locks)f(Number(l),this.locks[l])},Locks}();exports.Locks=Locks;var Descent=function(){function Descent(x,D,G){void 0===G&&(G=null),this.D=D,this.G=G,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new PseudoRandom,this.project=null,this.x=x,this.k=x.length;var n=this.n=x[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new Locks,this.minD=Number.MAX_VALUE;for(var j,i=n;i--;)for(j=n;--j>i;){var d=D[i][j];d>0&&d<this.minD&&(this.minD=d)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),i=this.k;i--;){for(this.g[i]=new Array(n),this.H[i]=new Array(n),j=n;j--;)this.H[i][j]=new Array(n);this.Hd[i]=new Array(n),this.a[i]=new Array(n),this.b[i]=new Array(n),this.c[i]=new Array(n),this.d[i]=new Array(n),this.e[i]=new Array(n),this.ia[i]=new Array(n),this.ib[i]=new Array(n),this.xtmp[i]=new Array(n)}}return Descent.createSquareMatrix=function(n,f){for(var M=new Array(n),i=0;i<n;++i){M[i]=new Array(n);for(var j=0;j<n;++j)M[i][j]=f(i,j)}return M},Descent.prototype.offsetDir=function(){for(var _this=this,u=new Array(this.k),l=0,i=0;i<this.k;++i){var x=u[i]=this.random.getNextBetween(.01,1)-.5;l+=x*x}return l=Math.sqrt(l),u.map(function(x){return x*=_this.minD/l})},Descent.prototype.computeDerivatives=function(x){var _this=this,n=this.n;if(!(n<1)){for(var i,d=new Array(this.k),d2=new Array(this.k),Huu=new Array(this.k),maxH=0,u=0;u<n;++u){for(i=0;i<this.k;++i)Huu[i]=this.g[i][u]=0;for(var v=0;v<n;++v)if(u!==v){for(var maxDisplaces=n;maxDisplaces--;){var sd2=0;for(i=0;i<this.k;++i){var dx=d[i]=x[i][u]-x[i][v];sd2+=d2[i]=dx*dx}if(sd2>1e-9)break;var rd=this.offsetDir();for(i=0;i<this.k;++i)x[i][v]+=rd[i]}var l=Math.sqrt(sd2),D=this.D[u][v],weight=null!=this.G?this.G[u][v]:1;if(weight>1&&l>D||!isFinite(D))for(i=0;i<this.k;++i)this.H[i][u][v]=0;else{weight>1&&(weight=1);var D2=D*D,gs=2*weight*(l-D)/(D2*l),l3=l*l*l,hs=2*-weight/(D2*l3);for(isFinite(gs)||console.log(gs),i=0;i<this.k;++i)this.g[i][u]+=d[i]*gs,Huu[i]-=this.H[i][u][v]=hs*(l3+D*(d2[i]-sd2)+l*sd2)}}for(i=0;i<this.k;++i)maxH=Math.max(maxH,this.H[i][u][u]=Huu[i])}for(var r=this.snapGridSize/2,g=this.snapGridSize,w=this.snapStrength,k=w/(r*r),numNodes=this.numGridSnapNodes,u=0;u<numNodes;++u)for(i=0;i<this.k;++i){var xiu=this.x[i][u],m=xiu/g,f=m%1,q=m-f,a=Math.abs(f),dx=a<=.5?xiu-q*g:xiu>0?xiu-(q+1)*g:xiu-(q-1)*g;-r<dx&&dx<=r&&(this.scaleSnapByMaxH?(this.g[i][u]+=maxH*k*dx,this.H[i][u][u]+=maxH*k):(this.g[i][u]+=k*dx,this.H[i][u][u]+=k))}this.locks.isEmpty()||this.locks.apply(function(u,p){for(i=0;i<_this.k;++i)_this.H[i][u][u]+=maxH,_this.g[i][u]-=maxH*(p[i]-x[i][u])})}},Descent.dotProd=function(a,b){for(var x=0,i=a.length;i--;)x+=a[i]*b[i];return x},Descent.rightMultiply=function(m,v,r){for(var i=m.length;i--;)r[i]=Descent.dotProd(m[i],v)},Descent.prototype.computeStepSize=function(d){for(var numerator=0,denominator=0,i=0;i<this.k;++i)numerator+=Descent.dotProd(this.g[i],d[i]),Descent.rightMultiply(this.H[i],d[i],this.Hd[i]),denominator+=Descent.dotProd(d[i],this.Hd[i]);return 0!==denominator&&isFinite(denominator)?1*numerator/denominator:0},Descent.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var alpha=this.computeStepSize(this.g),i=0;i<this.k;++i)this.takeDescentStep(this.x[i],this.g[i],alpha);return this.computeStress()},Descent.copy=function(a,b){for(var m=a.length,n=b[0].length,i=0;i<m;++i)for(var j=0;j<n;++j)b[i][j]=a[i][j]},Descent.prototype.stepAndProject=function(x0,r,d,stepSize){Descent.copy(x0,r),this.takeDescentStep(r[0],d[0],stepSize),this.project&&this.project[0](x0[0],x0[1],r[0]),this.takeDescentStep(r[1],d[1],stepSize),this.project&&this.project[1](r[0],x0[1],r[1]);for(var i=2;i<this.k;i++)this.takeDescentStep(r[i],d[i],stepSize)},Descent.mApply=function(m,n,f){for(var i=m;i-- >0;)for(var j=n;j-- >0;)f(i,j)},Descent.prototype.matrixApply=function(f){Descent.mApply(this.k,this.n,f)},Descent.prototype.computeNextPosition=function(x0,r){var _this=this;this.computeDerivatives(x0);var alpha=this.computeStepSize(this.g);if(this.stepAndProject(x0,r,this.g,alpha),this.project){this.matrixApply(function(i,j){return _this.e[i][j]=x0[i][j]-r[i][j]});var beta=this.computeStepSize(this.e);beta=Math.max(.2,Math.min(beta,1)),this.stepAndProject(x0,r,this.e,beta)}},Descent.prototype.run=function(iterations){for(var stress=Number.MAX_VALUE,converged=!1;!converged&&iterations-- >0;){var s=this.rungeKutta();converged=Math.abs(stress/s-1)<this.threshold,stress=s}return stress},Descent.prototype.rungeKutta=function(){var _this=this;this.computeNextPosition(this.x,this.a),Descent.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),Descent.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var disp=0;return this.matrixApply(function(i,j){var x=(_this.a[i][j]+2*_this.b[i][j]+2*_this.c[i][j]+_this.d[i][j])/6,d=_this.x[i][j]-x;disp+=d*d,_this.x[i][j]=x}),disp},Descent.mid=function(a,b,m){Descent.mApply(a.length,a[0].length,function(i,j){return m[i][j]=a[i][j]+(b[i][j]-a[i][j])/2})},Descent.prototype.takeDescentStep=function(x,d,stepSize){for(var i=0;i<this.n;++i)x[i]=x[i]-stepSize*d[i]},Descent.prototype.computeStress=function(){for(var stress=0,u=0,nMinus1=this.n-1;u<nMinus1;++u)for(var v=u+1,n=this.n;v<n;++v){for(var l=0,i=0;i<this.k;++i){var dx=this.x[i][u]-this.x[i][v];l+=dx*dx}l=Math.sqrt(l);var d=this.D[u][v];if(isFinite(d)){var rl=d-l,d2=d*d;stress+=rl*rl/d2}}return stress},Descent.zeroDistance=1e-10,Descent}();exports.Descent=Descent;var PseudoRandom=function(){function PseudoRandom(seed){void 0===seed&&(seed=1),this.seed=seed,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return PseudoRandom.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},PseudoRandom.prototype.getNextBetween=function(min,max){return min+this.getNext()*(max-min)},PseudoRandom}();exports.PseudoRandom=PseudoRandom},785:function(module,exports,__webpack_require__){"use strict";function removeOverlapInOneDimension(spans,lowerBound,upperBound){for(var vs=spans.map(function(s){return new Variable(s.desiredCenter)}),cs=[],n=spans.length,i=0;i<n-1;i++){var left=spans[i],right=spans[i+1];cs.push(new Constraint(vs[i],vs[i+1],(left.size+right.size)/2))}var leftMost=vs[0],rightMost=vs[n-1],leftMostSize=spans[0].size/2,rightMostSize=spans[n-1].size/2,vLower=null,vUpper=null;return lowerBound&&(vLower=new Variable(lowerBound,1e3*leftMost.weight),vs.push(vLower),cs.push(new Constraint(vLower,leftMost,leftMostSize))),upperBound&&(vUpper=new Variable(upperBound,1e3*rightMost.weight),vs.push(vUpper),cs.push(new Constraint(rightMost,vUpper,rightMostSize))),new Solver(vs,cs).solve(),{newCenters:vs.slice(0,spans.length).map(function(v){return v.position()}),lowerBound:vLower?vLower.position():leftMost.position()-leftMostSize,upperBound:vUpper?vUpper.position():rightMost.position()+rightMostSize}}Object.defineProperty(exports,"__esModule",{value:!0});var PositionStats=function(){function PositionStats(scale){this.scale=scale,this.AB=0,this.AD=0,this.A2=0}return PositionStats.prototype.addVariable=function(v){var ai=this.scale/v.scale,bi=v.offset/v.scale,wi=v.weight;this.AB+=wi*ai*bi,this.AD+=wi*ai*v.desiredPosition,this.A2+=wi*ai*ai},PositionStats.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},PositionStats}();exports.PositionStats=PositionStats;var Constraint=function(){function Constraint(left,right,gap,equality){void 0===equality&&(equality=!1),this.left=left,this.right=right,this.gap=gap,this.equality=equality,this.active=!1,this.unsatisfiable=!1,this.left=left,this.right=right,this.gap=gap,this.equality=equality}return Constraint.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},Constraint}();exports.Constraint=Constraint;var Variable=function(){function Variable(desiredPosition,weight,scale){void 0===weight&&(weight=1),void 0===scale&&(scale=1),this.desiredPosition=desiredPosition,this.weight=weight,this.scale=scale,this.offset=0}return Variable.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},Variable.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},Variable.prototype.visitNeighbours=function(prev,f){var ff=function(c,next){return c.active&&prev!==next&&f(c,next)};this.cOut.forEach(function(c){return ff(c,c.right)}),this.cIn.forEach(function(c){return ff(c,c.left)})},Variable}();exports.Variable=Variable;var Block=function(){function Block(v){this.vars=[],v.offset=0,this.ps=new PositionStats(v.scale),this.addVariable(v)}return Block.prototype.addVariable=function(v){v.block=this,this.vars.push(v),this.ps.addVariable(v),this.posn=this.ps.getPosn()},Block.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var i=0,n=this.vars.length;i<n;++i)this.ps.addVariable(this.vars[i]);this.posn=this.ps.getPosn()},Block.prototype.compute_lm=function(v,u,postAction){var _this=this,dfdv=v.dfdv();return v.visitNeighbours(u,function(c,next){var _dfdv=_this.compute_lm(next,v,postAction);next===c.right?(dfdv+=_dfdv*c.left.scale,c.lm=_dfdv):(dfdv+=_dfdv*c.right.scale,c.lm=-_dfdv),postAction(c)}),dfdv/v.scale},Block.prototype.populateSplitBlock=function(v,prev){var _this=this;v.visitNeighbours(prev,function(c,next){next.offset=v.offset+(next===c.right?c.gap:-c.gap),_this.addVariable(next),_this.populateSplitBlock(next,v)})},Block.prototype.traverse=function(visit,acc,v,prev){var _this=this;void 0===v&&(v=this.vars[0]),void 0===prev&&(prev=null),v.visitNeighbours(prev,function(c,next){acc.push(visit(c)),_this.traverse(visit,acc,next,v)})},Block.prototype.findMinLM=function(){var m=null;return this.compute_lm(this.vars[0],null,function(c){!c.equality&&(null===m||c.lm<m.lm)&&(m=c)}),m},Block.prototype.findMinLMBetween=function(lv,rv){this.compute_lm(lv,null,function(){});var m=null;return this.findPath(lv,null,rv,function(c,next){!c.equality&&c.right===next&&(null===m||c.lm<m.lm)&&(m=c)}),m},Block.prototype.findPath=function(v,prev,to,visit){var _this=this,endFound=!1;return v.visitNeighbours(prev,function(c,next){endFound||next!==to&&!_this.findPath(next,v,to,visit)||(endFound=!0,visit(c,next))}),endFound},Block.prototype.isActiveDirectedPathBetween=function(u,v){if(u===v)return!0;for(var i=u.cOut.length;i--;){var c=u.cOut[i];if(c.active&&this.isActiveDirectedPathBetween(c.right,v))return!0}return!1},Block.split=function(c){return c.active=!1,[Block.createSplitBlock(c.left),Block.createSplitBlock(c.right)]},Block.createSplitBlock=function(startVar){var b=new Block(startVar);return b.populateSplitBlock(startVar,null),b},Block.prototype.splitBetween=function(vl,vr){var c=this.findMinLMBetween(vl,vr);if(null!==c){var bs=Block.split(c);return{constraint:c,lb:bs[0],rb:bs[1]}}return null},Block.prototype.mergeAcross=function(b,c,dist){c.active=!0;for(var i=0,n=b.vars.length;i<n;++i){var v=b.vars[i];v.offset+=dist,this.addVariable(v)}this.posn=this.ps.getPosn()},Block.prototype.cost=function(){for(var sum=0,i=this.vars.length;i--;){var v=this.vars[i],d=v.position()-v.desiredPosition;sum+=d*d*v.weight}return sum},Block}();exports.Block=Block;var Blocks=function(){function Blocks(vs){this.vs=vs;var n=vs.length;for(this.list=new Array(n);n--;){var b=new Block(vs[n]);this.list[n]=b,b.blockInd=n}}return Blocks.prototype.cost=function(){for(var sum=0,i=this.list.length;i--;)sum+=this.list[i].cost();return sum},Blocks.prototype.insert=function(b){b.blockInd=this.list.length,this.list.push(b)},Blocks.prototype.remove=function(b){var last=this.list.length-1,swapBlock=this.list[last];this.list.length=last,b!==swapBlock&&(this.list[b.blockInd]=swapBlock,swapBlock.blockInd=b.blockInd)},Blocks.prototype.merge=function(c){var l=c.left.block,r=c.right.block,dist=c.right.offset-c.left.offset-c.gap;l.vars.length<r.vars.length?(r.mergeAcross(l,c,dist),this.remove(l)):(l.mergeAcross(r,c,-dist),this.remove(r))},Blocks.prototype.forEach=function(f){this.list.forEach(f)},Blocks.prototype.updateBlockPositions=function(){this.list.forEach(function(b){return b.updateWeightedPosition()})},Blocks.prototype.split=function(inactive){var _this=this;this.updateBlockPositions(),this.list.forEach(function(b){var v=b.findMinLM();null!==v&&v.lm<Solver.LAGRANGIAN_TOLERANCE&&(b=v.left.block,Block.split(v).forEach(function(nb){return _this.insert(nb)}),_this.remove(b),inactive.push(v))})},Blocks}();exports.Blocks=Blocks;var Solver=function(){function Solver(vs,cs){this.vs=vs,this.cs=cs,this.vs=vs,vs.forEach(function(v){v.cIn=[],v.cOut=[]}),this.cs=cs,cs.forEach(function(c){c.left.cOut.push(c),c.right.cIn.push(c)}),this.inactive=cs.map(function(c){return c.active=!1,c}),this.bs=null}return Solver.prototype.cost=function(){return this.bs.cost()},Solver.prototype.setStartingPositions=function(ps){this.inactive=this.cs.map(function(c){return c.active=!1,c}),this.bs=new Blocks(this.vs),this.bs.forEach(function(b,i){return b.posn=ps[i]})},Solver.prototype.setDesiredPositions=function(ps){this.vs.forEach(function(v,i){return v.desiredPosition=ps[i]})},Solver.prototype.mostViolated=function(){for(var minSlack=Number.MAX_VALUE,v=null,l=this.inactive,n=l.length,deletePoint=n,i=0;i<n;++i){var c=l[i];if(!c.unsatisfiable){var slack=c.slack();if((c.equality||slack<minSlack)&&(minSlack=slack,v=c,deletePoint=i,c.equality))break}}return deletePoint!==n&&(minSlack<Solver.ZERO_UPPERBOUND&&!v.active||v.equality)&&(l[deletePoint]=l[n-1],l.length=n-1),v},Solver.prototype.satisfy=function(){null==this.bs&&(this.bs=new Blocks(this.vs)),this.bs.split(this.inactive);for(var v=null;(v=this.mostViolated())&&(v.equality||v.slack()<Solver.ZERO_UPPERBOUND&&!v.active);){var lb=v.left.block;if(lb!==v.right.block)this.bs.merge(v);else{if(lb.isActiveDirectedPathBetween(v.right,v.left)){v.unsatisfiable=!0;continue}var split=lb.splitBetween(v.left,v.right);if(null===split){v.unsatisfiable=!0;continue}this.bs.insert(split.lb),this.bs.insert(split.rb),this.bs.remove(lb),this.inactive.push(split.constraint),v.slack()>=0?this.inactive.push(v):this.bs.merge(v)}}},Solver.prototype.solve=function(){this.satisfy();for(var lastcost=Number.MAX_VALUE,cost=this.bs.cost();Math.abs(lastcost-cost)>1e-4;)this.satisfy(),lastcost=cost,cost=this.bs.cost();return cost},Solver.LAGRANGIAN_TOLERANCE=-1e-4,Solver.ZERO_UPPERBOUND=-1e-10,Solver}();exports.Solver=Solver,exports.removeOverlapInOneDimension=removeOverlapInOneDimension}},[3988]);